<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Chapter 8 Process Mining | Rapid R Data Viz Book</title>
  <meta name="description" content="Description" />
  <meta name="generator" content="bookdown 0.15 and GitBook 2.6.7" />

  <meta property="og:title" content="Chapter 8 Process Mining | Rapid R Data Viz Book" />
  <meta property="og:type" content="book" />
  
  
  <meta property="og:description" content="Description" />
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Chapter 8 Process Mining | Rapid R Data Viz Book" />
  
  <meta name="twitter:description" content="Description" />
  

<meta name="author" content="Bill Cockerill" />


<meta name="date" content="2020-02-02" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="animation.html"/>
<link rel="next" href="tables.html"/>
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />









<script src="libs/htmlwidgets-1.5.1/htmlwidgets.js"></script>
<script src="libs/trelliscopejs_widget-0.3.0/trelliscope.min.js"></script>
<script src="libs/trelliscopejs_widget-binding-0.2.1/trelliscopejs_widget.js"></script>
<script src="libs/plotly-binding-4.9.1/plotly.js"></script>
<script src="libs/typedarray-0.1/typedarray.min.js"></script>
<link href="libs/crosstalk-1.0.0/css/crosstalk.css" rel="stylesheet" />
<script src="libs/crosstalk-1.0.0/js/crosstalk.min.js"></script>
<link href="libs/plotly-htmlwidgets-css-1.49.4/plotly-htmlwidgets.css" rel="stylesheet" />
<script src="libs/plotly-main-1.49.4/plotly-latest.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="libs/bootstrap-3.3.2/css/bootstrap.min.css" rel="stylesheet" />
<script src="libs/bootstrap-3.3.2/js/bootstrap.min.js"></script>
<link href="libs/selectize-0.12.0/selectize.bootstrap3.css" rel="stylesheet" />
<script src="libs/selectize-0.12.0/selectize.min.js"></script>
<link href="libs/ionrangeslider-2.1.2/css/ion.rangeSlider.css" rel="stylesheet" />
<link href="libs/ionrangeslider-2.1.2/css/ion.rangeSlider.skinShiny.css" rel="stylesheet" />
<script src="libs/ionrangeslider-2.1.2/js/ion.rangeSlider.min.js"></script>
<script src="libs/strftime-0.9.2/strftime-min.js"></script>
<script src="libs/apexcharts-3.8.4/apexcharts.min.js"></script>
<script src="libs/apexcharter-binding-0.1.2/apexcharter.js"></script>
<link href="libs/dygraphs-1.1.1/dygraph.css" rel="stylesheet" />
<script src="libs/dygraphs-1.1.1/dygraph-combined.js"></script>
<script src="libs/dygraphs-1.1.1/shapes.js"></script>
<script src="libs/moment-2.8.4/moment.js"></script>
<script src="libs/moment-timezone-0.2.5/moment-timezone-with-data.js"></script>
<script src="libs/moment-fquarter-1.0.0/moment-fquarter.min.js"></script>
<script src="libs/dygraphs-binding-1.1.1.6/dygraphs.js"></script>
<link href="libs/datatables-css-0.0.0/datatables-crosstalk.css" rel="stylesheet" />
<script src="libs/datatables-binding-0.10/datatables.js"></script>
<link href="libs/dt-core-1.10.19/css/jquery.dataTables.min.css" rel="stylesheet" />
<link href="libs/dt-core-1.10.19/css/jquery.dataTables.extra.css" rel="stylesheet" />
<script src="libs/dt-core-1.10.19/js/jquery.dataTables.min.js"></script>
<link href="libs/dt-ext-fixedcolumns-1.10.19/css/fixedColumns.dataTables.min.css" rel="stylesheet" />
<script src="libs/dt-ext-fixedcolumns-1.10.19/js/dataTables.fixedColumns.min.js"></script>
<link href="libs/dt-ext-buttons-1.10.19/css/buttons.dataTables.min.css" rel="stylesheet" />
<script src="libs/dt-ext-buttons-1.10.19/js/dataTables.buttons.min.js"></script>
<script src="libs/dt-ext-buttons-1.10.19/js/buttons.flash.min.js"></script>
<script src="libs/dt-ext-buttons-1.10.19/js/buttons.html5.min.js"></script>
<script src="libs/dt-ext-buttons-1.10.19/js/buttons.colVis.min.js"></script>
<script src="libs/dt-ext-buttons-1.10.19/js/buttons.print.min.js"></script>
<link href="libs/nouislider-7.0.10/jquery.nouislider.min.css" rel="stylesheet" />
<script src="libs/nouislider-7.0.10/jquery.nouislider.min.js"></script>
<script src="libs/viz-0.3/viz.js"></script>
<link href="libs/DiagrammeR-styles-0.2/styles.css" rel="stylesheet" />
<script src="libs/grViz-binding-1.0.1/grViz.js"></script>
<link href="libs/jquery-ui-1.11.4/jquery-ui.min.css" rel="stylesheet" />
<script src="libs/jquery-ui-1.11.4/jquery-ui.min.js"></script>
<script src="libs/jquery-ui-1.11.4/jquery.ui.touch-punch.min.js"></script>
<link href="libs/c3-0.4.11/c3.min.css" rel="stylesheet" />
<script src="libs/c3-0.4.11/c3.min.js"></script>
<script src="libs/d3-3.5.5/d3.v3.min.js"></script>
<link href="libs/pivottable-2.19.0/pivot.min.css" rel="stylesheet" />
<script src="libs/pivottable-2.19.0/pivot.min.js"></script>
<script src="libs/pivottable-2.19.0/d3_renderers.min.js"></script>
<script src="libs/pivottable-2.19.0/c3_renderers.min.js"></script>
<script src="libs/pivottable-2.19.0/pivot.cs.min.js"></script>
<script src="libs/pivottable-2.19.0/pivot.da.min.js"></script>
<script src="libs/pivottable-2.19.0/pivot.de.min.js"></script>
<script src="libs/pivottable-2.19.0/pivot.es.min.js"></script>
<script src="libs/pivottable-2.19.0/pivot.fr.min.js"></script>
<script src="libs/pivottable-2.19.0/pivot.it.min.js"></script>
<script src="libs/pivottable-2.19.0/pivot.nl.min.js"></script>
<script src="libs/pivottable-2.19.0/pivot.pl.min.js"></script>
<script src="libs/pivottable-2.19.0/pivot.pt.min.js"></script>
<script src="libs/pivottable-2.19.0/pivot.ru.min.js"></script>
<script src="libs/pivottable-2.19.0/pivot.sq.min.js"></script>
<script src="libs/pivottable-2.19.0/pivot.tr.min.js"></script>
<script src="libs/pivottable-2.19.0/pivot.zh.min.js"></script>
<link href="libs/subtotal-1.10.0/subtotal.min.css" rel="stylesheet" />
<script src="libs/subtotal-1.10.0/subtotal.min.js"></script>
<script src="libs/polyfill-0.1/polyfill.min.js"></script>
<link href="libs/rpivotTable_style-0.1/rpivotTable.css" rel="stylesheet" />
<script src="libs/rpivotTable-binding-0.3.0/rpivotTable.js"></script>


<style type="text/css">
a.sourceLine { display: inline-block; line-height: 1.25; }
a.sourceLine { pointer-events: none; color: inherit; text-decoration: inherit; }
a.sourceLine:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
a.sourceLine { text-indent: -1em; padding-left: 1em; }
}
pre.numberSource a.sourceLine
  { position: relative; left: -4em; }
pre.numberSource a.sourceLine::before
  { content: attr(title);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; pointer-events: all; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {  }
@media screen {
a.sourceLine::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">Rapid R Data Viz Book</a></li>

<li class="divider"></li>
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> <span>tl;dr</span></a></li>
<li class="chapter" data-level="2" data-path="why-read-this.html"><a href="why-read-this.html"><i class="fa fa-check"></i><b>2</b> Why read this?</a><ul>
<li class="chapter" data-level="2.1" data-path="why-read-this.html"><a href="why-read-this.html#good-data-analysis-starts-with-fast-intuitive-eda"><i class="fa fa-check"></i><b>2.1</b> Good data analysis starts with fast &amp; intuitive EDA</a></li>
<li class="chapter" data-level="2.2" data-path="why-read-this.html"><a href="why-read-this.html#is-this-data-science"><i class="fa fa-check"></i><b>2.2</b> Is this Data Science?</a></li>
<li class="chapter" data-level="2.3" data-path="why-read-this.html"><a href="why-read-this.html#what-about-python-for-data-viz"><i class="fa fa-check"></i><b>2.3</b> What about Python for data viz?</a></li>
<li class="chapter" data-level="2.4" data-path="why-read-this.html"><a href="why-read-this.html#what-about-point-and-click-data-vis-tools"><i class="fa fa-check"></i><b>2.4</b> What about Point and Click data vis tools?</a></li>
<li class="chapter" data-level="2.5" data-path="why-read-this.html"><a href="why-read-this.html#find-an-r-master-to-inspire-you"><i class="fa fa-check"></i><b>2.5</b> Find an R master to inspire you</a><ul>
<li class="chapter" data-level="2.5.1" data-path="why-read-this.html"><a href="why-read-this.html#david-robinson"><i class="fa fa-check"></i><b>2.5.1</b> David Robinson</a></li>
<li class="chapter" data-level="2.5.2" data-path="why-read-this.html"><a href="why-read-this.html#claus-wilke"><i class="fa fa-check"></i><b>2.5.2</b> Claus Wilke</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="3" data-path="intro.html"><a href="intro.html"><i class="fa fa-check"></i><b>3</b> Setup</a><ul>
<li class="chapter" data-level="3.1" data-path="intro.html"><a href="intro.html#navigate-r-markdown-quickly"><i class="fa fa-check"></i><b>3.1</b> Navigate R markdown quickly</a></li>
<li class="chapter" data-level="3.2" data-path="intro.html"><a href="intro.html#rstudio-shortcuts"><i class="fa fa-check"></i><b>3.2</b> Rstudio shortcuts</a></li>
<li class="chapter" data-level="3.3" data-path="intro.html"><a href="intro.html#load-r-packages-to-your-library"><i class="fa fa-check"></i><b>3.3</b> Load R packages to your library</a></li>
<li class="chapter" data-level="3.4" data-path="intro.html"><a href="intro.html#the-data-to-visualise"><i class="fa fa-check"></i><b>3.4</b> The data to visualise</a></li>
<li class="chapter" data-level="3.5" data-path="intro.html"><a href="intro.html#qa-and-unit-tests"><i class="fa fa-check"></i><b>3.5</b> QA and Unit tests</a><ul>
<li class="chapter" data-level="3.5.1" data-path="intro.html"><a href="intro.html#tidylog"><i class="fa fa-check"></i><b>3.5.1</b> tidylog</a></li>
<li class="chapter" data-level="3.5.2" data-path="intro.html"><a href="intro.html#testthat"><i class="fa fa-check"></i><b>3.5.2</b> testthat</a></li>
<li class="chapter" data-level="3.5.3" data-path="intro.html"><a href="intro.html#assertr"><i class="fa fa-check"></i><b>3.5.3</b> assertr</a></li>
</ul></li>
<li class="chapter" data-level="3.6" data-path="intro.html"><a href="intro.html#code-style"><i class="fa fa-check"></i><b>3.6</b> Code style</a><ul>
<li class="chapter" data-level="3.6.1" data-path="intro.html"><a href="intro.html#rule-1-include-names-before-all-functions"><i class="fa fa-check"></i><b>3.6.1</b> Rule 1: Include names before all functions</a></li>
<li class="chapter" data-level="3.6.2" data-path="intro.html"><a href="intro.html#rule-2-add-argument-names-to-all-functions"><i class="fa fa-check"></i><b>3.6.2</b> Rule 2: Add argument names to all functions</a></li>
<li class="chapter" data-level="3.6.3" data-path="intro.html"><a href="intro.html#rule-3-each-line-does-one-thing"><i class="fa fa-check"></i><b>3.6.3</b> Rule 3: Each line does one thing</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="4" data-path="exploratory-data-analysis.html"><a href="exploratory-data-analysis.html"><i class="fa fa-check"></i><b>4</b> Exploratory Data Analysis</a><ul>
<li class="chapter" data-level="4.1" data-path="exploratory-data-analysis.html"><a href="exploratory-data-analysis.html#start-with-dplyr-counts-and-summaries-in-console"><i class="fa fa-check"></i><b>4.1</b> Start with dplyr counts and summaries in console</a></li>
<li class="chapter" data-level="4.2" data-path="exploratory-data-analysis.html"><a href="exploratory-data-analysis.html#plot-data-points-with-geom_point"><i class="fa fa-check"></i><b>4.2</b> Plot data points with geom_point()</a></li>
<li class="chapter" data-level="4.3" data-path="exploratory-data-analysis.html"><a href="exploratory-data-analysis.html#facet-by-categories"><i class="fa fa-check"></i><b>4.3</b> Facet by categories</a></li>
<li class="chapter" data-level="4.4" data-path="exploratory-data-analysis.html"><a href="exploratory-data-analysis.html#facet-interactively-trelliscopejs"><i class="fa fa-check"></i><b>4.4</b> Facet interactively (trelliscopejs)</a></li>
<li class="chapter" data-level="4.5" data-path="exploratory-data-analysis.html"><a href="exploratory-data-analysis.html#loop-to-plot-every-category-separately"><i class="fa fa-check"></i><b>4.5</b> Loop to plot every category separately</a></li>
<li class="chapter" data-level="4.6" data-path="exploratory-data-analysis.html"><a href="exploratory-data-analysis.html#polish-your-final-plot"><i class="fa fa-check"></i><b>4.6</b> Polish your final plot</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="why-start-with-geom-point.html"><a href="why-start-with-geom-point.html"><i class="fa fa-check"></i><b>5</b> Why start with geom_point() ?</a><ul>
<li class="chapter" data-level="5.1" data-path="why-start-with-geom-point.html"><a href="why-start-with-geom-point.html#ggplot-is-famed-for-annoying-errors"><i class="fa fa-check"></i><b>5.1</b> ggplot is famed for annoying errors</a></li>
<li class="chapter" data-level="5.2" data-path="why-start-with-geom-point.html"><a href="why-start-with-geom-point.html#retreat-to-geom_point"><i class="fa fa-check"></i><b>5.2</b> Retreat to geom_point()</a></li>
<li class="chapter" data-level="5.3" data-path="why-start-with-geom-point.html"><a href="why-start-with-geom-point.html#geom_jitter-and-geom_boxplot-is-better"><i class="fa fa-check"></i><b>5.3</b> geom_jitter() <strong>and</strong> geom_boxplot() is better</a></li>
<li class="chapter" data-level="5.4" data-path="why-start-with-geom-point.html"><a href="why-start-with-geom-point.html#final-choice-geom_jitter-and-stat_summary"><i class="fa fa-check"></i><b>5.4</b> Final choice: geom_jitter() <strong>and</strong> stat_summary()</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="interactive-plots.html"><a href="interactive-plots.html"><i class="fa fa-check"></i><b>6</b> Interactive plots</a><ul>
<li class="chapter" data-level="6.1" data-path="interactive-plots.html"><a href="interactive-plots.html#plotly-cheat-convert-ggplot-with-plotlyggplotly"><i class="fa fa-check"></i><b>6.1</b> Plotly cheat: convert ggplot with plotly::ggplotly()</a></li>
<li class="chapter" data-level="6.2" data-path="interactive-plots.html"><a href="interactive-plots.html#edit-ggplot-conversion-with-plotlyplotly_build"><i class="fa fa-check"></i><b>6.2</b> Edit ggplot conversion with plotly::plotly_build()</a></li>
<li class="chapter" data-level="6.3" data-path="interactive-plots.html"><a href="interactive-plots.html#plotly-basic"><i class="fa fa-check"></i><b>6.3</b> Plotly basic</a></li>
<li class="chapter" data-level="6.4" data-path="interactive-plots.html"><a href="interactive-plots.html#plotly-a-few-more-settings"><i class="fa fa-check"></i><b>6.4</b> plotly (a few more settings)</a></li>
<li class="chapter" data-level="6.5" data-path="interactive-plots.html"><a href="interactive-plots.html#plotly-bells-whistles"><i class="fa fa-check"></i><b>6.5</b> plotly (bells &amp; whistles)</a></li>
<li class="chapter" data-level="6.6" data-path="interactive-plots.html"><a href="interactive-plots.html#crosstalk"><i class="fa fa-check"></i><b>6.6</b> crosstalk</a></li>
<li class="chapter" data-level="6.7" data-path="interactive-plots.html"><a href="interactive-plots.html#apexcharter-basic"><i class="fa fa-check"></i><b>6.7</b> apexcharter basic</a></li>
<li class="chapter" data-level="6.8" data-path="interactive-plots.html"><a href="interactive-plots.html#apexcharter-bells-whistles"><i class="fa fa-check"></i><b>6.8</b> apexcharter (bells &amp; whistles)</a></li>
<li class="chapter" data-level="6.9" data-path="interactive-plots.html"><a href="interactive-plots.html#dygraphs-basic"><i class="fa fa-check"></i><b>6.9</b> dygraphs basic</a></li>
<li class="chapter" data-level="6.10" data-path="interactive-plots.html"><a href="interactive-plots.html#dygraphs-bells-whistles"><i class="fa fa-check"></i><b>6.10</b> dygraphs (bells &amp; whistles)</a></li>
</ul></li>
<li class="chapter" data-level="7" data-path="animation.html"><a href="animation.html"><i class="fa fa-check"></i><b>7</b> Animation</a><ul>
<li class="chapter" data-level="7.1" data-path="animation.html"><a href="animation.html#ggplot-animation"><i class="fa fa-check"></i><b>7.1</b> ggplot animation</a></li>
<li class="chapter" data-level="7.2" data-path="animation.html"><a href="animation.html#plotly-animation"><i class="fa fa-check"></i><b>7.2</b> plotly animation</a></li>
</ul></li>
<li class="chapter" data-level="8" data-path="process-mining.html"><a href="process-mining.html"><i class="fa fa-check"></i><b>8</b> Process Mining</a><ul>
<li class="chapter" data-level="8.1" data-path="process-mining.html"><a href="process-mining.html#what-is-process-mining"><i class="fa fa-check"></i><b>8.1</b> What is Process Mining?</a></li>
<li class="chapter" data-level="8.2" data-path="process-mining.html"><a href="process-mining.html#the-event-log"><i class="fa fa-check"></i><b>8.2</b> The event log</a><ul>
<li class="chapter" data-level="8.2.1" data-path="process-mining.html"><a href="process-mining.html#understanding-the-event-log"><i class="fa fa-check"></i><b>8.2.1</b> Understanding the event log</a></li>
</ul></li>
<li class="chapter" data-level="8.3" data-path="process-mining.html"><a href="process-mining.html#visualise-the-event-log"><i class="fa fa-check"></i><b>8.3</b> Visualise the event log</a><ul>
<li class="chapter" data-level="8.3.1" data-path="process-mining.html"><a href="process-mining.html#process-map"><i class="fa fa-check"></i><b>8.3.1</b> Process map</a></li>
<li class="chapter" data-level="8.3.2" data-path="process-mining.html"><a href="process-mining.html#trace-explorer"><i class="fa fa-check"></i><b>8.3.2</b> Trace explorer</a></li>
<li class="chapter" data-level="8.3.3" data-path="process-mining.html"><a href="process-mining.html#conformance-checking"><i class="fa fa-check"></i><b>8.3.3</b> Conformance checking</a></li>
<li class="chapter" data-level="8.3.4" data-path="process-mining.html"><a href="process-mining.html#dotted-chart"><i class="fa fa-check"></i><b>8.3.4</b> Dotted chart</a></li>
<li class="chapter" data-level="8.3.5" data-path="process-mining.html"><a href="process-mining.html#resource-exploration"><i class="fa fa-check"></i><b>8.3.5</b> Resource exploration</a></li>
<li class="chapter" data-level="8.3.6" data-path="process-mining.html"><a href="process-mining.html#bespoke-exploration"><i class="fa fa-check"></i><b>8.3.6</b> Bespoke exploration</a></li>
<li class="chapter" data-level="8.3.7" data-path="process-mining.html"><a href="process-mining.html#creating-your-own-event-log"><i class="fa fa-check"></i><b>8.3.7</b> Creating your own event log</a></li>
</ul></li>
<li class="chapter" data-level="8.4" data-path="process-mining.html"><a href="process-mining.html#can-we-predict-the-age-of-a-case"><i class="fa fa-check"></i><b>8.4</b> Can we predict the age of a case?</a></li>
<li class="chapter" data-level="8.5" data-path="process-mining.html"><a href="process-mining.html#process-discovery-algorithms"><i class="fa fa-check"></i><b>8.5</b> Process Discovery algorithms</a><ul>
<li class="chapter" data-level="8.5.1" data-path="process-mining.html"><a href="process-mining.html#flexible-heuristics-miner"><i class="fa fa-check"></i><b>8.5.1</b> Flexible Heuristics Miner</a></li>
<li class="chapter" data-level="8.5.2" data-path="process-mining.html"><a href="process-mining.html#fuzzy-miner"><i class="fa fa-check"></i><b>8.5.2</b> Fuzzy miner</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="9" data-path="tables.html"><a href="tables.html"><i class="fa fa-check"></i><b>9</b> Tables</a><ul>
<li class="chapter" data-level="9.1" data-path="tables.html"><a href="tables.html#datatable-basic"><i class="fa fa-check"></i><b>9.1</b> DataTable basic</a></li>
<li class="chapter" data-level="9.2" data-path="tables.html"><a href="tables.html#datatable-bells-whistles"><i class="fa fa-check"></i><b>9.2</b> DataTable (bells &amp; whistles)</a></li>
<li class="chapter" data-level="9.3" data-path="tables.html"><a href="tables.html#colour-datatable-with-formattable"><i class="fa fa-check"></i><b>9.3</b> Colour DataTable with formattable</a></li>
<li class="chapter" data-level="9.4" data-path="tables.html"><a href="tables.html#rpivottable-basic"><i class="fa fa-check"></i><b>9.4</b> rpivottable basic</a></li>
<li class="chapter" data-level="9.5" data-path="tables.html"><a href="tables.html#rpivottable-bells-whistles"><i class="fa fa-check"></i><b>9.5</b> rpivottable (bells &amp; whistles)</a></li>
</ul></li>
<li class="chapter" data-level="10" data-path="colours.html"><a href="colours.html"><i class="fa fa-check"></i><b>10</b> Colours</a><ul>
<li class="chapter" data-level="10.1" data-path="colours.html"><a href="colours.html#rcolorbrewer"><i class="fa fa-check"></i><b>10.1</b> RColorBrewer</a></li>
<li class="chapter" data-level="10.2" data-path="colours.html"><a href="colours.html#prismatic"><i class="fa fa-check"></i><b>10.2</b> Prismatic</a></li>
<li class="chapter" data-level="10.3" data-path="colours.html"><a href="colours.html#hand-picked-colours"><i class="fa fa-check"></i><b>10.3</b> Hand-picked colours</a></li>
</ul></li>
<li class="chapter" data-level="11" data-path="final-document.html"><a href="final-document.html"><i class="fa fa-check"></i><b>11</b> Final document</a><ul>
<li class="chapter" data-level="11.1" data-path="final-document.html"><a href="final-document.html#picking-a-final-output-doc"><i class="fa fa-check"></i><b>11.1</b> Picking a final output doc</a></li>
<li class="chapter" data-level="11.2" data-path="final-document.html"><a href="final-document.html#flexdashboard-vs-shiny"><i class="fa fa-check"></i><b>11.2</b> flexdashboard (vs Shiny)</a></li>
<li class="chapter" data-level="11.3" data-path="final-document.html"><a href="final-document.html#r-markdown-with-floating-contents-and-tabbed-sections"><i class="fa fa-check"></i><b>11.3</b> R markdown with floating contents and tabbed sections</a></li>
<li class="chapter" data-level="11.4" data-path="final-document.html"><a href="final-document.html#bookdown"><i class="fa fa-check"></i><b>11.4</b> bookdown</a></li>
</ul></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Rapid R Data Viz Book</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="process-mining" class="section level1">
<h1><span class="header-section-number">Chapter 8</span> Process Mining</h1>
<div id="what-is-process-mining" class="section level2">
<h2><span class="header-section-number">8.1</span> What is Process Mining?</h2>
<ul>
<li><p><a href="http://www.processmining.org/">Process mining</a> techniques can visualise the many paths that cases can take in organisations. For example, a patient being treated in a hospital or a complaint handled by a train company. However, seeing every path cases take in a process map is often overwhelming. Fortunately, there are many ways to simplify process maps we explore in this chapter.</p></li>
<li><p>Data science techniques can also be applied to process mined data. For example, predicting the time it will take a case to complete a process, or recommending the next best step that should shorten the time to a case completing.</p></li>
<li><p>The <a href="https://www.coursera.org/learn/process-mining">Coursera Process Mining course</a> and accompanying <a href="https://www.springer.com/gp/book/9783662498507">Process Mining: Data Science in Action book</a> provide a detailed background to these techniques and their applications in different industries. There is also a free to read <a href="http://processminingbook.com">Process Mining in Practice book</a> by the same author.</p></li>
<li><p>The minimum data needed for process mining are two columns that record:</p>
<ol style="list-style-type: decimal">
<li><strong>Activity:</strong> The activities (or events) that took place in the process.</li>
<li><strong>Date:</strong> The date (and perhaps time) each activity occurred.
<br><br></li>
</ol></li>
<li><p>For example, knowing how and when a complaint is handled in different ways are the two minimum pieces of information needed for process mining in data. Three further data items will offer more insight:</p>
<ol style="list-style-type: decimal">
<li><strong>Resource:</strong> The person (or system) that carried out each activity in the process. This is known as the “resource”.</li>
<li><strong>Lifecycle:</strong> The transaction lifecycle of the case at each activity. For example, is the case at “start”, “in progress”, or “complete”.</li>
<li><strong>State:</strong> The state the case was moved into by each activity. This is usually a greater level of detail below the broad transaction lifecycle categories.
<br><br></li>
</ol></li>
<li><p>For example, the data could tell us the customer is the resource who carried out the payment activity which moves its transaction lifecycle to “complete” and into the state “paid”.</p></li>
</ul>
</div>
<div id="the-event-log" class="section level2">
<h2><span class="header-section-number">8.2</span> The event log</h2>
<div id="understanding-the-event-log" class="section level3">
<h3><span class="header-section-number">8.2.1</span> Understanding the event log</h3>
<ul>
<li><p>The <a href="https://www.bupar.net/eventdataR.html"><code>eventdataR</code></a> package contains both artificial and real life event logs. It comes from a family of process mining packages called <a href="https://www.bupar.net/"><code>bupaR</code></a> which stands for Business Process Analysis with R. The <a href="https://www.bupar.net/materials/20170904%20poster%20bupaR.pdf">bupaR cheatsheet</a> summaries the key functions from the family of packages in one clear page.</p></li>
<li><p>Let’s walk through key process mining techniques in a logical order using the <a href="https://www.bupar.net/eventdataR.html#hospital_billing"><code>hospital_billing</code></a> event log from <code>eventdataR</code>. How it was created and anonymised is described <a href="https://data.4tu.nl/repository/uuid:76c46b83-c930-4798-a1c9-4be94dfeb741">here</a>. Also, the academic paper <a href="https://wwwis.win.tue.nl/~wvdaalst/publications/p914.pdf">Data-driven process discovery: revealing conditional infrequent behavior from event logs</a> explores the same hospital billing event log in figure 6.</p></li>
<li><p>The example hospital billing event log has already been created for us. Putting it into the <code>utils::str()</code> function shows us the structure of this R object. The output shows that log holds number of cases, activities, resources, and “traces”. Traces are the unique paths cases take through different activities. Resources are typically the names of people who carried out each activity.</p></li>
</ul>
<div class="sourceCode" id="cb119"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb119-1" title="1">utils<span class="op">::</span><span class="kw">str</span>(eventdataR<span class="op">::</span>hospital_billing)</a></code></pre></div>
<pre><code>## Classes &#39;eventlog&#39;, &#39;tbl_df&#39;, &#39;tbl&#39; and &#39;data.frame&#39;:    49951 obs. of  25 variables:
##  $ case_id             : chr  &quot;A&quot; &quot;A&quot; &quot;A&quot; &quot;A&quot; ...
##  $ activity            : Factor w/ 18 levels &quot;BILLED&quot;,&quot;CHANGE DIAGN&quot;,..: 12 9 14 6 1 12 7 12 9 14 ...
##  $ lifecycle           : Factor w/ 1 level &quot;complete&quot;: 1 1 1 1 1 1 1 1 1 1 ...
##  $ resource            : Factor w/ 1150 levels &quot;ResA&quot;,&quot;ResAA&quot;,..: 1 NA NA NA 46 1 91 1 NA NA ...
##  $ timestamp           : POSIXct, format: &quot;2012-12-16 19:33:10&quot; &quot;2013-12-15 19:00:37&quot; ...
##  $ actorange           : chr  NA NA NA &quot;false&quot; ...
##  $ actred              : chr  NA NA NA &quot;false&quot; ...
##  $ blocked             : chr  &quot;false&quot; NA NA NA ...
##  $ casetype            : chr  &quot;A&quot; NA NA NA ...
##  $ closecode           : chr  NA &quot;A&quot; NA NA ...
##  $ diagnosis           : chr  &quot;A&quot; NA NA NA ...
##  $ flaga               : chr  &quot;false&quot; NA NA NA ...
##  $ flagb               : chr  &quot;false&quot; NA NA NA ...
##  $ flagc               : chr  NA NA NA &quot;false&quot; ...
##  $ flagd               : chr  &quot;true&quot; NA NA NA ...
##  $ iscancelled         : chr  &quot;false&quot; NA NA NA ...
##  $ isclosed            : chr  &quot;true&quot; NA NA NA ...
##  $ msgcode             : chr  NA NA NA NA ...
##  $ msgcount            : int  NA NA NA 0 NA NA NA NA NA NA ...
##  $ msgtype             : chr  NA NA NA NA ...
##  $ speciality          : chr  &quot;A&quot; NA NA NA ...
##  $ state               : chr  &quot;In progress&quot; &quot;Closed&quot; &quot;Released&quot; NA ...
##  $ version             : chr  NA NA NA &quot;A&quot; ...
##  $ activity_instance_id: chr  &quot;1&quot; &quot;2&quot; &quot;3&quot; &quot;4&quot; ...
##  $ .order              : int  1 2 3 4 5 6 7 8 9 10 ...
##  - attr(*, &quot;case_id&quot;)= chr &quot;case_id&quot;
##  - attr(*, &quot;activity_id&quot;)= chr &quot;activity&quot;
##  - attr(*, &quot;activity_instance_id&quot;)= chr &quot;activity_instance_id&quot;
##  - attr(*, &quot;lifecycle_id&quot;)= chr &quot;lifecycle&quot;
##  - attr(*, &quot;resource_id&quot;)= chr &quot;resource&quot;
##  - attr(*, &quot;timestamp&quot;)= chr &quot;timestamp&quot;</code></pre>
<ul>
<li>Also, at the bottom of the output above, the event log has six additional <a href="http://adv-r.had.co.nz/Data-structures.html#attributes">attributes</a>:
<ol style="list-style-type: decimal">
<li><code>case_id</code> a unique case id to tell us which activity rows belong to each case.</li>
<li><code>activity</code> a description of what happened.</li>
<li><code>activity_instance_id</code> a unique id for each activity.</li>
<li><code>lifecycle</code> the status of the case at each activity such as “complete”.</li>
<li><code>resource</code> who did the activity.</li>
<li><code>timestamp</code> when the activity happened.</li>
</ol></li>
<li>We return just those attributes below..</li>
</ul>
<div class="sourceCode" id="cb121"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb121-1" title="1"><span class="kw">str</span>(base<span class="op">::</span><span class="kw">attributes</span>(eventdataR<span class="op">::</span>hospital_billing))</a></code></pre></div>
<pre><code>## List of 9
##  $ names               : chr [1:25] &quot;case_id&quot; &quot;activity&quot; &quot;lifecycle&quot; &quot;resource&quot; ...
##  $ row.names           : int [1:49951] 1 2 3 4 5 6 7 8 9 10 ...
##  $ case_id             : chr &quot;case_id&quot;
##  $ activity_id         : chr &quot;activity&quot;
##  $ activity_instance_id: chr &quot;activity_instance_id&quot;
##  $ lifecycle_id        : chr &quot;lifecycle&quot;
##  $ resource_id         : chr &quot;resource&quot;
##  $ timestamp           : chr &quot;timestamp&quot;
##  $ class               : chr [1:4] &quot;eventlog&quot; &quot;tbl_df&quot; &quot;tbl&quot; &quot;data.frame&quot;</code></pre>
<ul>
<li>We would typically expect cases to be in one of several states as they pass through a process. Below we can see all the values of the <code>state</code> column. It appears that <code>state</code> has not been used to create a <code>lifecycle</code> attribute in the event log that would define when the case is “complete”. Instead, all cases have been marked as “complete” at every activity.</li>
</ul>
<div class="sourceCode" id="cb123"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb123-1" title="1">eventdataR<span class="op">::</span>hospital_billing <span class="op">%&gt;%</span><span class="st"> </span>dplyr<span class="op">::</span><span class="kw">count</span>(state)</a></code></pre></div>
<pre><code>## # A tibble: 11 x 2
##    state                n
##    &lt;chr&gt;            &lt;int&gt;
##  1 Billable           499
##  2 Billed            7432
##  3 Check                1
##  4 Closed            7886
##  5 Empty              179
##  6 In progress      17809
##  7 Invoice rejected   229
##  8 Rejected            70
##  9 Released          7909
## 10 Unbillable          84
## 11 &lt;NA&gt;              7853</code></pre>
<div class="sourceCode" id="cb125"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb125-1" title="1">eventdataR<span class="op">::</span>hospital_billing <span class="op">%&gt;%</span><span class="st"> </span>dplyr<span class="op">::</span><span class="kw">count</span>(lifecycle)</a></code></pre></div>
<pre><code>## # A tibble: 1 x 2
##   lifecycle     n
##   &lt;fct&gt;     &lt;int&gt;
## 1 complete  49951</code></pre>
<ul>
<li>This heatmap counts the activities and the state they were in at the time the activity was carried out.</li>
</ul>
<div class="sourceCode" id="cb127"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb127-1" title="1">eventdataR<span class="op">::</span>hospital_billing <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb127-2" title="2"><span class="st">  </span>dplyr<span class="op">::</span><span class="kw">count</span>(activity,state) <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb127-3" title="3"><span class="st">  </span>ggplot2<span class="op">::</span><span class="kw">ggplot</span>() <span class="op">+</span></a>
<a class="sourceLine" id="cb127-4" title="4"><span class="st">  </span>ggplot2<span class="op">::</span><span class="kw">aes</span>(<span class="dt">x =</span> state,</a>
<a class="sourceLine" id="cb127-5" title="5">               <span class="dt">y =</span> activity,</a>
<a class="sourceLine" id="cb127-6" title="6">               <span class="dt">fill =</span> n) <span class="op">+</span></a>
<a class="sourceLine" id="cb127-7" title="7"><span class="st">  </span>ggplot2<span class="op">::</span><span class="kw">geom_tile</span>(<span class="dt">width=</span><span class="fl">0.9</span>, </a>
<a class="sourceLine" id="cb127-8" title="8">                     <span class="dt">height=</span><span class="fl">0.9</span>)<span class="op">+</span><span class="st"> </span></a>
<a class="sourceLine" id="cb127-9" title="9"><span class="st">  </span>ggplot2<span class="op">::</span><span class="kw">geom_text</span>(<span class="kw">aes</span>(<span class="dt">label =</span>  base<span class="op">::</span><span class="kw">ifelse</span>(n<span class="op">&gt;</span><span class="dv">0</span>,</a>
<a class="sourceLine" id="cb127-10" title="10">                                               base<span class="op">::</span><span class="kw">format</span>(n, </a>
<a class="sourceLine" id="cb127-11" title="11">                                                            <span class="dt">big.mark =</span> <span class="st">&quot;,&quot;</span>, </a>
<a class="sourceLine" id="cb127-12" title="12">                                                            <span class="dt">scientific =</span> <span class="ot">FALSE</span>),</a>
<a class="sourceLine" id="cb127-13" title="13">                                               <span class="ot">NA</span>)), </a>
<a class="sourceLine" id="cb127-14" title="14">                     <span class="dt">size =</span> <span class="dv">3</span>) <span class="op">+</span></a>
<a class="sourceLine" id="cb127-15" title="15"><span class="st">  </span>ggplot2<span class="op">::</span><span class="kw">scale_fill_gradient</span>(<span class="dt">low =</span> <span class="st">&quot;white&quot;</span>, </a>
<a class="sourceLine" id="cb127-16" title="16">                               <span class="dt">high =</span> <span class="st">&quot;red&quot;</span>,</a>
<a class="sourceLine" id="cb127-17" title="17">                               <span class="dt">limits =</span> <span class="kw">c</span>(<span class="op">-</span><span class="dv">500</span>,<span class="dv">12000</span>)) <span class="op">+</span></a>
<a class="sourceLine" id="cb127-18" title="18"><span class="st">  </span>ggplot2<span class="op">::</span><span class="kw">theme_minimal</span>() <span class="op">+</span></a>
<a class="sourceLine" id="cb127-19" title="19"><span class="st">  </span>ggplot2<span class="op">::</span><span class="kw">theme</span>(<span class="dt">axis.text.x =</span> <span class="kw">element_text</span>(<span class="dt">angle =</span> <span class="dv">60</span>, </a>
<a class="sourceLine" id="cb127-20" title="20">                                            <span class="dt">hjust =</span> <span class="dv">1</span>),</a>
<a class="sourceLine" id="cb127-21" title="21">                 <span class="dt">legend.position =</span> <span class="st">&quot;none&quot;</span>,</a>
<a class="sourceLine" id="cb127-22" title="22">                 <span class="dt">axis.title.y =</span> <span class="kw">element_text</span>(<span class="dt">angle =</span> <span class="dv">0</span>,</a>
<a class="sourceLine" id="cb127-23" title="23">                                             <span class="dt">vjust =</span> <span class="fl">0.5</span>)) <span class="op">+</span></a>
<a class="sourceLine" id="cb127-24" title="24"><span class="st">  </span>ggplot2<span class="op">::</span><span class="kw">labs</span>(<span class="dt">x =</span> <span class="st">&quot;State&quot;</span>,</a>
<a class="sourceLine" id="cb127-25" title="25">                <span class="dt">y =</span> <span class="st">&quot;Activity&quot;</span>,</a>
<a class="sourceLine" id="cb127-26" title="26">                <span class="dt">title =</span> <span class="st">&quot;Case activities and the case state the activity creates&quot;</span>)</a></code></pre></div>
<p><img src="bookdown-demo_files/figure-html/unnamed-chunk-50-1.png" width="672" /></p>
<ul>
<li><p>The states <code>Billed</code>, <code>Closed</code> and <code>Released</code> are almost entirely triggered by one activity (<code>BILLED</code>, <code>FIN</code>, and <code>RELEASE</code> respectively). Only the state <code>In progress</code> is triggered by more than one activity, though it is almost entirely the activities <code>NEW</code> and <code>CHANGE DIAGN</code>, followed by <code>DELETE</code>, <code>REOPEN</code> in smaller numbers.</p></li>
<li><p>With more domain knowledge from an expert who works with the real life process it would be possible to create a useful lifecycle attribute. For example, a sensible categorisation might be to:</p>
<ol style="list-style-type: decimal">
<li>assign the value of <code>lifecycle</code> to “complete” for rows with the state values <code>Billed</code>, <code>Closed</code>, <code>Invoice rejected</code>, <code>Rejected</code>, <code>Released</code> or <code>Unbillable</code>.</li>
<li>assign the value of <code>lifecycle</code> to “in progress” for rows with the state values <code>Billable</code> and <code>In progress</code>, and,</li>
<li>assign the value of <code>lifecycle</code> to “start” when the activity is <code>NEW</code>.</li>
</ol></li>
<li><p>Some state values are <code>NA</code>. These missing values could be imputed with the last known value of state when it was not <code>NA</code>.</p></li>
</ul>
</div>
</div>
<div id="visualise-the-event-log" class="section level2">
<h2><span class="header-section-number">8.3</span> Visualise the event log</h2>
<ul>
<li>To quickly and intuitively understand the hospital billing event log we can explore it like any other data frame or tibble in R. First we view all the events for three cases using <code>dplyr</code> verbs and <code>DT::datatable()</code>.</li>
</ul>
<div class="sourceCode" id="cb128"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb128-1" title="1">eventdataR<span class="op">::</span>hospital_billing <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb128-2" title="2"><span class="st">  </span>dplyr<span class="op">::</span><span class="kw">filter</span>(case_id <span class="op">%in%</span><span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;A&quot;</span>,<span class="st">&quot;B&quot;</span>,<span class="st">&quot;C&quot;</span>)) <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb128-3" title="3"><span class="st">  </span>dplyr<span class="op">::</span><span class="kw">select</span>(case_id,activity,resource,timestamp,state,lifecycle) <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb128-4" title="4"><span class="st">  </span>dplyr<span class="op">::</span><span class="kw">arrange</span>(case_id,timestamp) <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb128-5" title="5"><span class="st">  </span>DT<span class="op">::</span><span class="kw">datatable</span>(</a>
<a class="sourceLine" id="cb128-6" title="6">    <span class="dt">caption =</span> <span class="st">&quot;Top &quot;</span>,</a>
<a class="sourceLine" id="cb128-7" title="7">    <span class="dt">filter =</span> <span class="st">&quot;top&quot;</span>,</a>
<a class="sourceLine" id="cb128-8" title="8">    <span class="dt">extensions =</span> <span class="kw">c</span>(<span class="st">&quot;FixedColumns&quot;</span>, <span class="st">&quot;Buttons&quot;</span>),</a>
<a class="sourceLine" id="cb128-9" title="9">    <span class="dt">options =</span> <span class="kw">list</span>(<span class="dt">columnDefs =</span> <span class="kw">list</span>(<span class="kw">list</span>(<span class="dt">width =</span> <span class="st">&quot;150px&quot;</span>, </a>
<a class="sourceLine" id="cb128-10" title="10">                                          <span class="dt">targets =</span> <span class="kw">c</span>(<span class="dv">4</span>))))</a>
<a class="sourceLine" id="cb128-11" title="11">  )</a></code></pre></div>
<div id="htmlwidget-2a84fc2d3d0eca66850b" style="width:100%;height:auto;" class="datatables html-widget"></div>
<script type="application/json" data-for="htmlwidget-2a84fc2d3d0eca66850b">{"x":{"filter":"top","filterHTML":"<tr>\n  <td><\/td>\n  <td data-type=\"character\" style=\"vertical-align: top;\">\n    <div class=\"form-group has-feedback\" style=\"margin-bottom: auto;\">\n      <input type=\"search\" placeholder=\"All\" class=\"form-control\" style=\"width: 100%;\"/>\n      <span class=\"glyphicon glyphicon-remove-circle form-control-feedback\"><\/span>\n    <\/div>\n  <\/td>\n  <td data-type=\"factor\" style=\"vertical-align: top;\">\n    <div class=\"form-group has-feedback\" style=\"margin-bottom: auto;\">\n      <input type=\"search\" placeholder=\"All\" class=\"form-control\" style=\"width: 100%;\"/>\n      <span class=\"glyphicon glyphicon-remove-circle form-control-feedback\"><\/span>\n    <\/div>\n    <div style=\"width: 100%; display: none;\">\n      <select multiple=\"multiple\" style=\"width: 100%;\" data-options=\"[&quot;BILLED&quot;,&quot;CHANGE DIAGN&quot;,&quot;CODE OK&quot;,&quot;DELETE&quot;,&quot;FIN&quot;,&quot;NEW&quot;,&quot;RELEASE&quot;,&quot;REOPEN&quot;]\"><\/select>\n    <\/div>\n  <\/td>\n  <td data-type=\"factor\" style=\"vertical-align: top;\">\n    <div class=\"form-group has-feedback\" style=\"margin-bottom: auto;\">\n      <input type=\"search\" placeholder=\"All\" class=\"form-control\" style=\"width: 100%;\"/>\n      <span class=\"glyphicon glyphicon-remove-circle form-control-feedback\"><\/span>\n    <\/div>\n    <div style=\"width: 100%; display: none;\">\n      <select multiple=\"multiple\" style=\"width: 100%;\" data-options=\"[&quot;ResA&quot;,&quot;ResB&quot;,&quot;ResC&quot;,&quot;ResD&quot;]\"><\/select>\n    <\/div>\n  <\/td>\n  <td data-type=\"time\" style=\"vertical-align: top;\">\n    <div class=\"form-group has-feedback\" style=\"margin-bottom: auto;\">\n      <input type=\"search\" placeholder=\"All\" class=\"form-control\" style=\"width: 100%;\"/>\n      <span class=\"glyphicon glyphicon-remove-circle form-control-feedback\"><\/span>\n    <\/div>\n    <div style=\"display: none; position: absolute; width: 200px;\">\n      <div data-min=\"1355686390000\" data-max=\"1387424671000\"><\/div>\n      <span style=\"float: left;\"><\/span>\n      <span style=\"float: right;\"><\/span>\n    <\/div>\n  <\/td>\n  <td data-type=\"character\" style=\"vertical-align: top;\">\n    <div class=\"form-group has-feedback\" style=\"margin-bottom: auto;\">\n      <input type=\"search\" placeholder=\"All\" class=\"form-control\" style=\"width: 100%;\"/>\n      <span class=\"glyphicon glyphicon-remove-circle form-control-feedback\"><\/span>\n    <\/div>\n  <\/td>\n  <td data-type=\"disabled\" style=\"vertical-align: top;\">\n    <div class=\"form-group has-feedback\" style=\"margin-bottom: auto;\">\n      <input type=\"search\" placeholder=\"All\" class=\"form-control\" style=\"width: 100%;\"/>\n      <span class=\"glyphicon glyphicon-remove-circle form-control-feedback\"><\/span>\n    <\/div>\n  <\/td>\n  <td data-type=\"character\" style=\"vertical-align: top;\">\n    <div class=\"form-group has-feedback\" style=\"margin-bottom: auto;\">\n      <input type=\"search\" placeholder=\"All\" class=\"form-control\" style=\"width: 100%;\"/>\n      <span class=\"glyphicon glyphicon-remove-circle form-control-feedback\"><\/span>\n    <\/div>\n  <\/td>\n  <td data-type=\"integer\" style=\"vertical-align: top;\">\n    <div class=\"form-group has-feedback\" style=\"margin-bottom: auto;\">\n      <input type=\"search\" placeholder=\"All\" class=\"form-control\" style=\"width: 100%;\"/>\n      <span class=\"glyphicon glyphicon-remove-circle form-control-feedback\"><\/span>\n    <\/div>\n    <div style=\"display: none; position: absolute; width: 200px;\">\n      <div data-min=\"1\" data-max=\"17\"><\/div>\n      <span style=\"float: left;\"><\/span>\n      <span style=\"float: right;\"><\/span>\n    <\/div>\n  <\/td>\n<\/tr>","extensions":["FixedColumns","Buttons"],"caption":"<caption>Top <\/caption>","data":[["1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17"],["A","A","A","A","A","B","B","C","C","C","C","C","C","C","C","C","C"],["NEW","FIN","RELEASE","CODE OK","BILLED","NEW","DELETE","NEW","FIN","RELEASE","CODE OK","REOPEN","CHANGE DIAGN","FIN","RELEASE","CODE OK","BILLED"],["ResA",null,null,null,"ResB","ResA","ResC","ResA",null,null,null,"ResD",null,"ResA",null,null,"ResB"],["2012-12-16T19:33:10Z","2013-12-15T19:00:37Z","2013-12-16T03:53:38Z","2013-12-17T12:56:29Z","2013-12-19T03:44:31Z","2012-12-16T19:33:50Z","2013-10-19T12:37:05Z","2013-01-13T21:04:24Z","2013-04-17T19:59:43Z","2013-04-18T02:30:35Z","2013-04-21T01:55:12Z","2013-05-01T14:41:32Z","2013-05-01T14:41:54Z","2013-05-02T20:33:39Z","2013-05-03T04:03:17Z","2013-05-03T05:21:24Z","2013-05-23T07:32:15Z"],["In progress","Closed","Released",null,"Billed","In progress","In progress","In progress","Closed","Released",null,"In progress","In progress","Closed","Released",null,"Billed"],["complete","complete","complete","complete","complete","complete","complete","complete","complete","complete","complete","complete","complete","complete","complete","complete","complete"],["1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17"],[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th> <\/th>\n      <th>case_id<\/th>\n      <th>activity<\/th>\n      <th>resource<\/th>\n      <th>timestamp<\/th>\n      <th>state<\/th>\n      <th>lifecycle<\/th>\n      <th>activity_instance_id<\/th>\n      <th>.order<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"columnDefs":[{"width":"150px","targets":4},{"className":"dt-right","targets":8},{"orderable":false,"targets":0}],"order":[],"autoWidth":false,"orderClasses":false,"orderCellsTop":true}},"evals":[],"jsHooks":[]}</script>
<ul>
<li><p>In this table the cases A and C have a final <code>activity</code> of <code>BILLED</code>. The <code>state</code> that the <code>BILLED</code> activity moves the cases into is also called <code>Billed</code>.</p></li>
<li><p>In contrast, for case B the <code>BILLED</code> activity was not carried out. Its final state in the log is <code>DELETE</code>. Perhaps the hospital bill for this person was withdrawn or cancelled for some reason?</p></li>
</ul>
<div id="process-map" class="section level3">
<h3><span class="header-section-number">8.3.1</span> Process map</h3>
<ul>
<li>We can quickly create <a href="https://www.bupar.net/processmaps.html">process maps</a> from an event log using the function <code>processmapR::process_map()</code>.</li>
</ul>
<div class="sourceCode" id="cb129"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb129-1" title="1">eventdataR<span class="op">::</span>hospital_billing <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb129-2" title="2"><span class="st">  </span>processmapR<span class="op">::</span><span class="kw">process_map</span>()</a></code></pre></div>
<pre><code>## Warning: Prefixing `UQ()` with the rlang namespace is deprecated as of rlang 0.3.0.
## Please use the non-prefixed form or `!!` instead.
## 
##   # Bad:
##   rlang::expr(mean(rlang::UQ(var) * 100))
## 
##   # Ok:
##   rlang::expr(mean(UQ(var) * 100))
## 
##   # Good:
##   rlang::expr(mean(!!var * 100))
## 
## This warning is displayed once per session.</code></pre>
<div id="htmlwidget-de7da3af95d3a219a832" style="width:672px;height:480px;" class="grViz html-widget"></div>
<script type="application/json" data-for="htmlwidget-de7da3af95d3a219a832">{"x":{"diagram":"digraph {\n\ngraph [layout = \"dot\",\n       outputorder = \"edgesfirst\",\n       bgcolor = \"white\",\n       rankdir = \"LR\"]\n\nnode [fontname = \"Helvetica\",\n      fontsize = \"10\",\n      shape = \"circle\",\n      fixedsize = \"true\",\n      width = \"0.5\",\n      style = \"filled\",\n      fillcolor = \"aliceblue\",\n      color = \"gray70\",\n      fontcolor = \"gray50\"]\n\nedge [fontname = \"Helvetica\",\n     fontsize = \"8\",\n     len = \"1.5\",\n     color = \"gray80\",\n     arrowsize = \"0.5\"]\n\n  \"1\" [label = \"BILLED\n7421\", shape = \"rectangle\", style = \"rounded,filled\", fontcolor = \"white\", color = \"grey\", tooltip = \"BILLED\n7421\", penwidth = \"1.5\", fixedsize = \"FALSE\", fontname = \"Arial\", fontsize = \"10\", fillcolor = \"#3690C0\"] \n  \"2\" [label = \"CHANGE DIAGN\n5104\", shape = \"rectangle\", style = \"rounded,filled\", fontcolor = \"black\", color = \"grey\", tooltip = \"CHANGE DIAGN\n5104\", penwidth = \"1.5\", fixedsize = \"FALSE\", fontname = \"Arial\", fontsize = \"10\", fillcolor = \"#A6BDDB\"] \n  \"3\" [label = \"CHANGE END\n6\", shape = \"rectangle\", style = \"rounded,filled\", fontcolor = \"black\", color = \"grey\", tooltip = \"CHANGE END\n6\", penwidth = \"1.5\", fixedsize = \"FALSE\", fontname = \"Arial\", fontsize = \"10\", fillcolor = \"#FFF7FB\"] \n  \"4\" [label = \"CODE ERROR\n4\", shape = \"rectangle\", style = \"rounded,filled\", fontcolor = \"black\", color = \"grey\", tooltip = \"CODE ERROR\n4\", penwidth = \"1.5\", fixedsize = \"FALSE\", fontname = \"Arial\", fontsize = \"10\", fillcolor = \"#FFF7FB\"] \n  \"5\" [label = \"CODE NOK\n191\", shape = \"rectangle\", style = \"rounded,filled\", fontcolor = \"black\", color = \"grey\", tooltip = \"CODE NOK\n191\", penwidth = \"1.5\", fixedsize = \"FALSE\", fontname = \"Arial\", fontsize = \"10\", fillcolor = \"#FFF7FB\"] \n  \"6\" [label = \"CODE OK\n7658\", shape = \"rectangle\", style = \"rounded,filled\", fontcolor = \"white\", color = \"grey\", tooltip = \"CODE OK\n7658\", penwidth = \"1.5\", fixedsize = \"FALSE\", fontname = \"Arial\", fontsize = \"10\", fillcolor = \"#3690C0\"] \n  \"7\" [label = \"DELETE\n985\", shape = \"rectangle\", style = \"rounded,filled\", fontcolor = \"black\", color = \"grey\", tooltip = \"DELETE\n985\", penwidth = \"1.5\", fixedsize = \"FALSE\", fontname = \"Arial\", fontsize = \"10\", fillcolor = \"#ECE7F2\"] \n  \"8\" [label = \"End\", shape = \"circle\", style = \"rounded,filled\", fontcolor = \"brown4\", color = \"brown4\", tooltip = \"End\n10000\", penwidth = \"1.5\", fixedsize = \"FALSE\", fontname = \"Arial\", fontsize = \"10\", fillcolor = \"#FFFFFF\"] \n  \"9\" [label = \"FIN\n7992\", shape = \"rectangle\", style = \"rounded,filled\", fontcolor = \"white\", color = \"grey\", tooltip = \"FIN\n7992\", penwidth = \"1.5\", fixedsize = \"FALSE\", fontname = \"Arial\", fontsize = \"10\", fillcolor = \"#3690C0\"] \n  \"10\" [label = \"JOIN-PAT\n65\", shape = \"rectangle\", style = \"rounded,filled\", fontcolor = \"black\", color = \"grey\", tooltip = \"JOIN-PAT\n65\", penwidth = \"1.5\", fixedsize = \"FALSE\", fontname = \"Arial\", fontsize = \"10\", fillcolor = \"#FFF7FB\"] \n  \"11\" [label = \"MANUAL\n57\", shape = \"rectangle\", style = \"rounded,filled\", fontcolor = \"black\", color = \"grey\", tooltip = \"MANUAL\n57\", penwidth = \"1.5\", fixedsize = \"FALSE\", fontname = \"Arial\", fontsize = \"10\", fillcolor = \"#FFF7FB\"] \n  \"12\" [label = \"NEW\n11106\", shape = \"rectangle\", style = \"rounded,filled\", fontcolor = \"white\", color = \"grey\", tooltip = \"NEW\n11106\", penwidth = \"1.5\", fixedsize = \"FALSE\", fontname = \"Arial\", fontsize = \"10\", fillcolor = \"#034E7B\"] \n  \"13\" [label = \"REJECT\n223\", shape = \"rectangle\", style = \"rounded,filled\", fontcolor = \"black\", color = \"grey\", tooltip = \"REJECT\n223\", penwidth = \"1.5\", fixedsize = \"FALSE\", fontname = \"Arial\", fontsize = \"10\", fillcolor = \"#FFF7FB\"] \n  \"14\" [label = \"RELEASE\n7861\", shape = \"rectangle\", style = \"rounded,filled\", fontcolor = \"white\", color = \"grey\", tooltip = \"RELEASE\n7861\", penwidth = \"1.5\", fixedsize = \"FALSE\", fontname = \"Arial\", fontsize = \"10\", fillcolor = \"#3690C0\"] \n  \"15\" [label = \"REOPEN\n703\", shape = \"rectangle\", style = \"rounded,filled\", fontcolor = \"black\", color = \"grey\", tooltip = \"REOPEN\n703\", penwidth = \"1.5\", fixedsize = \"FALSE\", fontname = \"Arial\", fontsize = \"10\", fillcolor = \"#ECE7F2\"] \n  \"16\" [label = \"SET STATUS\n85\", shape = \"rectangle\", style = \"rounded,filled\", fontcolor = \"black\", color = \"grey\", tooltip = \"SET STATUS\n85\", penwidth = \"1.5\", fixedsize = \"FALSE\", fontname = \"Arial\", fontsize = \"10\", fillcolor = \"#FFF7FB\"] \n  \"17\" [label = \"Start\", shape = \"circle\", style = \"rounded,filled\", fontcolor = \"chartreuse4\", color = \"chartreuse4\", tooltip = \"Start\n10000\", penwidth = \"1.5\", fixedsize = \"FALSE\", fontname = \"Arial\", fontsize = \"10\", fillcolor = \"#FFFFFF\"] \n  \"18\" [label = \"STORNO\n490\", shape = \"rectangle\", style = \"rounded,filled\", fontcolor = \"black\", color = \"grey\", tooltip = \"STORNO\n490\", penwidth = \"1.5\", fixedsize = \"FALSE\", fontname = \"Arial\", fontsize = \"10\", fillcolor = \"#FFF7FB\"] \n\"1\"->\"1\" [label = \"16\", penwidth = \"1.0064\", color = \"dodgerblue4\", fontname = \"Arial\", fontsize = \"10\"] \n\"1\"->\"6\" [label = \"20\", penwidth = \"1.008\", color = \"dodgerblue4\", fontname = \"Arial\", fontsize = \"10\"] \n\"1\"->\"8\" [label = \"6896\", penwidth = \"3.7584\", color = \"dodgerblue4\", fontname = \"Arial\", fontsize = \"10\"] \n\"1\"->\"11\" [label = \"5\", penwidth = \"1.002\", color = \"dodgerblue4\", fontname = \"Arial\", fontsize = \"10\"] \n\"1\"->\"18\" [label = \"484\", penwidth = \"1.1936\", color = \"dodgerblue4\", fontname = \"Arial\", fontsize = \"10\"] \n\"2\"->\"2\" [label = \"328\", penwidth = \"1.1312\", color = \"dodgerblue4\", fontname = \"Arial\", fontsize = \"10\"] \n\"2\"->\"3\" [label = \"3\", penwidth = \"1.0012\", color = \"dodgerblue4\", fontname = \"Arial\", fontsize = \"10\"] \n\"2\"->\"6\" [label = \"2\", penwidth = \"1.0008\", color = \"dodgerblue4\", fontname = \"Arial\", fontsize = \"10\"] \n\"2\"->\"7\" [label = \"139\", penwidth = \"1.0556\", color = \"dodgerblue4\", fontname = \"Arial\", fontsize = \"10\"] \n\"2\"->\"8\" [label = \"1\", penwidth = \"1.0004\", color = \"dodgerblue4\", fontname = \"Arial\", fontsize = \"10\"] \n\"2\"->\"9\" [label = \"4618\", penwidth = \"2.8472\", color = \"dodgerblue4\", fontname = \"Arial\", fontsize = \"10\"] \n\"2\"->\"10\" [label = \"8\", penwidth = \"1.0032\", color = \"dodgerblue4\", fontname = \"Arial\", fontsize = \"10\"] \n\"2\"->\"16\" [label = \"5\", penwidth = \"1.002\", color = \"dodgerblue4\", fontname = \"Arial\", fontsize = \"10\"] \n\"3\"->\"7\" [label = \"3\", penwidth = \"1.0012\", color = \"dodgerblue4\", fontname = \"Arial\", fontsize = \"10\"] \n\"3\"->\"9\" [label = \"3\", penwidth = \"1.0012\", color = \"dodgerblue4\", fontname = \"Arial\", fontsize = \"10\"] \n\"4\"->\"11\" [label = \"1\", penwidth = \"1.0004\", color = \"dodgerblue4\", fontname = \"Arial\", fontsize = \"10\"] \n\"4\"->\"14\" [label = \"1\", penwidth = \"1.0004\", color = \"dodgerblue4\", fontname = \"Arial\", fontsize = \"10\"] \n\"4\"->\"15\" [label = \"2\", penwidth = \"1.0008\", color = \"dodgerblue4\", fontname = \"Arial\", fontsize = \"10\"] \n\"5\"->\"5\" [label = \"47\", penwidth = \"1.0188\", color = \"dodgerblue4\", fontname = \"Arial\", fontsize = \"10\"] \n\"5\"->\"6\" [label = \"46\", penwidth = \"1.0184\", color = \"dodgerblue4\", fontname = \"Arial\", fontsize = \"10\"] \n\"5\"->\"7\" [label = \"21\", penwidth = \"1.0084\", color = \"dodgerblue4\", fontname = \"Arial\", fontsize = \"10\"] \n\"5\"->\"8\" [label = \"1\", penwidth = \"1.0004\", color = \"dodgerblue4\", fontname = \"Arial\", fontsize = \"10\"] \n\"5\"->\"14\" [label = \"1\", penwidth = \"1.0004\", color = \"dodgerblue4\", fontname = \"Arial\", fontsize = \"10\"] \n\"5\"->\"15\" [label = \"28\", penwidth = \"1.0112\", color = \"dodgerblue4\", fontname = \"Arial\", fontsize = \"10\"] \n\"5\"->\"16\" [label = \"47\", penwidth = \"1.0188\", color = \"dodgerblue4\", fontname = \"Arial\", fontsize = \"10\"] \n\"6\"->\"1\" [label = \"6965\", penwidth = \"3.786\", color = \"dodgerblue4\", fontname = \"Arial\", fontsize = \"10\"] \n\"6\"->\"6\" [label = \"14\", penwidth = \"1.0056\", color = \"dodgerblue4\", fontname = \"Arial\", fontsize = \"10\"] \n\"6\"->\"7\" [label = \"11\", penwidth = \"1.0044\", color = \"dodgerblue4\", fontname = \"Arial\", fontsize = \"10\"] \n\"6\"->\"8\" [label = \"18\", penwidth = \"1.0072\", color = \"dodgerblue4\", fontname = \"Arial\", fontsize = \"10\"] \n\"6\"->\"9\" [label = \"3\", penwidth = \"1.0012\", color = \"dodgerblue4\", fontname = \"Arial\", fontsize = \"10\"] \n\"6\"->\"10\" [label = \"1\", penwidth = \"1.0004\", color = \"dodgerblue4\", fontname = \"Arial\", fontsize = \"10\"] \n\"6\"->\"11\" [label = \"35\", penwidth = \"1.014\", color = \"dodgerblue4\", fontname = \"Arial\", fontsize = \"10\"] \n\"6\"->\"14\" [label = \"106\", penwidth = \"1.0424\", color = \"dodgerblue4\", fontname = \"Arial\", fontsize = \"10\"] \n\"6\"->\"15\" [label = \"500\", penwidth = \"1.2\", color = \"dodgerblue4\", fontname = \"Arial\", fontsize = \"10\"] \n\"6\"->\"16\" [label = \"5\", penwidth = \"1.002\", color = \"dodgerblue4\", fontname = \"Arial\", fontsize = \"10\"] \n\"7\"->\"7\" [label = \"3\", penwidth = \"1.0012\", color = \"dodgerblue4\", fontname = \"Arial\", fontsize = \"10\"] \n\"7\"->\"8\" [label = \"980\", penwidth = \"1.392\", color = \"dodgerblue4\", fontname = \"Arial\", fontsize = \"10\"] \n\"7\"->\"10\" [label = \"2\", penwidth = \"1.0008\", color = \"dodgerblue4\", fontname = \"Arial\", fontsize = \"10\"] \n\"9\"->\"7\" [label = \"33\", penwidth = \"1.0132\", color = \"dodgerblue4\", fontname = \"Arial\", fontsize = \"10\"] \n\"9\"->\"8\" [label = \"170\", penwidth = \"1.068\", color = \"dodgerblue4\", fontname = \"Arial\", fontsize = \"10\"] \n\"9\"->\"9\" [label = \"37\", penwidth = \"1.0148\", color = \"dodgerblue4\", fontname = \"Arial\", fontsize = \"10\"] \n\"9\"->\"14\" [label = \"7702\", penwidth = \"4.0808\", color = \"dodgerblue4\", fontname = \"Arial\", fontsize = \"10\"] \n\"9\"->\"15\" [label = \"47\", penwidth = \"1.0188\", color = \"dodgerblue4\", fontname = \"Arial\", fontsize = \"10\"] \n\"9\"->\"16\" [label = \"3\", penwidth = \"1.0012\", color = \"dodgerblue4\", fontname = \"Arial\", fontsize = \"10\"] \n\"10\"->\"1\" [label = \"2\", penwidth = \"1.0008\", color = \"dodgerblue4\", fontname = \"Arial\", fontsize = \"10\"] \n\"10\"->\"7\" [label = \"2\", penwidth = \"1.0008\", color = \"dodgerblue4\", fontname = \"Arial\", fontsize = \"10\"] \n\"10\"->\"8\" [label = \"6\", penwidth = \"1.0024\", color = \"dodgerblue4\", fontname = \"Arial\", fontsize = \"10\"] \n\"10\"->\"9\" [label = \"8\", penwidth = \"1.0032\", color = \"dodgerblue4\", fontname = \"Arial\", fontsize = \"10\"] \n\"10\"->\"10\" [label = \"47\", penwidth = \"1.0188\", color = \"dodgerblue4\", fontname = \"Arial\", fontsize = \"10\"] \n\"11\"->\"1\" [label = \"3\", penwidth = \"1.0012\", color = \"dodgerblue4\", fontname = \"Arial\", fontsize = \"10\"] \n\"11\"->\"6\" [label = \"7\", penwidth = \"1.0028\", color = \"dodgerblue4\", fontname = \"Arial\", fontsize = \"10\"] \n\"11\"->\"7\" [label = \"2\", penwidth = \"1.0008\", color = \"dodgerblue4\", fontname = \"Arial\", fontsize = \"10\"] \n\"11\"->\"8\" [label = \"6\", penwidth = \"1.0024\", color = \"dodgerblue4\", fontname = \"Arial\", fontsize = \"10\"] \n\"11\"->\"11\" [label = \"9\", penwidth = \"1.0036\", color = \"dodgerblue4\", fontname = \"Arial\", fontsize = \"10\"] \n\"11\"->\"14\" [label = \"29\", penwidth = \"1.0116\", color = \"dodgerblue4\", fontname = \"Arial\", fontsize = \"10\"] \n\"11\"->\"16\" [label = \"1\", penwidth = \"1.0004\", color = \"dodgerblue4\", fontname = \"Arial\", fontsize = \"10\"] \n\"12\"->\"1\" [label = \"1\", penwidth = \"1.0004\", color = \"dodgerblue4\", fontname = \"Arial\", fontsize = \"10\"] \n\"12\"->\"2\" [label = \"4748\", penwidth = \"2.8992\", color = \"dodgerblue4\", fontname = \"Arial\", fontsize = \"10\"] \n\"12\"->\"3\" [label = \"2\", penwidth = \"1.0008\", color = \"dodgerblue4\", fontname = \"Arial\", fontsize = \"10\"] \n\"12\"->\"6\" [label = \"1\", penwidth = \"1.0004\", color = \"dodgerblue4\", fontname = \"Arial\", fontsize = \"10\"] \n\"12\"->\"7\" [label = \"590\", penwidth = \"1.236\", color = \"dodgerblue4\", fontname = \"Arial\", fontsize = \"10\"] \n\"12\"->\"8\" [label = \"1837\", penwidth = \"1.7348\", color = \"dodgerblue4\", fontname = \"Arial\", fontsize = \"10\"] \n\"12\"->\"9\" [label = \"2814\", penwidth = \"2.1256\", color = \"dodgerblue4\", fontname = \"Arial\", fontsize = \"10\"] \n\"12\"->\"10\" [label = \"6\", penwidth = \"1.0024\", color = \"dodgerblue4\", fontname = \"Arial\", fontsize = \"10\"] \n\"12\"->\"12\" [label = \"1106\", penwidth = \"1.4424\", color = \"dodgerblue4\", fontname = \"Arial\", fontsize = \"10\"] \n\"12\"->\"16\" [label = \"1\", penwidth = \"1.0004\", color = \"dodgerblue4\", fontname = \"Arial\", fontsize = \"10\"] \n\"13\"->\"1\" [label = \"133\", penwidth = \"1.0532\", color = \"dodgerblue4\", fontname = \"Arial\", fontsize = \"10\"] \n\"13\"->\"10\" [label = \"1\", penwidth = \"1.0004\", color = \"dodgerblue4\", fontname = \"Arial\", fontsize = \"10\"] \n\"13\"->\"13\" [label = \"3\", penwidth = \"1.0012\", color = \"dodgerblue4\", fontname = \"Arial\", fontsize = \"10\"] \n\"13\"->\"14\" [label = \"8\", penwidth = \"1.0032\", color = \"dodgerblue4\", fontname = \"Arial\", fontsize = \"10\"] \n\"13\"->\"15\" [label = \"72\", penwidth = \"1.0288\", color = \"dodgerblue4\", fontname = \"Arial\", fontsize = \"10\"] \n\"13\"->\"16\" [label = \"6\", penwidth = \"1.0024\", color = \"dodgerblue4\", fontname = \"Arial\", fontsize = \"10\"] \n\"14\"->\"1\" [label = \"43\", penwidth = \"1.0172\", color = \"dodgerblue4\", fontname = \"Arial\", fontsize = \"10\"] \n\"14\"->\"4\" [label = \"4\", penwidth = \"1.0016\", color = \"dodgerblue4\", fontname = \"Arial\", fontsize = \"10\"] \n\"14\"->\"5\" [label = \"142\", penwidth = \"1.0568\", color = \"dodgerblue4\", fontname = \"Arial\", fontsize = \"10\"] \n\"14\"->\"6\" [label = \"7568\", penwidth = \"4.0272\", color = \"dodgerblue4\", fontname = \"Arial\", fontsize = \"10\"] \n\"14\"->\"7\" [label = \"12\", penwidth = \"1.0048\", color = \"dodgerblue4\", fontname = \"Arial\", fontsize = \"10\"] \n\"14\"->\"8\" [label = \"6\", penwidth = \"1.0024\", color = \"dodgerblue4\", fontname = \"Arial\", fontsize = \"10\"] \n\"14\"->\"9\" [label = \"4\", penwidth = \"1.0016\", color = \"dodgerblue4\", fontname = \"Arial\", fontsize = \"10\"] \n\"14\"->\"11\" [label = \"7\", penwidth = \"1.0028\", color = \"dodgerblue4\", fontname = \"Arial\", fontsize = \"10\"] \n\"14\"->\"14\" [label = \"13\", penwidth = \"1.0052\", color = \"dodgerblue4\", fontname = \"Arial\", fontsize = \"10\"] \n\"14\"->\"15\" [label = \"52\", penwidth = \"1.0208\", color = \"dodgerblue4\", fontname = \"Arial\", fontsize = \"10\"] \n\"14\"->\"16\" [label = \"10\", penwidth = \"1.004\", color = \"dodgerblue4\", fontname = \"Arial\", fontsize = \"10\"] \n\"15\"->\"2\" [label = \"28\", penwidth = \"1.0112\", color = \"dodgerblue4\", fontname = \"Arial\", fontsize = \"10\"] \n\"15\"->\"5\" [label = \"1\", penwidth = \"1.0004\", color = \"dodgerblue4\", fontname = \"Arial\", fontsize = \"10\"] \n\"15\"->\"7\" [label = \"167\", penwidth = \"1.0668\", color = \"dodgerblue4\", fontname = \"Arial\", fontsize = \"10\"] \n\"15\"->\"9\" [label = \"505\", penwidth = \"1.202\", color = \"dodgerblue4\", fontname = \"Arial\", fontsize = \"10\"] \n\"15\"->\"15\" [label = \"2\", penwidth = \"1.0008\", color = \"dodgerblue4\", fontname = \"Arial\", fontsize = \"10\"] \n\"16\"->\"3\" [label = \"1\", penwidth = \"1.0004\", color = \"dodgerblue4\", fontname = \"Arial\", fontsize = \"10\"] \n\"16\"->\"5\" [label = \"1\", penwidth = \"1.0004\", color = \"dodgerblue4\", fontname = \"Arial\", fontsize = \"10\"] \n\"16\"->\"7\" [label = \"2\", penwidth = \"1.0008\", color = \"dodgerblue4\", fontname = \"Arial\", fontsize = \"10\"] \n\"16\"->\"8\" [label = \"79\", penwidth = \"1.0316\", color = \"dodgerblue4\", fontname = \"Arial\", fontsize = \"10\"] \n\"16\"->\"14\" [label = \"1\", penwidth = \"1.0004\", color = \"dodgerblue4\", fontname = \"Arial\", fontsize = \"10\"] \n\"16\"->\"16\" [label = \"1\", penwidth = \"1.0004\", color = \"dodgerblue4\", fontname = \"Arial\", fontsize = \"10\"] \n\"17\"->\"12\" [label = \"10000\", penwidth = \"5\", color = \"dodgerblue4\", fontname = \"Arial\", fontsize = \"10\"] \n\"18\"->\"1\" [label = \"258\", penwidth = \"1.1032\", color = \"dodgerblue4\", fontname = \"Arial\", fontsize = \"10\"] \n\"18\"->\"13\" [label = \"220\", penwidth = \"1.088\", color = \"dodgerblue4\", fontname = \"Arial\", fontsize = \"10\"] \n\"18\"->\"16\" [label = \"6\", penwidth = \"1.0024\", color = \"dodgerblue4\", fontname = \"Arial\", fontsize = \"10\"] \n\"18\"->\"18\" [label = \"6\", penwidth = \"1.0024\", color = \"dodgerblue4\", fontname = \"Arial\", fontsize = \"10\"] \n}","config":{"engine":"dot","options":null}},"evals":[],"jsHooks":[]}</script>
<ul>
<li><p>This process map displays the entire event log to show every activity that has occurred and in what order. Plotting the detail of every case path (or trace) is often overwhelming. The process can appear more complex than it really is. Maps that are too detailed have been called <a href="http://citeseerx.ist.psu.edu/viewdoc/download?doi=10.1.1.81.1207&amp;rep=rep1&amp;type=pdf">“spaghetti-like”</a> by the authors of an algorithmic method we will explore later that is one of several ways to simplify process maps.</p></li>
<li><p>Process maps can be simplified in many ways. Each method helps us understand both typical and rare case paths more easily. A basic simplification is to create the process map only for a small number of cases. Below only cases A, B and C from the table above are mapped.</p></li>
</ul>
<div class="sourceCode" id="cb131"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb131-1" title="1">eventdataR<span class="op">::</span>hospital_billing <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb131-2" title="2"><span class="st">  </span>dplyr<span class="op">::</span><span class="kw">filter</span>(case_id <span class="op">%in%</span><span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;A&quot;</span>,<span class="st">&quot;B&quot;</span>,<span class="st">&quot;C&quot;</span>)) <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb131-3" title="3"><span class="st">  </span>processmapR<span class="op">::</span><span class="kw">process_map</span>()</a></code></pre></div>
<div id="htmlwidget-83817bdeca4d03260e6d" style="width:672px;height:480px;" class="grViz html-widget"></div>
<script type="application/json" data-for="htmlwidget-83817bdeca4d03260e6d">{"x":{"diagram":"digraph {\n\ngraph [layout = \"dot\",\n       outputorder = \"edgesfirst\",\n       bgcolor = \"white\",\n       rankdir = \"LR\"]\n\nnode [fontname = \"Helvetica\",\n      fontsize = \"10\",\n      shape = \"circle\",\n      fixedsize = \"true\",\n      width = \"0.5\",\n      style = \"filled\",\n      fillcolor = \"aliceblue\",\n      color = \"gray70\",\n      fontcolor = \"gray50\"]\n\nedge [fontname = \"Helvetica\",\n     fontsize = \"8\",\n     len = \"1.5\",\n     color = \"gray80\",\n     arrowsize = \"0.5\"]\n\n  \"1\" [label = \"BILLED\n2\", shape = \"rectangle\", style = \"rounded,filled\", fontcolor = \"black\", color = \"grey\", tooltip = \"BILLED\n2\", penwidth = \"1.5\", fixedsize = \"FALSE\", fontname = \"Arial\", fontsize = \"10\", fillcolor = \"#A6BDDB\"] \n  \"2\" [label = \"CHANGE DIAGN\n1\", shape = \"rectangle\", style = \"rounded,filled\", fontcolor = \"black\", color = \"grey\", tooltip = \"CHANGE DIAGN\n1\", penwidth = \"1.5\", fixedsize = \"FALSE\", fontname = \"Arial\", fontsize = \"10\", fillcolor = \"#FFF7FB\"] \n  \"3\" [label = \"CODE OK\n3\", shape = \"rectangle\", style = \"rounded,filled\", fontcolor = \"white\", color = \"grey\", tooltip = \"CODE OK\n3\", penwidth = \"1.5\", fixedsize = \"FALSE\", fontname = \"Arial\", fontsize = \"10\", fillcolor = \"#034E7B\"] \n  \"4\" [label = \"DELETE\n1\", shape = \"rectangle\", style = \"rounded,filled\", fontcolor = \"black\", color = \"grey\", tooltip = \"DELETE\n1\", penwidth = \"1.5\", fixedsize = \"FALSE\", fontname = \"Arial\", fontsize = \"10\", fillcolor = \"#FFF7FB\"] \n  \"5\" [label = \"End\", shape = \"circle\", style = \"rounded,filled\", fontcolor = \"brown4\", color = \"brown4\", tooltip = \"End\n3\", penwidth = \"1.5\", fixedsize = \"FALSE\", fontname = \"Arial\", fontsize = \"10\", fillcolor = \"#FFFFFF\"] \n  \"6\" [label = \"FIN\n3\", shape = \"rectangle\", style = \"rounded,filled\", fontcolor = \"white\", color = \"grey\", tooltip = \"FIN\n3\", penwidth = \"1.5\", fixedsize = \"FALSE\", fontname = \"Arial\", fontsize = \"10\", fillcolor = \"#034E7B\"] \n  \"7\" [label = \"NEW\n3\", shape = \"rectangle\", style = \"rounded,filled\", fontcolor = \"white\", color = \"grey\", tooltip = \"NEW\n3\", penwidth = \"1.5\", fixedsize = \"FALSE\", fontname = \"Arial\", fontsize = \"10\", fillcolor = \"#034E7B\"] \n  \"8\" [label = \"RELEASE\n3\", shape = \"rectangle\", style = \"rounded,filled\", fontcolor = \"white\", color = \"grey\", tooltip = \"RELEASE\n3\", penwidth = \"1.5\", fixedsize = \"FALSE\", fontname = \"Arial\", fontsize = \"10\", fillcolor = \"#034E7B\"] \n  \"9\" [label = \"REOPEN\n1\", shape = \"rectangle\", style = \"rounded,filled\", fontcolor = \"black\", color = \"grey\", tooltip = \"REOPEN\n1\", penwidth = \"1.5\", fixedsize = \"FALSE\", fontname = \"Arial\", fontsize = \"10\", fillcolor = \"#FFF7FB\"] \n  \"10\" [label = \"Start\", shape = \"circle\", style = \"rounded,filled\", fontcolor = \"chartreuse4\", color = \"chartreuse4\", tooltip = \"Start\n3\", penwidth = \"1.5\", fixedsize = \"FALSE\", fontname = \"Arial\", fontsize = \"10\", fillcolor = \"#FFFFFF\"] \n\"1\"->\"5\" [label = \"2\", penwidth = \"3.66666666666667\", color = \"dodgerblue4\", fontname = \"Arial\", fontsize = \"10\"] \n\"2\"->\"6\" [label = \"1\", penwidth = \"2.33333333333333\", color = \"dodgerblue4\", fontname = \"Arial\", fontsize = \"10\"] \n\"3\"->\"1\" [label = \"2\", penwidth = \"3.66666666666667\", color = \"dodgerblue4\", fontname = \"Arial\", fontsize = \"10\"] \n\"3\"->\"9\" [label = \"1\", penwidth = \"2.33333333333333\", color = \"dodgerblue4\", fontname = \"Arial\", fontsize = \"10\"] \n\"4\"->\"5\" [label = \"1\", penwidth = \"2.33333333333333\", color = \"dodgerblue4\", fontname = \"Arial\", fontsize = \"10\"] \n\"6\"->\"8\" [label = \"3\", penwidth = \"5\", color = \"dodgerblue4\", fontname = \"Arial\", fontsize = \"10\"] \n\"7\"->\"4\" [label = \"1\", penwidth = \"2.33333333333333\", color = \"dodgerblue4\", fontname = \"Arial\", fontsize = \"10\"] \n\"7\"->\"6\" [label = \"2\", penwidth = \"3.66666666666667\", color = \"dodgerblue4\", fontname = \"Arial\", fontsize = \"10\"] \n\"8\"->\"3\" [label = \"3\", penwidth = \"5\", color = \"dodgerblue4\", fontname = \"Arial\", fontsize = \"10\"] \n\"9\"->\"2\" [label = \"1\", penwidth = \"2.33333333333333\", color = \"dodgerblue4\", fontname = \"Arial\", fontsize = \"10\"] \n\"10\"->\"7\" [label = \"3\", penwidth = \"5\", color = \"dodgerblue4\", fontname = \"Arial\", fontsize = \"10\"] \n}","config":{"engine":"dot","options":null}},"evals":[],"jsHooks":[]}</script>
<ul>
<li><p>If no arguments are included in the <code>processmapR::process_map()</code> function the number in the box (or node) and its colour are how many cases have had that activity carried out. Darker colours represent more cases. The number on the arrows (or edges) and their thickness represent how many cases have passed between two activities in the direction of the arrow.</p></li>
<li><p>We can also <a href="https://www.bupar.net/subsetting.html">subset</a> event logs using the <a href="https://www.bupar.net/subsetting.html#trace_frequency"><code>edeaR::trace_frequency()</code></a> function so that the process map shows only the most common paths cases take . Let’s filter the log to contain only cases that have followed the top 90% most frequent paths, then pipe (%&gt;%) that reduced log it into thee process map function.</p></li>
</ul>
<div class="sourceCode" id="cb132"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb132-1" title="1">eventdataR<span class="op">::</span>hospital_billing <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb132-2" title="2"><span class="st">  </span>edeaR<span class="op">::</span><span class="kw">filter_trace_frequency</span>(<span class="dt">percentage =</span> <span class="fl">0.9</span>) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb132-3" title="3"><span class="st">  </span>processmapR<span class="op">::</span><span class="kw">process_map</span>()</a></code></pre></div>
<div id="htmlwidget-70725fa01c8da4479ff3" style="width:672px;height:480px;" class="grViz html-widget"></div>
<script type="application/json" data-for="htmlwidget-70725fa01c8da4479ff3">{"x":{"diagram":"digraph {\n\ngraph [layout = \"dot\",\n       outputorder = \"edgesfirst\",\n       bgcolor = \"white\",\n       rankdir = \"LR\"]\n\nnode [fontname = \"Helvetica\",\n      fontsize = \"10\",\n      shape = \"circle\",\n      fixedsize = \"true\",\n      width = \"0.5\",\n      style = \"filled\",\n      fillcolor = \"aliceblue\",\n      color = \"gray70\",\n      fontcolor = \"gray50\"]\n\nedge [fontname = \"Helvetica\",\n     fontsize = \"8\",\n     len = \"1.5\",\n     color = \"gray80\",\n     arrowsize = \"0.5\"]\n\n  \"1\" [label = \"BILLED\n6475\", shape = \"rectangle\", style = \"rounded,filled\", fontcolor = \"white\", color = \"grey\", tooltip = \"BILLED\n6475\", penwidth = \"1.5\", fixedsize = \"FALSE\", fontname = \"Arial\", fontsize = \"10\", fillcolor = \"#3690C0\"] \n  \"2\" [label = \"CHANGE DIAGN\n4550\", shape = \"rectangle\", style = \"rounded,filled\", fontcolor = \"black\", color = \"grey\", tooltip = \"CHANGE DIAGN\n4550\", penwidth = \"1.5\", fixedsize = \"FALSE\", fontname = \"Arial\", fontsize = \"10\", fillcolor = \"#A6BDDB\"] \n  \"3\" [label = \"CODE OK\n6540\", shape = \"rectangle\", style = \"rounded,filled\", fontcolor = \"white\", color = \"grey\", tooltip = \"CODE OK\n6540\", penwidth = \"1.5\", fixedsize = \"FALSE\", fontname = \"Arial\", fontsize = \"10\", fillcolor = \"#3690C0\"] \n  \"4\" [label = \"DELETE\n762\", shape = \"rectangle\", style = \"rounded,filled\", fontcolor = \"black\", color = \"grey\", tooltip = \"DELETE\n762\", penwidth = \"1.5\", fixedsize = \"FALSE\", fontname = \"Arial\", fontsize = \"10\", fillcolor = \"#ECE7F2\"] \n  \"5\" [label = \"End\", shape = \"circle\", style = \"rounded,filled\", fontcolor = \"brown4\", color = \"brown4\", tooltip = \"End\n9037\", penwidth = \"1.5\", fixedsize = \"FALSE\", fontname = \"Arial\", fontsize = \"10\", fillcolor = \"#FFFFFF\"] \n  \"6\" [label = \"FIN\n6701\", shape = \"rectangle\", style = \"rounded,filled\", fontcolor = \"white\", color = \"grey\", tooltip = \"FIN\n6701\", penwidth = \"1.5\", fixedsize = \"FALSE\", fontname = \"Arial\", fontsize = \"10\", fillcolor = \"#3690C0\"] \n  \"7\" [label = \"NEW\n9037\", shape = \"rectangle\", style = \"rounded,filled\", fontcolor = \"white\", color = \"grey\", tooltip = \"NEW\n9037\", penwidth = \"1.5\", fixedsize = \"FALSE\", fontname = \"Arial\", fontsize = \"10\", fillcolor = \"#034E7B\"] \n  \"8\" [label = \"RELEASE\n6540\", shape = \"rectangle\", style = \"rounded,filled\", fontcolor = \"white\", color = \"grey\", tooltip = \"RELEASE\n6540\", penwidth = \"1.5\", fixedsize = \"FALSE\", fontname = \"Arial\", fontsize = \"10\", fillcolor = \"#3690C0\"] \n  \"9\" [label = \"REOPEN\n263\", shape = \"rectangle\", style = \"rounded,filled\", fontcolor = \"black\", color = \"grey\", tooltip = \"REOPEN\n263\", penwidth = \"1.5\", fixedsize = \"FALSE\", fontname = \"Arial\", fontsize = \"10\", fillcolor = \"#FFF7FB\"] \n  \"10\" [label = \"Start\", shape = \"circle\", style = \"rounded,filled\", fontcolor = \"chartreuse4\", color = \"chartreuse4\", tooltip = \"Start\n9037\", penwidth = \"1.5\", fixedsize = \"FALSE\", fontname = \"Arial\", fontsize = \"10\", fillcolor = \"#FFFFFF\"] \n  \"11\" [label = \"STORNO\n198\", shape = \"rectangle\", style = \"rounded,filled\", fontcolor = \"black\", color = \"grey\", tooltip = \"STORNO\n198\", penwidth = \"1.5\", fixedsize = \"FALSE\", fontname = \"Arial\", fontsize = \"10\", fillcolor = \"#FFF7FB\"] \n\"1\"->\"5\" [label = \"6277\", penwidth = \"3.77835564899856\", color = \"dodgerblue4\", fontname = \"Arial\", fontsize = \"10\"] \n\"1\"->\"11\" [label = \"198\", penwidth = \"1.08763970344141\", color = \"dodgerblue4\", fontname = \"Arial\", fontsize = \"10\"] \n\"2\"->\"2\" [label = \"221\", penwidth = \"1.09782007303309\", color = \"dodgerblue4\", fontname = \"Arial\", fontsize = \"10\"] \n\"2\"->\"4\" [label = \"129\", penwidth = \"1.05709859466637\", color = \"dodgerblue4\", fontname = \"Arial\", fontsize = \"10\"] \n\"2\"->\"6\" [label = \"4200\", penwidth = \"2.85902401239349\", color = \"dodgerblue4\", fontname = \"Arial\", fontsize = \"10\"] \n\"3\"->\"1\" [label = \"6277\", penwidth = \"3.77835564899856\", color = \"dodgerblue4\", fontname = \"Arial\", fontsize = \"10\"] \n\"3\"->\"9\" [label = \"263\", penwidth = \"1.11641031315702\", color = \"dodgerblue4\", fontname = \"Arial\", fontsize = \"10\"] \n\"4\"->\"5\" [label = \"762\", penwidth = \"1.33728007081996\", color = \"dodgerblue4\", fontname = \"Arial\", fontsize = \"10\"] \n\"6\"->\"5\" [label = \"161\", penwidth = \"1.07126258714175\", color = \"dodgerblue4\", fontname = \"Arial\", fontsize = \"10\"] \n\"6\"->\"8\" [label = \"6540\", penwidth = \"3.89476596215558\", color = \"dodgerblue4\", fontname = \"Arial\", fontsize = \"10\"] \n\"7\"->\"2\" [label = \"4329\", penwidth = \"2.91612260705987\", color = \"dodgerblue4\", fontname = \"Arial\", fontsize = \"10\"] \n\"7\"->\"4\" [label = \"549\", penwidth = \"1.24300099590572\", color = \"dodgerblue4\", fontname = \"Arial\", fontsize = \"10\"] \n\"7\"->\"5\" [label = \"1837\", penwidth = \"1.81310169303973\", color = \"dodgerblue4\", fontname = \"Arial\", fontsize = \"10\"] \n\"7\"->\"6\" [label = \"2322\", penwidth = \"2.02777470399469\", color = \"dodgerblue4\", fontname = \"Arial\", fontsize = \"10\"] \n\"8\"->\"3\" [label = \"6540\", penwidth = \"3.89476596215558\", color = \"dodgerblue4\", fontname = \"Arial\", fontsize = \"10\"] \n\"9\"->\"4\" [label = \"84\", penwidth = \"1.03718048024787\", color = \"dodgerblue4\", fontname = \"Arial\", fontsize = \"10\"] \n\"9\"->\"6\" [label = \"179\", penwidth = \"1.07922983290915\", color = \"dodgerblue4\", fontname = \"Arial\", fontsize = \"10\"] \n\"10\"->\"7\" [label = \"9037\", penwidth = \"5\", color = \"dodgerblue4\", fontname = \"Arial\", fontsize = \"10\"] \n\"11\"->\"1\" [label = \"198\", penwidth = \"1.08763970344141\", color = \"dodgerblue4\", fontname = \"Arial\", fontsize = \"10\"] \n}","config":{"engine":"dot","options":null}},"evals":[],"jsHooks":[]}</script>
<ul>
<li><p>The default values on a process map are the the number of cases. The process map below uses a <a href="https://www.bupar.net/processmaps.html#frequency_profile">custom profile</a>. We have adjusted the the numbers inside each box (or node) to include both the absolute number of times the activity was carried out, and in brackets below is the percentage of those activities among all the activities carried out. This means that the percentages in the brackets across all the boxes in the map sum to 100%.</p></li>
<li><p>The labels on the arrows (or edges) have also been altered. They now show the absolute number of times cases move from each activity to the next in the direction of the arrow. The percentages in brackets on all the arrows coming out of each box will sum to 100%.</p></li>
</ul>
<div class="sourceCode" id="cb133"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb133-1" title="1">eventdataR<span class="op">::</span>hospital_billing <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb133-2" title="2"><span class="st">  </span>edeaR<span class="op">::</span><span class="kw">filter_trace_frequency</span>(<span class="dt">percentage =</span> <span class="fl">0.9</span>) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb133-3" title="3"><span class="st">  </span>processmapR<span class="op">::</span><span class="kw">process_map</span>(<span class="dt">type_nodes =</span> processmapR<span class="op">::</span><span class="kw">frequency</span>(<span class="st">&quot;absolute&quot;</span>),</a>
<a class="sourceLine" id="cb133-4" title="4">                           <span class="dt">sec_nodes =</span> processmapR<span class="op">::</span><span class="kw">frequency</span>(<span class="st">&quot;relative&quot;</span>),</a>
<a class="sourceLine" id="cb133-5" title="5">                           <span class="dt">type_edges =</span> processmapR<span class="op">::</span><span class="kw">frequency</span>(<span class="st">&quot;absolute&quot;</span>),</a>
<a class="sourceLine" id="cb133-6" title="6">                           <span class="dt">sec_edges =</span> processmapR<span class="op">::</span><span class="kw">frequency</span>(<span class="st">&quot;relative&quot;</span>),</a>
<a class="sourceLine" id="cb133-7" title="7">                           <span class="dt">rankdir =</span> <span class="st">&quot;TB&quot;</span>)</a></code></pre></div>
<div id="htmlwidget-507679c064734fc690e4" style="width:672px;height:480px;" class="grViz html-widget"></div>
<script type="application/json" data-for="htmlwidget-507679c064734fc690e4">{"x":{"diagram":"digraph {\n\ngraph [layout = \"dot\",\n       outputorder = \"edgesfirst\",\n       bgcolor = \"white\",\n       rankdir = \"TB\"]\n\nnode [fontname = \"Helvetica\",\n      fontsize = \"10\",\n      shape = \"circle\",\n      fixedsize = \"true\",\n      width = \"0.5\",\n      style = \"filled\",\n      fillcolor = \"aliceblue\",\n      color = \"gray70\",\n      fontcolor = \"gray50\"]\n\nedge [fontname = \"Helvetica\",\n     fontsize = \"8\",\n     len = \"1.5\",\n     color = \"gray80\",\n     arrowsize = \"0.5\"]\n\n  \"1\" [label = \"BILLED\n6475\n(15.77%)\", shape = \"rectangle\", style = \"rounded,filled\", fontcolor = \"white\", color = \"grey\", tooltip = \"BILLED\n6475\", penwidth = \"1.5\", fixedsize = \"FALSE\", fontname = \"Arial\", fontsize = \"10\", fillcolor = \"#3690C0\"] \n  \"2\" [label = \"CHANGE DIAGN\n4550\n(11.08%)\", shape = \"rectangle\", style = \"rounded,filled\", fontcolor = \"black\", color = \"grey\", tooltip = \"CHANGE DIAGN\n4550\", penwidth = \"1.5\", fixedsize = \"FALSE\", fontname = \"Arial\", fontsize = \"10\", fillcolor = \"#A6BDDB\"] \n  \"3\" [label = \"CODE OK\n6540\n(15.93%)\", shape = \"rectangle\", style = \"rounded,filled\", fontcolor = \"white\", color = \"grey\", tooltip = \"CODE OK\n6540\", penwidth = \"1.5\", fixedsize = \"FALSE\", fontname = \"Arial\", fontsize = \"10\", fillcolor = \"#3690C0\"] \n  \"4\" [label = \"DELETE\n762\n(1.86%)\", shape = \"rectangle\", style = \"rounded,filled\", fontcolor = \"black\", color = \"grey\", tooltip = \"DELETE\n762\", penwidth = \"1.5\", fixedsize = \"FALSE\", fontname = \"Arial\", fontsize = \"10\", fillcolor = \"#ECE7F2\"] \n  \"5\" [label = \"End\", shape = \"circle\", style = \"rounded,filled\", fontcolor = \"brown4\", color = \"brown4\", tooltip = \"End\n9037\", penwidth = \"1.5\", fixedsize = \"FALSE\", fontname = \"Arial\", fontsize = \"10\", fillcolor = \"#FFFFFF\"] \n  \"6\" [label = \"FIN\n6701\n(16.32%)\", shape = \"rectangle\", style = \"rounded,filled\", fontcolor = \"white\", color = \"grey\", tooltip = \"FIN\n6701\", penwidth = \"1.5\", fixedsize = \"FALSE\", fontname = \"Arial\", fontsize = \"10\", fillcolor = \"#3690C0\"] \n  \"7\" [label = \"NEW\n9037\n(22.01%)\", shape = \"rectangle\", style = \"rounded,filled\", fontcolor = \"white\", color = \"grey\", tooltip = \"NEW\n9037\", penwidth = \"1.5\", fixedsize = \"FALSE\", fontname = \"Arial\", fontsize = \"10\", fillcolor = \"#034E7B\"] \n  \"8\" [label = \"RELEASE\n6540\n(15.93%)\", shape = \"rectangle\", style = \"rounded,filled\", fontcolor = \"white\", color = \"grey\", tooltip = \"RELEASE\n6540\", penwidth = \"1.5\", fixedsize = \"FALSE\", fontname = \"Arial\", fontsize = \"10\", fillcolor = \"#3690C0\"] \n  \"9\" [label = \"REOPEN\n263\n(0.64%)\", shape = \"rectangle\", style = \"rounded,filled\", fontcolor = \"black\", color = \"grey\", tooltip = \"REOPEN\n263\", penwidth = \"1.5\", fixedsize = \"FALSE\", fontname = \"Arial\", fontsize = \"10\", fillcolor = \"#FFF7FB\"] \n  \"10\" [label = \"Start\", shape = \"circle\", style = \"rounded,filled\", fontcolor = \"chartreuse4\", color = \"chartreuse4\", tooltip = \"Start\n9037\", penwidth = \"1.5\", fixedsize = \"FALSE\", fontname = \"Arial\", fontsize = \"10\", fillcolor = \"#FFFFFF\"] \n  \"11\" [label = \"STORNO\n198\n(0.48%)\", shape = \"rectangle\", style = \"rounded,filled\", fontcolor = \"black\", color = \"grey\", tooltip = \"STORNO\n198\", penwidth = \"1.5\", fixedsize = \"FALSE\", fontname = \"Arial\", fontsize = \"10\", fillcolor = \"#FFF7FB\"] \n\"1\"->\"5\" [label = \"6277\n (96.94%)\", penwidth = \"3.77835564899856\", color = \"dodgerblue4\", fontname = \"Arial\", fontsize = \"10\"] \n\"1\"->\"11\" [label = \"198\n (3.06%)\", penwidth = \"1.08763970344141\", color = \"dodgerblue4\", fontname = \"Arial\", fontsize = \"10\"] \n\"2\"->\"2\" [label = \"221\n (4.86%)\", penwidth = \"1.09782007303309\", color = \"dodgerblue4\", fontname = \"Arial\", fontsize = \"10\"] \n\"2\"->\"4\" [label = \"129\n (2.84%)\", penwidth = \"1.05709859466637\", color = \"dodgerblue4\", fontname = \"Arial\", fontsize = \"10\"] \n\"2\"->\"6\" [label = \"4200\n (92.31%)\", penwidth = \"2.85902401239349\", color = \"dodgerblue4\", fontname = \"Arial\", fontsize = \"10\"] \n\"3\"->\"1\" [label = \"6277\n (95.98%)\", penwidth = \"3.77835564899856\", color = \"dodgerblue4\", fontname = \"Arial\", fontsize = \"10\"] \n\"3\"->\"9\" [label = \"263\n (4.02%)\", penwidth = \"1.11641031315702\", color = \"dodgerblue4\", fontname = \"Arial\", fontsize = \"10\"] \n\"4\"->\"5\" [label = \"762\n (100%)\", penwidth = \"1.33728007081996\", color = \"dodgerblue4\", fontname = \"Arial\", fontsize = \"10\"] \n\"6\"->\"5\" [label = \"161\n (2.4%)\", penwidth = \"1.07126258714175\", color = \"dodgerblue4\", fontname = \"Arial\", fontsize = \"10\"] \n\"6\"->\"8\" [label = \"6540\n (97.6%)\", penwidth = \"3.89476596215558\", color = \"dodgerblue4\", fontname = \"Arial\", fontsize = \"10\"] \n\"7\"->\"2\" [label = \"4329\n (47.9%)\", penwidth = \"2.91612260705987\", color = \"dodgerblue4\", fontname = \"Arial\", fontsize = \"10\"] \n\"7\"->\"4\" [label = \"549\n (6.08%)\", penwidth = \"1.24300099590572\", color = \"dodgerblue4\", fontname = \"Arial\", fontsize = \"10\"] \n\"7\"->\"5\" [label = \"1837\n (20.33%)\", penwidth = \"1.81310169303973\", color = \"dodgerblue4\", fontname = \"Arial\", fontsize = \"10\"] \n\"7\"->\"6\" [label = \"2322\n (25.69%)\", penwidth = \"2.02777470399469\", color = \"dodgerblue4\", fontname = \"Arial\", fontsize = \"10\"] \n\"8\"->\"3\" [label = \"6540\n (100%)\", penwidth = \"3.89476596215558\", color = \"dodgerblue4\", fontname = \"Arial\", fontsize = \"10\"] \n\"9\"->\"4\" [label = \"84\n (31.94%)\", penwidth = \"1.03718048024787\", color = \"dodgerblue4\", fontname = \"Arial\", fontsize = \"10\"] \n\"9\"->\"6\" [label = \"179\n (68.06%)\", penwidth = \"1.07922983290915\", color = \"dodgerblue4\", fontname = \"Arial\", fontsize = \"10\"] \n\"10\"->\"7\" [label = \"9037\n (100%)\", penwidth = \"5\", color = \"dodgerblue4\", fontname = \"Arial\", fontsize = \"10\"] \n\"11\"->\"1\" [label = \"198\n (100%)\", penwidth = \"1.08763970344141\", color = \"dodgerblue4\", fontname = \"Arial\", fontsize = \"10\"] \n}","config":{"engine":"dot","options":null}},"evals":[],"jsHooks":[]}</script>
<ul>
<li><p>Next we alter the value in the brackets in the box labels to show the <em>unique</em> number of cases passing through that activity. The number above it (not in brackets) is usually higher for this event log. This tells us some cases must pass through that activity more than once.</p></li>
<li><p>We also alter the label on the arrows (or edges) inside the brackets to show the median average time between the two activities. The thickness of the arrow still represents the percentage of cases moving from that node.</p></li>
</ul>
<div class="sourceCode" id="cb134"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb134-1" title="1">eventdataR<span class="op">::</span>hospital_billing <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb134-2" title="2"><span class="st">  </span>edeaR<span class="op">::</span><span class="kw">filter_trace_frequency</span>(<span class="dt">percentage =</span> <span class="fl">0.9</span>) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb134-3" title="3"><span class="st">  </span>processmapR<span class="op">::</span><span class="kw">process_map</span>(<span class="dt">type_nodes =</span> processmapR<span class="op">::</span><span class="kw">frequency</span>(<span class="st">&quot;absolute&quot;</span>),</a>
<a class="sourceLine" id="cb134-4" title="4">                           <span class="dt">sec_nodes =</span> processmapR<span class="op">::</span><span class="kw">frequency</span>(<span class="st">&quot;absolute_case&quot;</span>),</a>
<a class="sourceLine" id="cb134-5" title="5">                           <span class="dt">type_edges =</span> processmapR<span class="op">::</span><span class="kw">frequency</span>(<span class="st">&quot;relative&quot;</span>),</a>
<a class="sourceLine" id="cb134-6" title="6">                           <span class="dt">sec_edges =</span> processmapR<span class="op">::</span><span class="kw">performance</span>(<span class="dt">FUN =</span> median, </a>
<a class="sourceLine" id="cb134-7" title="7">                                                                <span class="dt">units =</span> <span class="st">&quot;days&quot;</span>,</a>
<a class="sourceLine" id="cb134-8" title="8">                                                                <span class="dt">flow_time =</span> <span class="st">&quot;inter_start_time&quot;</span></a>
<a class="sourceLine" id="cb134-9" title="9">                                                                ),</a>
<a class="sourceLine" id="cb134-10" title="10">                           <span class="dt">rankdir =</span> <span class="st">&quot;TB&quot;</span>)</a></code></pre></div>
<div id="htmlwidget-4d74bb62b00d0c9192a2" style="width:672px;height:480px;" class="grViz html-widget"></div>
<script type="application/json" data-for="htmlwidget-4d74bb62b00d0c9192a2">{"x":{"diagram":"digraph {\n\ngraph [layout = \"dot\",\n       outputorder = \"edgesfirst\",\n       bgcolor = \"white\",\n       rankdir = \"TB\"]\n\nnode [fontname = \"Helvetica\",\n      fontsize = \"10\",\n      shape = \"circle\",\n      fixedsize = \"true\",\n      width = \"0.5\",\n      style = \"filled\",\n      fillcolor = \"aliceblue\",\n      color = \"gray70\",\n      fontcolor = \"gray50\"]\n\nedge [fontname = \"Helvetica\",\n     fontsize = \"8\",\n     len = \"1.5\",\n     color = \"gray80\",\n     arrowsize = \"0.5\"]\n\n  \"1\" [label = \"BILLED\n6475\n(6277)\", shape = \"rectangle\", style = \"rounded,filled\", fontcolor = \"white\", color = \"grey\", tooltip = \"BILLED\n6475\", penwidth = \"1.5\", fixedsize = \"FALSE\", fontname = \"Arial\", fontsize = \"10\", fillcolor = \"#3690C0\"] \n  \"2\" [label = \"CHANGE DIAGN\n4550\n(4329)\", shape = \"rectangle\", style = \"rounded,filled\", fontcolor = \"black\", color = \"grey\", tooltip = \"CHANGE DIAGN\n4550\", penwidth = \"1.5\", fixedsize = \"FALSE\", fontname = \"Arial\", fontsize = \"10\", fillcolor = \"#A6BDDB\"] \n  \"3\" [label = \"CODE OK\n6540\n(6361)\", shape = \"rectangle\", style = \"rounded,filled\", fontcolor = \"white\", color = \"grey\", tooltip = \"CODE OK\n6540\", penwidth = \"1.5\", fixedsize = \"FALSE\", fontname = \"Arial\", fontsize = \"10\", fillcolor = \"#3690C0\"] \n  \"4\" [label = \"DELETE\n762\n(762)\", shape = \"rectangle\", style = \"rounded,filled\", fontcolor = \"black\", color = \"grey\", tooltip = \"DELETE\n762\", penwidth = \"1.5\", fixedsize = \"FALSE\", fontname = \"Arial\", fontsize = \"10\", fillcolor = \"#ECE7F2\"] \n  \"5\" [label = \"End\", shape = \"circle\", style = \"rounded,filled\", fontcolor = \"brown4\", color = \"brown4\", tooltip = \"End\n9037\", penwidth = \"1.5\", fixedsize = \"FALSE\", fontname = \"Arial\", fontsize = \"10\", fillcolor = \"#FFFFFF\"] \n  \"6\" [label = \"FIN\n6701\n(6522)\", shape = \"rectangle\", style = \"rounded,filled\", fontcolor = \"white\", color = \"grey\", tooltip = \"FIN\n6701\", penwidth = \"1.5\", fixedsize = \"FALSE\", fontname = \"Arial\", fontsize = \"10\", fillcolor = \"#3690C0\"] \n  \"7\" [label = \"NEW\n9037\n(9037)\", shape = \"rectangle\", style = \"rounded,filled\", fontcolor = \"white\", color = \"grey\", tooltip = \"NEW\n9037\", penwidth = \"1.5\", fixedsize = \"FALSE\", fontname = \"Arial\", fontsize = \"10\", fillcolor = \"#034E7B\"] \n  \"8\" [label = \"RELEASE\n6540\n(6361)\", shape = \"rectangle\", style = \"rounded,filled\", fontcolor = \"white\", color = \"grey\", tooltip = \"RELEASE\n6540\", penwidth = \"1.5\", fixedsize = \"FALSE\", fontname = \"Arial\", fontsize = \"10\", fillcolor = \"#3690C0\"] \n  \"9\" [label = \"REOPEN\n263\n(263)\", shape = \"rectangle\", style = \"rounded,filled\", fontcolor = \"black\", color = \"grey\", tooltip = \"REOPEN\n263\", penwidth = \"1.5\", fixedsize = \"FALSE\", fontname = \"Arial\", fontsize = \"10\", fillcolor = \"#FFF7FB\"] \n  \"10\" [label = \"Start\", shape = \"circle\", style = \"rounded,filled\", fontcolor = \"chartreuse4\", color = \"chartreuse4\", tooltip = \"Start\n9037\", penwidth = \"1.5\", fixedsize = \"FALSE\", fontname = \"Arial\", fontsize = \"10\", fillcolor = \"#FFFFFF\"] \n  \"11\" [label = \"STORNO\n198\n(99)\", shape = \"rectangle\", style = \"rounded,filled\", fontcolor = \"black\", color = \"grey\", tooltip = \"STORNO\n198\", penwidth = \"1.5\", fixedsize = \"FALSE\", fontname = \"Arial\", fontsize = \"10\", fillcolor = \"#FFF7FB\"] \n\"1\"->\"5\" [label = \"96.94%\", penwidth = \"4.8776833976834\", color = \"dodgerblue4\", fontname = \"Arial\", fontsize = \"10\"] \n\"1\"->\"11\" [label = \"3.06%\n (5.03 days)\", penwidth = \"1.1223166023166\", color = \"dodgerblue4\", fontname = \"Arial\", fontsize = \"10\"] \n\"2\"->\"2\" [label = \"4.86%\n (11.75 days)\", penwidth = \"1.19428571428571\", color = \"dodgerblue4\", fontname = \"Arial\", fontsize = \"10\"] \n\"2\"->\"4\" [label = \"2.84%\n (7.77 days)\", penwidth = \"1.11340659340659\", color = \"dodgerblue4\", fontname = \"Arial\", fontsize = \"10\"] \n\"2\"->\"6\" [label = \"92.31%\n (89.3 days)\", penwidth = \"4.69230769230769\", color = \"dodgerblue4\", fontname = \"Arial\", fontsize = \"10\"] \n\"3\"->\"1\" [label = \"95.98%\n (43.99 days)\", penwidth = \"4.83914373088685\", color = \"dodgerblue4\", fontname = \"Arial\", fontsize = \"10\"] \n\"3\"->\"9\" [label = \"4.02%\n (26.32 days)\", penwidth = \"1.16085626911315\", color = \"dodgerblue4\", fontname = \"Arial\", fontsize = \"10\"] \n\"4\"->\"5\" [label = \"100%\", penwidth = \"5\", color = \"dodgerblue4\", fontname = \"Arial\", fontsize = \"10\"] \n\"6\"->\"5\" [label = \"2.4%\", penwidth = \"1.09610505894643\", color = \"dodgerblue4\", fontname = \"Arial\", fontsize = \"10\"] \n\"6\"->\"8\" [label = \"97.6%\n (0.2 days)\", penwidth = \"4.90389494105357\", color = \"dodgerblue4\", fontname = \"Arial\", fontsize = \"10\"] \n\"7\"->\"2\" [label = \"47.9%\n (0 days)\", penwidth = \"2.91612260705987\", color = \"dodgerblue4\", fontname = \"Arial\", fontsize = \"10\"] \n\"7\"->\"4\" [label = \"6.08%\n (20.8 days)\", penwidth = \"1.24300099590572\", color = \"dodgerblue4\", fontname = \"Arial\", fontsize = \"10\"] \n\"7\"->\"5\" [label = \"20.33%\", penwidth = \"1.81310169303973\", color = \"dodgerblue4\", fontname = \"Arial\", fontsize = \"10\"] \n\"7\"->\"6\" [label = \"25.69%\n (361.07 days)\", penwidth = \"2.02777470399469\", color = \"dodgerblue4\", fontname = \"Arial\", fontsize = \"10\"] \n\"8\"->\"3\" [label = \"100%\n (4.09 days)\", penwidth = \"5\", color = \"dodgerblue4\", fontname = \"Arial\", fontsize = \"10\"] \n\"9\"->\"4\" [label = \"31.94%\n (0 days)\", penwidth = \"2.27756653992395\", color = \"dodgerblue4\", fontname = \"Arial\", fontsize = \"10\"] \n\"9\"->\"6\" [label = \"68.06%\n (0.33 days)\", penwidth = \"3.72243346007605\", color = \"dodgerblue4\", fontname = \"Arial\", fontsize = \"10\"] \n\"10\"->\"7\" [label = \"100%\", penwidth = \"5\", color = \"dodgerblue4\", fontname = \"Arial\", fontsize = \"10\"] \n\"11\"->\"1\" [label = \"100%\n (1.97 days)\", penwidth = \"5\", color = \"dodgerblue4\", fontname = \"Arial\", fontsize = \"10\"] \n}","config":{"engine":"dot","options":null}},"evals":[],"jsHooks":[]}</script>
</div>
<div id="trace-explorer" class="section level3">
<h3><span class="header-section-number">8.3.2</span> Trace explorer</h3>
<ul>
<li>Another way to visualise the paths that cases take is with the trace explorer. This plot displays each trace (or path) sorted in descending order of frequency. The coloured squares represent the activities cases pass through in order from left to right. We have also filtered the log first to show only the top 90% most frequent paths to mirror the process map filter above.</li>
</ul>
<div class="sourceCode" id="cb135"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb135-1" title="1">eventdataR<span class="op">::</span>hospital_billing <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb135-2" title="2"><span class="st">  </span>edeaR<span class="op">::</span><span class="kw">filter_trace_frequency</span>(<span class="dt">percentage =</span> <span class="fl">0.9</span>) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb135-3" title="3"><span class="st">  </span>processmapR<span class="op">::</span><span class="kw">trace_explorer</span>(<span class="dt">coverage =</span> <span class="dv">1</span>,</a>
<a class="sourceLine" id="cb135-4" title="4">                              <span class="dt">type =</span> <span class="st">&quot;frequent&quot;</span>,</a>
<a class="sourceLine" id="cb135-5" title="5">                              <span class="dt">.abbreviate =</span> T)</a></code></pre></div>
<p><img src="bookdown-demo_files/figure-html/unnamed-chunk-57-1.png" width="672" /></p>
<ul>
<li><p>Compared to the process map, the trace explorer is easier for domain experts to identify case paths that are unexpected or not allowed. This is known as <a href="https://www.bupar.net/processcheckr.html">“conformance checking”</a> that is also explored later.</p></li>
<li><p>The Trace Explorer chart also allows easy identification and exploration of repeated activities that may also be unusual or unexpected. For example, in the process maps above the <code>BILLED</code> activity occurs more than once for some cases. We can see this where the unique number of cases in brackets in each box is a lower number than the number of cases passing through the activity that is shown above it. Below we filter the log first to only include cases where the <code>BILLED</code> activity occurred tow or more times. We also trim the path (or trace) to only show the first and last time the <code>BILLED</code> activity occurs.</p></li>
</ul>
<div class="sourceCode" id="cb136"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb136-1" title="1">eventdataR<span class="op">::</span>hospital_billing <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb136-2" title="2"><span class="st">  </span>processcheckR<span class="op">::</span><span class="kw">check_rule</span>(processcheckR<span class="op">::</span><span class="kw">contains</span>(<span class="dt">activity =</span> <span class="st">&quot;BILLED&quot;</span>, <span class="dt">n =</span> <span class="dv">2</span>)) <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb136-3" title="3"><span class="st">  </span>tidylog<span class="op">::</span><span class="kw">filter</span>(contains_BILLED_<span class="dv">2</span> <span class="op">==</span><span class="st"> </span><span class="ot">TRUE</span>) <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb136-4" title="4"><span class="st">  </span>edeaR<span class="op">::</span><span class="kw">filter_trim</span>(<span class="dt">start_activities =</span> <span class="st">&quot;BILLED&quot;</span>,</a>
<a class="sourceLine" id="cb136-5" title="5">                     <span class="dt">end_activities =</span> <span class="st">&quot;BILLED&quot;</span>) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb136-6" title="6"><span class="st">  </span>processmapR<span class="op">::</span><span class="kw">trace_explorer</span>(<span class="dt">coverage =</span> <span class="fl">0.8</span>,</a>
<a class="sourceLine" id="cb136-7" title="7">                              <span class="dt">type =</span> <span class="st">&quot;frequent&quot;</span>,</a>
<a class="sourceLine" id="cb136-8" title="8">                              <span class="dt">.abbreviate =</span> T)</a></code></pre></div>
<ul>
<li>Also, as the trace explorer is a ggplot chart, we are also able to alter the plot format in two ways. We can save it as an R object and then adjust elements of that nested list directly. And we can add on additional ggplot format settings using using the + symbol. Both methods are demonstrated below.</li>
</ul>
<div class="sourceCode" id="cb137"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb137-1" title="1">p &lt;-<span class="st"> </span>eventdataR<span class="op">::</span>hospital_billing <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb137-2" title="2"><span class="st">  </span>processcheckR<span class="op">::</span><span class="kw">check_rule</span>(processcheckR<span class="op">::</span><span class="kw">contains</span>(<span class="dt">activity =</span> <span class="st">&quot;BILLED&quot;</span>, <span class="dt">n =</span> <span class="dv">2</span>)) <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb137-3" title="3"><span class="st">  </span>tidylog<span class="op">::</span><span class="kw">filter</span>(contains_BILLED_<span class="dv">2</span> <span class="op">==</span><span class="st"> </span><span class="ot">TRUE</span>) <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb137-4" title="4"><span class="st">  </span>edeaR<span class="op">::</span><span class="kw">filter_trim</span>(<span class="dt">start_activities =</span> <span class="st">&quot;BILLED&quot;</span>,</a>
<a class="sourceLine" id="cb137-5" title="5">                     <span class="dt">end_activities =</span> <span class="st">&quot;BILLED&quot;</span>) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb137-6" title="6"><span class="st">  </span>processmapR<span class="op">::</span><span class="kw">trace_explorer</span>(<span class="dt">coverage =</span> <span class="fl">0.8</span>,</a>
<a class="sourceLine" id="cb137-7" title="7">                              <span class="dt">type =</span> <span class="st">&quot;frequent&quot;</span>,</a>
<a class="sourceLine" id="cb137-8" title="8">                              <span class="dt">.abbreviate =</span> F) <span class="op">+</span></a>
<a class="sourceLine" id="cb137-9" title="9"><span class="st">  </span>ggplot2<span class="op">::</span><span class="kw">labs</span>(<span class="dt">title =</span> <span class="st">&quot;Most frequent paths where the &#39;BILLED&#39; activity is repeated&quot;</span>)</a></code></pre></div>
<pre><code>## filter: removed 46,721 rows (94%), 3,230 rows remaining</code></pre>
<div class="sourceCode" id="cb139"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb139-1" title="1">p<span class="op">$</span>data<span class="op">$</span>relative_frequency &lt;-<span class="st"> </span><span class="kw">round</span>(p<span class="op">$</span>data<span class="op">$</span>relative_frequency,<span class="dv">2</span>)</a>
<a class="sourceLine" id="cb139-2" title="2">p<span class="op">$</span>theme<span class="op">$</span>strip.background<span class="op">$</span>fill &lt;-<span class="st"> &quot;lightgrey&quot;</span></a>
<a class="sourceLine" id="cb139-3" title="3">p<span class="op">$</span>theme<span class="op">$</span>strip.text<span class="op">$</span>colour &lt;-<span class="st"> &quot;black&quot;</span></a>
<a class="sourceLine" id="cb139-4" title="4"></a>
<a class="sourceLine" id="cb139-5" title="5">p</a></code></pre></div>
<p><img src="bookdown-demo_files/figure-html/unnamed-chunk-59-1.png" width="672" /></p>
</div>
<div id="conformance-checking" class="section level3">
<h3><span class="header-section-number">8.3.3</span> Conformance checking</h3>
<ul>
<li>We can also use <a href="https://www.bupar.net/processcheckr.html">processcheckR</a> to identify which traces either follow or break certain rules. For example, below we narrow down the process map to only show cases that have the <code>CHANGE_DIAGN</code> activity carried out. This change of diagnosis activity we can imagine may be a significant event in a hospital with an impact on the final bill so would be worth checking that certain agreed processes are followed. This might include detecting both mistakes in the process and potential fraudulent activity.</li>
</ul>
<div class="sourceCode" id="cb140"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb140-1" title="1">eventdataR<span class="op">::</span>hospital_billing <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb140-2" title="2"><span class="st">  </span>edeaR<span class="op">::</span><span class="kw">filter_trace_frequency</span>(<span class="dt">percentage =</span> <span class="fl">0.9</span>) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb140-3" title="3"><span class="st">  </span>processcheckR<span class="op">::</span><span class="kw">filter_rules</span>(<span class="dt">r1 =</span> processcheckR<span class="op">::</span><span class="kw">and</span>(<span class="st">&quot;CHANGE DIAGN&quot;</span>,<span class="st">&quot;REOPEN&quot;</span>),</a>
<a class="sourceLine" id="cb140-4" title="4">                              <span class="dt">r2 =</span> processcheckR<span class="op">::</span><span class="kw">succession</span>(<span class="st">&quot;NEW&quot;</span>,<span class="st">&quot;CHANGE DIAGN&quot;</span>)) <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb140-5" title="5"><span class="st">  </span>processmapR<span class="op">::</span><span class="kw">process_map</span>(<span class="dt">type_nodes =</span> processmapR<span class="op">::</span><span class="kw">frequency</span>(<span class="st">&quot;absolute&quot;</span>),</a>
<a class="sourceLine" id="cb140-6" title="6">                           <span class="dt">sec_nodes =</span> processmapR<span class="op">::</span><span class="kw">frequency</span>(<span class="st">&quot;absolute_case&quot;</span>),</a>
<a class="sourceLine" id="cb140-7" title="7">                           <span class="dt">type_edges =</span> processmapR<span class="op">::</span><span class="kw">frequency</span>(<span class="st">&quot;relative&quot;</span>),</a>
<a class="sourceLine" id="cb140-8" title="8">                           <span class="dt">sec_edges =</span> processmapR<span class="op">::</span><span class="kw">performance</span>(<span class="dt">FUN =</span> median, </a>
<a class="sourceLine" id="cb140-9" title="9">                                                                <span class="dt">units =</span> <span class="st">&quot;days&quot;</span>,</a>
<a class="sourceLine" id="cb140-10" title="10">                                                                <span class="dt">flow_time =</span> <span class="st">&quot;inter_start_time&quot;</span></a>
<a class="sourceLine" id="cb140-11" title="11">                                                                ),</a>
<a class="sourceLine" id="cb140-12" title="12">                           <span class="dt">rankdir =</span> <span class="st">&quot;TB&quot;</span>)</a></code></pre></div>
<div id="htmlwidget-add3d92b83fb3e50d20a" style="width:672px;height:480px;" class="grViz html-widget"></div>
<script type="application/json" data-for="htmlwidget-add3d92b83fb3e50d20a">{"x":{"diagram":"digraph {\n\ngraph [layout = \"dot\",\n       outputorder = \"edgesfirst\",\n       bgcolor = \"white\",\n       rankdir = \"TB\"]\n\nnode [fontname = \"Helvetica\",\n      fontsize = \"10\",\n      shape = \"circle\",\n      fixedsize = \"true\",\n      width = \"0.5\",\n      style = \"filled\",\n      fillcolor = \"aliceblue\",\n      color = \"gray70\",\n      fontcolor = \"gray50\"]\n\nedge [fontname = \"Helvetica\",\n     fontsize = \"8\",\n     len = \"1.5\",\n     color = \"gray80\",\n     arrowsize = \"0.5\"]\n\n  \"1\" [label = \"BILLED\n179\n(179)\", shape = \"rectangle\", style = \"rounded,filled\", fontcolor = \"black\", color = \"grey\", tooltip = \"BILLED\n179\", penwidth = \"1.5\", fixedsize = \"FALSE\", fontname = \"Arial\", fontsize = \"10\", fillcolor = \"#D0D1E6\"] \n  \"2\" [label = \"CHANGE DIAGN\n263\n(263)\", shape = \"rectangle\", style = \"rounded,filled\", fontcolor = \"black\", color = \"grey\", tooltip = \"CHANGE DIAGN\n263\", penwidth = \"1.5\", fixedsize = \"FALSE\", fontname = \"Arial\", fontsize = \"10\", fillcolor = \"#A6BDDB\"] \n  \"3\" [label = \"CODE OK\n442\n(263)\", shape = \"rectangle\", style = \"rounded,filled\", fontcolor = \"white\", color = \"grey\", tooltip = \"CODE OK\n442\", penwidth = \"1.5\", fixedsize = \"FALSE\", fontname = \"Arial\", fontsize = \"10\", fillcolor = \"#034E7B\"] \n  \"4\" [label = \"DELETE\n84\n(84)\", shape = \"rectangle\", style = \"rounded,filled\", fontcolor = \"black\", color = \"grey\", tooltip = \"DELETE\n84\", penwidth = \"1.5\", fixedsize = \"FALSE\", fontname = \"Arial\", fontsize = \"10\", fillcolor = \"#FFF7FB\"] \n  \"5\" [label = \"End\", shape = \"circle\", style = \"rounded,filled\", fontcolor = \"brown4\", color = \"brown4\", tooltip = \"End\n263\", penwidth = \"1.5\", fixedsize = \"FALSE\", fontname = \"Arial\", fontsize = \"10\", fillcolor = \"#FFFFFF\"] \n  \"6\" [label = \"FIN\n442\n(263)\", shape = \"rectangle\", style = \"rounded,filled\", fontcolor = \"white\", color = \"grey\", tooltip = \"FIN\n442\", penwidth = \"1.5\", fixedsize = \"FALSE\", fontname = \"Arial\", fontsize = \"10\", fillcolor = \"#034E7B\"] \n  \"7\" [label = \"NEW\n263\n(263)\", shape = \"rectangle\", style = \"rounded,filled\", fontcolor = \"black\", color = \"grey\", tooltip = \"NEW\n263\", penwidth = \"1.5\", fixedsize = \"FALSE\", fontname = \"Arial\", fontsize = \"10\", fillcolor = \"#A6BDDB\"] \n  \"8\" [label = \"RELEASE\n442\n(263)\", shape = \"rectangle\", style = \"rounded,filled\", fontcolor = \"white\", color = \"grey\", tooltip = \"RELEASE\n442\", penwidth = \"1.5\", fixedsize = \"FALSE\", fontname = \"Arial\", fontsize = \"10\", fillcolor = \"#034E7B\"] \n  \"9\" [label = \"REOPEN\n263\n(263)\", shape = \"rectangle\", style = \"rounded,filled\", fontcolor = \"black\", color = \"grey\", tooltip = \"REOPEN\n263\", penwidth = \"1.5\", fixedsize = \"FALSE\", fontname = \"Arial\", fontsize = \"10\", fillcolor = \"#A6BDDB\"] \n  \"10\" [label = \"Start\", shape = \"circle\", style = \"rounded,filled\", fontcolor = \"chartreuse4\", color = \"chartreuse4\", tooltip = \"Start\n263\", penwidth = \"1.5\", fixedsize = \"FALSE\", fontname = \"Arial\", fontsize = \"10\", fillcolor = \"#FFFFFF\"] \n\"1\"->\"5\" [label = \"100%\", penwidth = \"5\", color = \"dodgerblue4\", fontname = \"Arial\", fontsize = \"10\"] \n\"2\"->\"6\" [label = \"100%\n (59.37 days)\", penwidth = \"5\", color = \"dodgerblue4\", fontname = \"Arial\", fontsize = \"10\"] \n\"3\"->\"1\" [label = \"40.5%\n (41.86 days)\", penwidth = \"2.61990950226244\", color = \"dodgerblue4\", fontname = \"Arial\", fontsize = \"10\"] \n\"3\"->\"9\" [label = \"59.5%\n (26.32 days)\", penwidth = \"3.38009049773756\", color = \"dodgerblue4\", fontname = \"Arial\", fontsize = \"10\"] \n\"4\"->\"5\" [label = \"100%\", penwidth = \"5\", color = \"dodgerblue4\", fontname = \"Arial\", fontsize = \"10\"] \n\"6\"->\"8\" [label = \"100%\n (0.18 days)\", penwidth = \"5\", color = \"dodgerblue4\", fontname = \"Arial\", fontsize = \"10\"] \n\"7\"->\"2\" [label = \"100%\n (0 days)\", penwidth = \"5\", color = \"dodgerblue4\", fontname = \"Arial\", fontsize = \"10\"] \n\"8\"->\"3\" [label = \"100%\n (2.11 days)\", penwidth = \"5\", color = \"dodgerblue4\", fontname = \"Arial\", fontsize = \"10\"] \n\"9\"->\"4\" [label = \"31.94%\n (0 days)\", penwidth = \"2.27756653992395\", color = \"dodgerblue4\", fontname = \"Arial\", fontsize = \"10\"] \n\"9\"->\"6\" [label = \"68.06%\n (0.33 days)\", penwidth = \"3.72243346007605\", color = \"dodgerblue4\", fontname = \"Arial\", fontsize = \"10\"] \n\"10\"->\"7\" [label = \"100%\", penwidth = \"5\", color = \"dodgerblue4\", fontname = \"Arial\", fontsize = \"10\"] \n}","config":{"engine":"dot","options":null}},"evals":[],"jsHooks":[]}</script>
</div>
<div id="dotted-chart" class="section level3">
<h3><span class="header-section-number">8.3.4</span> Dotted chart</h3>
<ul>
<li><p>The dotted chart is similar in style to the trace explorer. It also displays activities in the order they occur horizontally. The main difference is that each line of dots in the dotted chart represents an individual case. The trace explorer instead displays the unique paths for one or more cases.</p></li>
<li><p>In the dotted chart below the x axis argument is set so that the position of each dot horizontally is the <code>absolute</code> date when each activity occurred. Also, the horizontal lines are sorted in descending order of the total trace time (or duration) of each case. The shortest duration case is at the top and the longest at the bottom.</p></li>
</ul>
<div class="sourceCode" id="cb141"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb141-1" title="1">eventdataR<span class="op">::</span>hospital_billing <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb141-2" title="2"><span class="st">  </span>edeaR<span class="op">::</span><span class="kw">filter_trace_frequency</span>(<span class="dt">percentage =</span> <span class="fl">0.9</span>) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb141-3" title="3"><span class="st">  </span>processmapR<span class="op">::</span><span class="kw">dotted_chart</span>(<span class="dt">x =</span> <span class="st">&quot;absolute&quot;</span>, </a>
<a class="sourceLine" id="cb141-4" title="4">                              <span class="dt">sort =</span> <span class="st">&quot;duration&quot;</span>)</a></code></pre></div>
<pre><code>## Joining, by = &quot;case_id&quot;</code></pre>
<p><img src="bookdown-demo_files/figure-html/unnamed-chunk-61-1.png" width="672" /></p>
<ul>
<li><p>This dotted chart is very useful for insight into the hospital billing process. At the top of the plot, the pink dots show many cases which begin in early 2013 with the <code>NEW</code> activity have no further activities recorded. This short single activity path can also be seen in the first process map we drew in this chapter. It is the arrow that goes from the <code>NEW</code> box directly to the <code>END</code> circle without passing through any other activity boxes. However, this short path is much easier to identify with a dotted chart. It also reveals the date range in which it occurs most often. The only way to identify changes in case paths over time with the process map is to <a href="https://www.bupar.net/processanimater.html">animate</a>, or draw multiple maps from event logs that are filtered with different <a href="https://www.bupar.net/subsetting.html#time_period">time periods</a>.</p></li>
<li><p>All of the <code>NEW</code> activities occur in a narrow time range in early 2013. This strongly suggests the data was extracted from the live system by selecting only cases where the <code>NEW</code> activity occurred in early 2013.</p></li>
<li><p>Again, because the function <code>processmapR::dotted_chart()</code> creates a ggplot chart we can alter how it appears by adding ggplot settings or updating the R object. For example, a useful change we make to this dotted chart is to show monthly breaks on the x-axis.</p></li>
</ul>
<div class="sourceCode" id="cb143"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb143-1" title="1"><span class="co"># Put the dotted chart into an R object</span></a>
<a class="sourceLine" id="cb143-2" title="2">p &lt;-<span class="st"> </span>eventdataR<span class="op">::</span>hospital_billing <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb143-3" title="3"><span class="st">  </span>edeaR<span class="op">::</span><span class="kw">filter_trace_frequency</span>(<span class="dt">percentage =</span> <span class="fl">0.9</span>) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb143-4" title="4"><span class="st">  </span>processmapR<span class="op">::</span><span class="kw">dotted_chart</span>(<span class="dt">x =</span> <span class="st">&quot;absolute&quot;</span>, </a>
<a class="sourceLine" id="cb143-5" title="5">                            <span class="dt">sort =</span> <span class="st">&quot;duration&quot;</span>) </a></code></pre></div>
<pre><code>## Joining, by = &quot;case_id&quot;</code></pre>
<div class="sourceCode" id="cb145"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb145-1" title="1"><span class="co"># change the format of the x axis to a date</span></a>
<a class="sourceLine" id="cb145-2" title="2">p<span class="op">$</span>data<span class="op">$</span>start &lt;-<span class="st"> </span><span class="kw">as.Date</span>(p<span class="op">$</span>data<span class="op">$</span>start) </a>
<a class="sourceLine" id="cb145-3" title="3"></a>
<a class="sourceLine" id="cb145-4" title="4">p <span class="op">+</span></a>
<a class="sourceLine" id="cb145-5" title="5"><span class="st">  </span>ggplot2<span class="op">::</span><span class="kw">scale_x_date</span>(<span class="dt">date_breaks =</span> <span class="st">&quot;1 month&quot;</span>,</a>
<a class="sourceLine" id="cb145-6" title="6">                          <span class="dt">labels =</span> scales<span class="op">::</span><span class="kw">date_format</span>(<span class="st">&quot;%b %y&quot;</span>)) <span class="op">+</span></a>
<a class="sourceLine" id="cb145-7" title="7"><span class="st">  </span>ggplot2<span class="op">::</span><span class="kw">theme_minimal</span>() <span class="op">+</span></a>
<a class="sourceLine" id="cb145-8" title="8"><span class="st">  </span>ggplot2<span class="op">::</span><span class="kw">theme</span>(</a>
<a class="sourceLine" id="cb145-9" title="9">      <span class="dt">axis.text.x =</span> <span class="kw">element_text</span>(</a>
<a class="sourceLine" id="cb145-10" title="10">      <span class="dt">angle =</span> <span class="dv">60</span>,</a>
<a class="sourceLine" id="cb145-11" title="11">      <span class="dt">hjust =</span> <span class="dv">1</span>,</a>
<a class="sourceLine" id="cb145-12" title="12">      <span class="dt">size =</span> <span class="dv">9</span></a>
<a class="sourceLine" id="cb145-13" title="13">    )) <span class="op">+</span></a>
<a class="sourceLine" id="cb145-14" title="14"><span class="st">    </span>ggplot2<span class="op">::</span><span class="kw">labs</span>(</a>
<a class="sourceLine" id="cb145-15" title="15">    <span class="dt">title =</span> <span class="st">&quot;Month on which NEW activity occurred&quot;</span>,</a>
<a class="sourceLine" id="cb145-16" title="16">    <span class="dt">x =</span> <span class="st">&quot;Date&quot;</span>,</a>
<a class="sourceLine" id="cb145-17" title="17">    <span class="dt">y =</span> <span class="st">&quot;Number of activities&quot;</span></a>
<a class="sourceLine" id="cb145-18" title="18">  ) <span class="op">+</span></a>
<a class="sourceLine" id="cb145-19" title="19"><span class="st">  </span>ggplot2<span class="op">::</span><span class="kw">guides</span>(<span class="dt">colour =</span> <span class="kw">guide_legend</span>(<span class="dt">override.aes =</span> <span class="kw">list</span>(<span class="dt">size=</span><span class="dv">5</span>)))</a></code></pre></div>
<p><img src="bookdown-demo_files/figure-html/unnamed-chunk-62-1.png" width="672" /></p>
<ul>
<li>Let’s further explore the activity over time. The bar plot below counts the number of occurrences of the <code>NEW</code> activity in each month. We can see all the <code>NEW</code> activities occurred between January and April 2013.</li>
</ul>
<div class="sourceCode" id="cb146"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb146-1" title="1">min &lt;-<span class="st"> </span>lubridate<span class="op">::</span><span class="kw">as_date</span>(base<span class="op">::</span><span class="kw">min</span>(eventdataR<span class="op">::</span>hospital_billing<span class="op">$</span>timestamp))</a>
<a class="sourceLine" id="cb146-2" title="2">max &lt;-<span class="st"> </span>lubridate<span class="op">::</span><span class="kw">as_date</span>(base<span class="op">::</span><span class="kw">max</span>(eventdataR<span class="op">::</span>hospital_billing<span class="op">$</span>timestamp))</a>
<a class="sourceLine" id="cb146-3" title="3"></a>
<a class="sourceLine" id="cb146-4" title="4">eventdataR<span class="op">::</span>hospital_billing <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb146-5" title="5"><span class="st">  </span>edeaR<span class="op">::</span><span class="kw">filter_activity</span>(<span class="dt">activities =</span> <span class="kw">c</span>(<span class="st">&quot;NEW&quot;</span>)) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb146-6" title="6"><span class="st">  </span>dplyr<span class="op">::</span><span class="kw">mutate</span>(<span class="dt">day =</span> lubridate<span class="op">::</span><span class="kw">as_date</span>(timestamp),</a>
<a class="sourceLine" id="cb146-7" title="7">                <span class="dt">month =</span> base<span class="op">::</span><span class="kw">cut</span>(day, <span class="st">&quot;month&quot;</span>),</a>
<a class="sourceLine" id="cb146-8" title="8">                <span class="dt">month =</span> lubridate<span class="op">::</span><span class="kw">as_date</span>(month)) <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb146-9" title="9"><span class="st">  </span>dplyr<span class="op">::</span><span class="kw">count</span>(month) <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb146-10" title="10"><span class="st">  </span>ggplot2<span class="op">::</span><span class="kw">ggplot</span>() <span class="op">+</span></a>
<a class="sourceLine" id="cb146-11" title="11"><span class="st">  </span>ggplot2<span class="op">::</span><span class="kw">aes</span>(<span class="dt">x =</span> month,</a>
<a class="sourceLine" id="cb146-12" title="12">               <span class="dt">y =</span> n) <span class="op">+</span></a>
<a class="sourceLine" id="cb146-13" title="13"><span class="st">  </span>ggplot2<span class="op">::</span><span class="kw">geom_bar</span>(<span class="dt">stat =</span> <span class="st">&quot;identity&quot;</span>) <span class="op">+</span></a>
<a class="sourceLine" id="cb146-14" title="14"><span class="st">  </span>ggplot2<span class="op">::</span><span class="kw">scale_x_date</span>(<span class="dt">date_breaks =</span> <span class="st">&quot;1 month&quot;</span>,</a>
<a class="sourceLine" id="cb146-15" title="15">                          <span class="dt">labels =</span> scales<span class="op">::</span><span class="kw">date_format</span>(<span class="st">&quot;%b %y&quot;</span>),</a>
<a class="sourceLine" id="cb146-16" title="16">                          <span class="dt">limits =</span> <span class="kw">c</span>(min,max)) <span class="op">+</span></a>
<a class="sourceLine" id="cb146-17" title="17"><span class="st">  </span>ggplot2<span class="op">::</span><span class="kw">theme_minimal</span>() <span class="op">+</span></a>
<a class="sourceLine" id="cb146-18" title="18"><span class="st">  </span>ggplot2<span class="op">::</span><span class="kw">theme</span>(</a>
<a class="sourceLine" id="cb146-19" title="19">      <span class="dt">axis.text.x =</span> <span class="kw">element_text</span>(</a>
<a class="sourceLine" id="cb146-20" title="20">      <span class="dt">angle =</span> <span class="dv">60</span>,</a>
<a class="sourceLine" id="cb146-21" title="21">      <span class="dt">hjust =</span> <span class="dv">1</span>,</a>
<a class="sourceLine" id="cb146-22" title="22">      <span class="dt">size =</span> <span class="dv">9</span></a>
<a class="sourceLine" id="cb146-23" title="23">    )) <span class="op">+</span></a>
<a class="sourceLine" id="cb146-24" title="24"><span class="st">    </span>ggplot2<span class="op">::</span><span class="kw">labs</span>(</a>
<a class="sourceLine" id="cb146-25" title="25">    <span class="dt">title =</span> <span class="st">&quot;Month on which NEW activity occurred&quot;</span>,</a>
<a class="sourceLine" id="cb146-26" title="26">    <span class="dt">x =</span> <span class="st">&quot;Date&quot;</span>,</a>
<a class="sourceLine" id="cb146-27" title="27">    <span class="dt">y =</span> <span class="st">&quot;Number of activities&quot;</span></a>
<a class="sourceLine" id="cb146-28" title="28">  ) </a></code></pre></div>
<pre><code>## Warning: Removed 1 rows containing missing values (position_stack).</code></pre>
<p><img src="bookdown-demo_files/figure-html/unnamed-chunk-63-1.png" width="672" /></p>
<ul>
<li>Next we sort the order of the rows of dots by the start date.</li>
</ul>
<div class="sourceCode" id="cb148"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb148-1" title="1">p &lt;-<span class="st"> </span>eventdataR<span class="op">::</span>hospital_billing <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb148-2" title="2"><span class="st">  </span>edeaR<span class="op">::</span><span class="kw">filter_trace_frequency</span>(<span class="dt">percentage =</span> <span class="fl">0.9</span>) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb148-3" title="3"><span class="st">  </span>processmapR<span class="op">::</span><span class="kw">dotted_chart</span>(<span class="dt">x =</span> <span class="st">&quot;absolute&quot;</span>, </a>
<a class="sourceLine" id="cb148-4" title="4">                                    <span class="dt">sort =</span> <span class="st">&quot;start&quot;</span>)</a></code></pre></div>
<pre><code>## Joining, by = &quot;case_id&quot;</code></pre>
<div class="sourceCode" id="cb150"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb150-1" title="1"><span class="co"># change the format of the x axis to a date</span></a>
<a class="sourceLine" id="cb150-2" title="2">p<span class="op">$</span>data<span class="op">$</span>start &lt;-<span class="st"> </span><span class="kw">as.Date</span>(p<span class="op">$</span>data<span class="op">$</span>start) </a>
<a class="sourceLine" id="cb150-3" title="3"></a>
<a class="sourceLine" id="cb150-4" title="4">p <span class="op">+</span></a>
<a class="sourceLine" id="cb150-5" title="5"><span class="st">  </span>ggplot2<span class="op">::</span><span class="kw">scale_x_date</span>(<span class="dt">date_breaks =</span> <span class="st">&quot;1 month&quot;</span>,</a>
<a class="sourceLine" id="cb150-6" title="6">                          <span class="dt">labels =</span> scales<span class="op">::</span><span class="kw">date_format</span>(<span class="st">&quot;%b %y&quot;</span>)) <span class="op">+</span></a>
<a class="sourceLine" id="cb150-7" title="7"><span class="st">  </span>ggplot2<span class="op">::</span><span class="kw">theme_minimal</span>() <span class="op">+</span></a>
<a class="sourceLine" id="cb150-8" title="8"><span class="st">  </span>ggplot2<span class="op">::</span><span class="kw">theme</span>(</a>
<a class="sourceLine" id="cb150-9" title="9">      <span class="dt">axis.text.x =</span> <span class="kw">element_text</span>(</a>
<a class="sourceLine" id="cb150-10" title="10">      <span class="dt">angle =</span> <span class="dv">60</span>,</a>
<a class="sourceLine" id="cb150-11" title="11">      <span class="dt">hjust =</span> <span class="dv">1</span>,</a>
<a class="sourceLine" id="cb150-12" title="12">      <span class="dt">size =</span> <span class="dv">9</span></a>
<a class="sourceLine" id="cb150-13" title="13">    )) <span class="op">+</span></a>
<a class="sourceLine" id="cb150-14" title="14"><span class="st">    </span>ggplot2<span class="op">::</span><span class="kw">labs</span>(</a>
<a class="sourceLine" id="cb150-15" title="15">    <span class="dt">title =</span> <span class="st">&quot;Month on which NEW activity occurred&quot;</span>,</a>
<a class="sourceLine" id="cb150-16" title="16">    <span class="dt">x =</span> <span class="st">&quot;Date&quot;</span>,</a>
<a class="sourceLine" id="cb150-17" title="17">    <span class="dt">y =</span> <span class="st">&quot;Number of activities&quot;</span></a>
<a class="sourceLine" id="cb150-18" title="18">  ) <span class="op">+</span></a>
<a class="sourceLine" id="cb150-19" title="19"><span class="st">  </span>ggplot2<span class="op">::</span><span class="kw">guides</span>(<span class="dt">colour =</span> <span class="kw">guide_legend</span>(<span class="dt">override.aes =</span> <span class="kw">list</span>(<span class="dt">size=</span><span class="dv">5</span>)))</a></code></pre></div>
<p><img src="bookdown-demo_files/figure-html/unnamed-chunk-64-1.png" width="672" /></p>
<ul>
<li>This reveals two distinct groups of cases, one where the <code>BILLED</code> activity (green dots) often occurs during autumn 2013, and the other where <code>BILLED</code> often occurs during spring 2014. However, with so many dots plotted, it is hard to follow the path for a case individually. This is known as “over-plotting”. We can reduce over-plotting by sampling the cases with <code>dplyr</code> first. We can also use the plotly version of a dotted chart and hover our mouse pointer over each dot. This reveals the case id making is possible to follow the path of individual cases by hand.</li>
</ul>
<div class="sourceCode" id="cb151"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb151-1" title="1">eventdataR<span class="op">::</span>hospital_billing <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb151-2" title="2"><span class="st">  </span>edeaR<span class="op">::</span><span class="kw">filter_trace_frequency</span>(<span class="dt">percentage =</span> <span class="fl">0.9</span>) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb151-3" title="3"><span class="st">  </span>dplyr<span class="op">::</span><span class="kw">sample_n</span>(<span class="dt">size =</span> <span class="dv">100</span>) <span class="op">%&gt;%</span><span class="st">  </span></a>
<a class="sourceLine" id="cb151-4" title="4"><span class="st">  </span>processmapR<span class="op">::</span><span class="kw">plotly_dotted_chart</span>(<span class="dt">x =</span> <span class="st">&quot;absolute&quot;</span>, </a>
<a class="sourceLine" id="cb151-5" title="5">                                    <span class="dt">sort =</span> <span class="st">&quot;start&quot;</span>)</a></code></pre></div>
<pre><code>## Joining, by = &quot;case_id&quot;</code></pre>
<div id="htmlwidget-ccf3746737d3edf8164e" style="width:672px;height:480px;" class="plotly html-widget"></div>
<script type="application/json" data-for="htmlwidget-ccf3746737d3edf8164e">{"x":{"data":[{"x":[1374447974,1374621703,1393525342,1375299441,1372975994,1404264907,1372117688,1372447718,1369728559,1372962974,1376004896,1373840675,1372880559,1372788824,1375661406,1373067724,1392545193,1379326493,1372114765,1375441688,1375827936,1391087510,1368565777,1374114062,1375284253,1375888408,1369306594,1394667681,1387626752,1375654844,1374526449,1384659936,1375472773,1376609707,1373667522,1375582353,1376752817,1377356990,1395440273,1378719980,1375126726,1390366429,1373668768,1366965368,1392787598,1372432752,1373939230,1391230919,1376098325,1377252324,1374620893,1368873340,1375915842,1372459526,1386727872,1387108777,1393443755,1395526575,1372544961,1390532393,1374874330,1398373059,1372285767,1393088449,1374280527,1375356313,1374661913,1396559848,1378721581,1373674785,1374519681,1387453740,1391723861,1373507731,1397912153,1398030854],"y":[25,8,71,83,72,82,39,100,19,90,59,55,91,36,44,21,78,4,65,32,26,92,85,28,28,28,10,40,33,70,66,98,5,73,97,14,14,14,35,69,87,96,93,74,18,34,41,75,38,57,20,42,29,51,43,22,56,24,50,12,54,2,53,64,81,7,3,16,15,89,76,37,79,61,9,49],"text":["color: BILLED<br />start: 2013-07-21 23:06:14<br />reorder(case_id, desc(start_case_rank)): AJJ","color: BILLED<br />start: 2013-07-23 23:21:43<br />reorder(case_id, desc(start_case_rank)): AQM","color: BILLED<br />start: 2014-02-27 18:22:22<br />reorder(case_id, desc(start_case_rank)): ASC","color: BILLED<br />start: 2013-07-31 19:37:21<br />reorder(case_id, desc(start_case_rank)): AV","color: BILLED<br />start: 2013-07-04 22:13:14<br />reorder(case_id, desc(start_case_rank)): AWF","color: BILLED<br />start: 2014-07-02 01:35:07<br />reorder(case_id, desc(start_case_rank)): AX","color: BILLED<br />start: 2013-06-24 23:48:08<br />reorder(case_id, desc(start_case_rank)): BJM","color: BILLED<br />start: 2013-06-28 19:28:38<br />reorder(case_id, desc(start_case_rank)): CD","color: BILLED<br />start: 2013-05-28 08:09:19<br />reorder(case_id, desc(start_case_rank)): CQI","color: BILLED<br />start: 2013-07-04 18:36:14<br />reorder(case_id, desc(start_case_rank)): DCC","color: BILLED<br />start: 2013-08-08 23:34:56<br />reorder(case_id, desc(start_case_rank)): DDE","color: BILLED<br />start: 2013-07-14 22:24:35<br />reorder(case_id, desc(start_case_rank)): DSI","color: BILLED<br />start: 2013-07-03 19:42:39<br />reorder(case_id, desc(start_case_rank)): FGC","color: BILLED<br />start: 2013-07-02 18:13:44<br />reorder(case_id, desc(start_case_rank)): FKL","color: BILLED<br />start: 2013-08-05 00:10:06<br />reorder(case_id, desc(start_case_rank)): GBH","color: BILLED<br />start: 2013-07-05 23:42:04<br />reorder(case_id, desc(start_case_rank)): GKM","color: BILLED<br />start: 2014-02-16 10:06:33<br />reorder(case_id, desc(start_case_rank)): GNF","color: BILLED<br />start: 2013-09-16 10:14:53<br />reorder(case_id, desc(start_case_rank)): HLM","color: BILLED<br />start: 2013-06-24 22:59:25<br />reorder(case_id, desc(start_case_rank)): HYI","color: BILLED<br />start: 2013-08-02 11:08:08<br />reorder(case_id, desc(start_case_rank)): ICI","color: BILLED<br />start: 2013-08-06 22:25:36<br />reorder(case_id, desc(start_case_rank)): IKN","color: BILLED<br />start: 2014-01-30 13:11:50<br />reorder(case_id, desc(start_case_rank)): IPC","color: BILLED<br />start: 2013-05-14 21:09:37<br />reorder(case_id, desc(start_case_rank)): JQA","color: BILLED<br />start: 2013-07-18 02:21:02<br />reorder(case_id, desc(start_case_rank)): JVL","color: BILLED<br />start: 2013-07-31 15:24:13<br />reorder(case_id, desc(start_case_rank)): JVL","color: BILLED<br />start: 2013-08-07 15:13:28<br />reorder(case_id, desc(start_case_rank)): JVL","color: BILLED<br />start: 2013-05-23 10:56:34<br />reorder(case_id, desc(start_case_rank)): JZK","color: BILLED<br />start: 2014-03-12 23:41:21<br />reorder(case_id, desc(start_case_rank)): KJH","color: BILLED<br />start: 2013-12-21 11:52:32<br />reorder(case_id, desc(start_case_rank)): KSG","color: BILLED<br />start: 2013-08-04 22:20:44<br />reorder(case_id, desc(start_case_rank)): LDD","color: BILLED<br />start: 2013-07-22 20:54:09<br />reorder(case_id, desc(start_case_rank)): LDE","color: BILLED<br />start: 2013-11-17 03:45:36<br />reorder(case_id, desc(start_case_rank)): LSA","color: BILLED<br />start: 2013-08-02 19:46:13<br />reorder(case_id, desc(start_case_rank)): LUL","color: BILLED<br />start: 2013-08-15 23:35:07<br />reorder(case_id, desc(start_case_rank)): LWA","color: BILLED<br />start: 2013-07-12 22:18:42<br />reorder(case_id, desc(start_case_rank)): MGA","color: BILLED<br />start: 2013-08-04 02:12:33<br />reorder(case_id, desc(start_case_rank)): MIL","color: BILLED<br />start: 2013-08-17 15:20:17<br />reorder(case_id, desc(start_case_rank)): MIL","color: BILLED<br />start: 2013-08-24 15:09:50<br />reorder(case_id, desc(start_case_rank)): MIL","color: BILLED<br />start: 2014-03-21 22:17:53<br />reorder(case_id, desc(start_case_rank)): MNH","color: BILLED<br />start: 2013-09-09 09:46:20<br />reorder(case_id, desc(start_case_rank)): MRD","color: BILLED<br />start: 2013-07-29 19:38:46<br />reorder(case_id, desc(start_case_rank)): MS","color: BILLED<br />start: 2014-01-22 04:53:49<br />reorder(case_id, desc(start_case_rank)): MUA","color: BILLED<br />start: 2013-07-12 22:39:28<br />reorder(case_id, desc(start_case_rank)): MVB","color: BILLED<br />start: 2013-04-26 08:36:08<br />reorder(case_id, desc(start_case_rank)): NBG","color: BILLED<br />start: 2014-02-19 05:26:38<br />reorder(case_id, desc(start_case_rank)): NFK","color: BILLED<br />start: 2013-06-28 15:19:12<br />reorder(case_id, desc(start_case_rank)): OJL","color: BILLED<br />start: 2013-07-16 01:47:10<br />reorder(case_id, desc(start_case_rank)): OZK","color: BILLED<br />start: 2014-02-01 05:01:59<br />reorder(case_id, desc(start_case_rank)): PBF","color: BILLED<br />start: 2013-08-10 01:32:05<br />reorder(case_id, desc(start_case_rank)): PDH","color: BILLED<br />start: 2013-08-23 10:05:24<br />reorder(case_id, desc(start_case_rank)): PMH","color: BILLED<br />start: 2013-07-23 23:08:13<br />reorder(case_id, desc(start_case_rank)): PRJ","color: BILLED<br />start: 2013-05-18 10:35:40<br />reorder(case_id, desc(start_case_rank)): PZG","color: BILLED<br />start: 2013-08-07 22:50:42<br />reorder(case_id, desc(start_case_rank)): PZM","color: BILLED<br />start: 2013-06-28 22:45:26<br />reorder(case_id, desc(start_case_rank)): QVJ","color: BILLED<br />start: 2013-12-11 02:11:12<br />reorder(case_id, desc(start_case_rank)): QWG","color: BILLED<br />start: 2013-12-15 11:59:37<br />reorder(case_id, desc(start_case_rank)): RKI","color: BILLED<br />start: 2014-02-26 19:42:35<br />reorder(case_id, desc(start_case_rank)): SHI","color: BILLED<br />start: 2014-03-22 22:16:15<br />reorder(case_id, desc(start_case_rank)): SNJ","color: BILLED<br />start: 2013-06-29 22:29:21<br />reorder(case_id, desc(start_case_rank)): SWJ","color: BILLED<br />start: 2014-01-24 02:59:53<br />reorder(case_id, desc(start_case_rank)): UBK","color: BILLED<br />start: 2013-07-26 21:32:10<br />reorder(case_id, desc(start_case_rank)): UEF","color: BILLED<br />start: 2014-04-24 20:57:39<br />reorder(case_id, desc(start_case_rank)): USN","color: BILLED<br />start: 2013-06-26 22:29:27<br />reorder(case_id, desc(start_case_rank)): VBK","color: BILLED<br />start: 2014-02-22 17:00:49<br />reorder(case_id, desc(start_case_rank)): VDI","color: BILLED<br />start: 2013-07-20 00:35:27<br />reorder(case_id, desc(start_case_rank)): XBE","color: BILLED<br />start: 2013-08-01 11:25:13<br />reorder(case_id, desc(start_case_rank)): XHL","color: BILLED<br />start: 2013-07-24 10:31:53<br />reorder(case_id, desc(start_case_rank)): XJN","color: BILLED<br />start: 2014-04-03 21:17:28<br />reorder(case_id, desc(start_case_rank)): XLN","color: BILLED<br />start: 2013-09-09 10:13:01<br />reorder(case_id, desc(start_case_rank)): XMK","color: BILLED<br />start: 2013-07-13 00:19:45<br />reorder(case_id, desc(start_case_rank)): XUD","color: BILLED<br />start: 2013-07-22 19:01:21<br />reorder(case_id, desc(start_case_rank)): ZGC","color: BILLED<br />start: 2013-12-19 11:49:00<br />reorder(case_id, desc(start_case_rank)): ZKG","color: BILLED<br />start: 2014-02-06 21:57:41<br />reorder(case_id, desc(start_case_rank)): ZNF","color: BILLED<br />start: 2013-07-11 01:55:31<br />reorder(case_id, desc(start_case_rank)): ZPI","color: BILLED<br />start: 2014-04-19 12:55:53<br />reorder(case_id, desc(start_case_rank)): ZSM","color: BILLED<br />start: 2014-04-20 21:54:14<br />reorder(case_id, desc(start_case_rank)): ZVE"],"type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(127,201,127,1)","opacity":1,"size":5.66929133858268,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(127,201,127,1)"}},"hoveron":"points","name":"BILLED","legendgroup":"BILLED","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[1364659793,1365345579,1361876977,1359118036,1360327183,1368184182,1362742066,1355832600,1363857764,1366914140,1358009136,1361094328,1358006116,1362847878,1362234686,1363685632,1365860935,1360865009,1363283837,1364052795,1359022963,1363360455,1365261405,1363090139,1360229518,1360744689,1360744766,1365856888,1363000914,1356533042,1364469101,1358870536,1362838505,1358947929,1359805110,1363441564,1362672173,1362770141,1361178865,1363795561,1362582299,1364557771,1361704581,1363624164,1361800804,1361592344,1370262786,1363444017,1359308621,1364374984,1359560192,1359638906,1362817821,1361014191,1361869651],"y":[25,8,71,83,72,82,39,100,19,19,90,59,91,36,44,21,4,65,32,26,85,28,10,33,70,66,66,5,73,97,14,87,96,93,74,34,41,38,57,20,42,29,51,22,50,54,2,53,81,15,89,76,37,61,49],"text":["color: CHANGE DIAGN<br />start: 2013-03-30 16:09:53<br />reorder(case_id, desc(start_case_rank)): AJJ","color: CHANGE DIAGN<br />start: 2013-04-07 14:39:39<br />reorder(case_id, desc(start_case_rank)): AQM","color: CHANGE DIAGN<br />start: 2013-02-26 11:09:37<br />reorder(case_id, desc(start_case_rank)): ASC","color: CHANGE DIAGN<br />start: 2013-01-25 12:47:16<br />reorder(case_id, desc(start_case_rank)): AV","color: CHANGE DIAGN<br />start: 2013-02-08 12:39:43<br />reorder(case_id, desc(start_case_rank)): AWF","color: CHANGE DIAGN<br />start: 2013-05-10 11:09:42<br />reorder(case_id, desc(start_case_rank)): AX","color: CHANGE DIAGN<br />start: 2013-03-08 11:27:46<br />reorder(case_id, desc(start_case_rank)): BJM","color: CHANGE DIAGN<br />start: 2012-12-18 12:10:00<br />reorder(case_id, desc(start_case_rank)): CD","color: CHANGE DIAGN<br />start: 2013-03-21 09:22:44<br />reorder(case_id, desc(start_case_rank)): CQI","color: CHANGE DIAGN<br />start: 2013-04-25 18:22:20<br />reorder(case_id, desc(start_case_rank)): CQI","color: CHANGE DIAGN<br />start: 2013-01-12 16:45:36<br />reorder(case_id, desc(start_case_rank)): DCC","color: CHANGE DIAGN<br />start: 2013-02-17 09:45:28<br />reorder(case_id, desc(start_case_rank)): DDE","color: CHANGE DIAGN<br />start: 2013-01-12 15:55:16<br />reorder(case_id, desc(start_case_rank)): FGC","color: CHANGE DIAGN<br />start: 2013-03-09 16:51:18<br />reorder(case_id, desc(start_case_rank)): FKL","color: CHANGE DIAGN<br />start: 2013-03-02 14:31:26<br />reorder(case_id, desc(start_case_rank)): GBH","color: CHANGE DIAGN<br />start: 2013-03-19 09:33:52<br />reorder(case_id, desc(start_case_rank)): GKM","color: CHANGE DIAGN<br />start: 2013-04-13 13:48:55<br />reorder(case_id, desc(start_case_rank)): HLM","color: CHANGE DIAGN<br />start: 2013-02-14 18:03:29<br />reorder(case_id, desc(start_case_rank)): HYI","color: CHANGE DIAGN<br />start: 2013-03-14 17:57:17<br />reorder(case_id, desc(start_case_rank)): ICI","color: CHANGE DIAGN<br />start: 2013-03-23 15:33:15<br />reorder(case_id, desc(start_case_rank)): IKN","color: CHANGE DIAGN<br />start: 2013-01-24 10:22:43<br />reorder(case_id, desc(start_case_rank)): JQA","color: CHANGE DIAGN<br />start: 2013-03-15 15:14:15<br />reorder(case_id, desc(start_case_rank)): JVL","color: CHANGE DIAGN<br />start: 2013-04-06 15:16:45<br />reorder(case_id, desc(start_case_rank)): JZK","color: CHANGE DIAGN<br />start: 2013-03-12 12:08:59<br />reorder(case_id, desc(start_case_rank)): KSG","color: CHANGE DIAGN<br />start: 2013-02-07 09:31:58<br />reorder(case_id, desc(start_case_rank)): LDD","color: CHANGE DIAGN<br />start: 2013-02-13 08:38:09<br />reorder(case_id, desc(start_case_rank)): LDE","color: CHANGE DIAGN<br />start: 2013-02-13 08:39:26<br />reorder(case_id, desc(start_case_rank)): LDE","color: CHANGE DIAGN<br />start: 2013-04-13 12:41:28<br />reorder(case_id, desc(start_case_rank)): LUL","color: CHANGE DIAGN<br />start: 2013-03-11 11:21:54<br />reorder(case_id, desc(start_case_rank)): LWA","color: CHANGE DIAGN<br />start: 2012-12-26 14:44:02<br />reorder(case_id, desc(start_case_rank)): MGA","color: CHANGE DIAGN<br />start: 2013-03-28 11:11:41<br />reorder(case_id, desc(start_case_rank)): MIL","color: CHANGE DIAGN<br />start: 2013-01-22 16:02:16<br />reorder(case_id, desc(start_case_rank)): MS","color: CHANGE DIAGN<br />start: 2013-03-09 14:15:05<br />reorder(case_id, desc(start_case_rank)): MUA","color: CHANGE DIAGN<br />start: 2013-01-23 13:32:09<br />reorder(case_id, desc(start_case_rank)): MVB","color: CHANGE DIAGN<br />start: 2013-02-02 11:38:30<br />reorder(case_id, desc(start_case_rank)): NBG","color: CHANGE DIAGN<br />start: 2013-03-16 13:46:04<br />reorder(case_id, desc(start_case_rank)): OJL","color: CHANGE DIAGN<br />start: 2013-03-07 16:02:53<br />reorder(case_id, desc(start_case_rank)): OZK","color: CHANGE DIAGN<br />start: 2013-03-08 19:15:41<br />reorder(case_id, desc(start_case_rank)): PDH","color: CHANGE DIAGN<br />start: 2013-02-18 09:14:25<br />reorder(case_id, desc(start_case_rank)): PMH","color: CHANGE DIAGN<br />start: 2013-03-20 16:06:01<br />reorder(case_id, desc(start_case_rank)): PRJ","color: CHANGE DIAGN<br />start: 2013-03-06 15:04:59<br />reorder(case_id, desc(start_case_rank)): PZG","color: CHANGE DIAGN<br />start: 2013-03-29 11:49:31<br />reorder(case_id, desc(start_case_rank)): PZM","color: CHANGE DIAGN<br />start: 2013-02-24 11:16:21<br />reorder(case_id, desc(start_case_rank)): QVJ","color: CHANGE DIAGN<br />start: 2013-03-18 16:29:24<br />reorder(case_id, desc(start_case_rank)): RKI","color: CHANGE DIAGN<br />start: 2013-02-25 14:00:04<br />reorder(case_id, desc(start_case_rank)): SWJ","color: CHANGE DIAGN<br />start: 2013-02-23 04:05:44<br />reorder(case_id, desc(start_case_rank)): UEF","color: CHANGE DIAGN<br />start: 2013-06-03 12:33:06<br />reorder(case_id, desc(start_case_rank)): USN","color: CHANGE DIAGN<br />start: 2013-03-16 14:26:57<br />reorder(case_id, desc(start_case_rank)): VBK","color: CHANGE DIAGN<br />start: 2013-01-27 17:43:41<br />reorder(case_id, desc(start_case_rank)): XBE","color: CHANGE DIAGN<br />start: 2013-03-27 09:03:04<br />reorder(case_id, desc(start_case_rank)): XMK","color: CHANGE DIAGN<br />start: 2013-01-30 15:36:32<br />reorder(case_id, desc(start_case_rank)): XUD","color: CHANGE DIAGN<br />start: 2013-01-31 13:28:26<br />reorder(case_id, desc(start_case_rank)): ZGC","color: CHANGE DIAGN<br />start: 2013-03-09 08:30:21<br />reorder(case_id, desc(start_case_rank)): ZKG","color: CHANGE DIAGN<br />start: 2013-02-16 11:29:51<br />reorder(case_id, desc(start_case_rank)): ZPI","color: CHANGE DIAGN<br />start: 2013-02-26 09:07:31<br />reorder(case_id, desc(start_case_rank)): ZVE"],"type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(190,174,212,1)","opacity":1,"size":5.66929133858268,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(190,174,212,1)"}},"hoveron":"points","name":"CHANGE DIAGN","legendgroup":"CHANGE DIAGN","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[1368497405,1373593307,1392204508,1367378639,1364351022,1370912270,1404046191,1371004173,1364084696,1367545775,1366261839,1367036983,1364875640,1366249052,1371087610,1370485700,1371954575,1391477999,1374024175,1369100521,1374551912,1371523561,1389579799,1363493228,1371628876,1365831653,1394505888,1371347655,1366799573,1369237841,1369022186,1384229239,1373511136,1367212650,1364787930,1372730205,1395035234,1375237874,1363054882,1388751384,1365830252,1365563636,1391057627,1371696186,1368063220,1389424886,1371024212,1365646486,1372044534,1363230324,1371612290,1368410929,1385431600,1371866169,1393329997,1395303847,1370057445,1389151667,1369793504,1398148184,1369879326,1392983911,1367550508,1372989746,1370227808,1396333284,1372410094,1366875673,1367890196,1371025660,1391151325,1373253534,1397637956,1362539190],"y":[25,8,71,83,72,82,82,39,100,19,90,59,55,91,36,44,21,78,4,65,32,26,92,85,28,10,40,33,70,70,66,98,5,73,97,14,35,69,87,96,93,74,18,34,41,75,38,57,20,42,29,51,43,22,56,24,50,12,54,2,53,64,81,7,3,16,15,89,76,37,79,61,9,49],"text":["color: CODE OK<br />start: 2013-05-14 02:10:05<br />reorder(case_id, desc(start_case_rank)): AJJ","color: CODE OK<br />start: 2013-07-12 01:41:47<br />reorder(case_id, desc(start_case_rank)): AQM","color: CODE OK<br />start: 2014-02-12 11:28:28<br />reorder(case_id, desc(start_case_rank)): ASC","color: CODE OK<br />start: 2013-05-01 03:23:59<br />reorder(case_id, desc(start_case_rank)): AV","color: CODE OK<br />start: 2013-03-27 02:23:42<br />reorder(case_id, desc(start_case_rank)): AWF","color: CODE OK<br />start: 2013-06-11 00:57:50<br />reorder(case_id, desc(start_case_rank)): AX","color: CODE OK<br />start: 2014-06-29 12:49:51<br />reorder(case_id, desc(start_case_rank)): AX","color: CODE OK<br />start: 2013-06-12 02:29:33<br />reorder(case_id, desc(start_case_rank)): BJM","color: CODE OK<br />start: 2013-03-24 00:24:56<br />reorder(case_id, desc(start_case_rank)): CD","color: CODE OK<br />start: 2013-05-03 01:49:35<br />reorder(case_id, desc(start_case_rank)): CQI","color: CODE OK<br />start: 2013-04-18 05:10:39<br />reorder(case_id, desc(start_case_rank)): DCC","color: CODE OK<br />start: 2013-04-27 04:29:43<br />reorder(case_id, desc(start_case_rank)): DDE","color: CODE OK<br />start: 2013-04-02 04:07:20<br />reorder(case_id, desc(start_case_rank)): DSI","color: CODE OK<br />start: 2013-04-18 01:37:32<br />reorder(case_id, desc(start_case_rank)): FGC","color: CODE OK<br />start: 2013-06-13 01:40:10<br />reorder(case_id, desc(start_case_rank)): FKL","color: CODE OK<br />start: 2013-06-06 02:28:20<br />reorder(case_id, desc(start_case_rank)): GBH","color: CODE OK<br />start: 2013-06-23 02:29:35<br />reorder(case_id, desc(start_case_rank)): GKM","color: CODE OK<br />start: 2014-02-04 01:39:59<br />reorder(case_id, desc(start_case_rank)): GNF","color: CODE OK<br />start: 2013-07-17 01:22:55<br />reorder(case_id, desc(start_case_rank)): HLM","color: CODE OK<br />start: 2013-05-21 01:42:01<br />reorder(case_id, desc(start_case_rank)): HYI","color: CODE OK<br />start: 2013-07-23 03:58:32<br />reorder(case_id, desc(start_case_rank)): ICI","color: CODE OK<br />start: 2013-06-18 02:46:01<br />reorder(case_id, desc(start_case_rank)): IKN","color: CODE OK<br />start: 2014-01-13 02:23:19<br />reorder(case_id, desc(start_case_rank)): IPC","color: CODE OK<br />start: 2013-03-17 04:07:08<br />reorder(case_id, desc(start_case_rank)): JQA","color: CODE OK<br />start: 2013-06-19 08:01:16<br />reorder(case_id, desc(start_case_rank)): JVL","color: CODE OK<br />start: 2013-04-13 05:40:53<br />reorder(case_id, desc(start_case_rank)): JZK","color: CODE OK<br />start: 2014-03-11 02:44:48<br />reorder(case_id, desc(start_case_rank)): KJH","color: CODE OK<br />start: 2013-06-16 01:54:15<br />reorder(case_id, desc(start_case_rank)): KSG","color: CODE OK<br />start: 2013-04-24 10:32:53<br />reorder(case_id, desc(start_case_rank)): LDD","color: CODE OK<br />start: 2013-05-22 15:50:41<br />reorder(case_id, desc(start_case_rank)): LDD","color: CODE OK<br />start: 2013-05-20 03:56:26<br />reorder(case_id, desc(start_case_rank)): LDE","color: CODE OK<br />start: 2013-11-12 04:07:19<br />reorder(case_id, desc(start_case_rank)): LSA","color: CODE OK<br />start: 2013-07-11 02:52:16<br />reorder(case_id, desc(start_case_rank)): LUL","color: CODE OK<br />start: 2013-04-29 05:17:30<br />reorder(case_id, desc(start_case_rank)): LWA","color: CODE OK<br />start: 2013-04-01 03:45:30<br />reorder(case_id, desc(start_case_rank)): MGA","color: CODE OK<br />start: 2013-07-02 01:56:45<br />reorder(case_id, desc(start_case_rank)): MIL","color: CODE OK<br />start: 2014-03-17 05:47:14<br />reorder(case_id, desc(start_case_rank)): MNH","color: CODE OK<br />start: 2013-07-31 02:31:14<br />reorder(case_id, desc(start_case_rank)): MRD","color: CODE OK<br />start: 2013-03-12 02:21:22<br />reorder(case_id, desc(start_case_rank)): MS","color: CODE OK<br />start: 2014-01-03 12:16:24<br />reorder(case_id, desc(start_case_rank)): MUA","color: CODE OK<br />start: 2013-04-13 05:17:32<br />reorder(case_id, desc(start_case_rank)): MVB","color: CODE OK<br />start: 2013-04-10 03:13:56<br />reorder(case_id, desc(start_case_rank)): NBG","color: CODE OK<br />start: 2014-01-30 04:53:47<br />reorder(case_id, desc(start_case_rank)): NFK","color: CODE OK<br />start: 2013-06-20 02:43:06<br />reorder(case_id, desc(start_case_rank)): OJL","color: CODE OK<br />start: 2013-05-09 01:33:40<br />reorder(case_id, desc(start_case_rank)): OZK","color: CODE OK<br />start: 2014-01-11 07:21:26<br />reorder(case_id, desc(start_case_rank)): PBF","color: CODE OK<br />start: 2013-06-12 08:03:32<br />reorder(case_id, desc(start_case_rank)): PDH","color: CODE OK<br />start: 2013-04-11 02:14:46<br />reorder(case_id, desc(start_case_rank)): PMH","color: CODE OK<br />start: 2013-06-24 03:28:54<br />reorder(case_id, desc(start_case_rank)): PRJ","color: CODE OK<br />start: 2013-03-14 03:05:24<br />reorder(case_id, desc(start_case_rank)): PZG","color: CODE OK<br />start: 2013-06-19 03:24:50<br />reorder(case_id, desc(start_case_rank)): PZM","color: CODE OK<br />start: 2013-05-13 02:08:49<br />reorder(case_id, desc(start_case_rank)): QVJ","color: CODE OK<br />start: 2013-11-26 02:06:40<br />reorder(case_id, desc(start_case_rank)): QWG","color: CODE OK<br />start: 2013-06-22 01:56:09<br />reorder(case_id, desc(start_case_rank)): RKI","color: CODE OK<br />start: 2014-02-25 12:06:37<br />reorder(case_id, desc(start_case_rank)): SHI","color: CODE OK<br />start: 2014-03-20 08:24:07<br />reorder(case_id, desc(start_case_rank)): SNJ","color: CODE OK<br />start: 2013-06-01 03:30:45<br />reorder(case_id, desc(start_case_rank)): SWJ","color: CODE OK<br />start: 2014-01-08 03:27:47<br />reorder(case_id, desc(start_case_rank)): UBK","color: CODE OK<br />start: 2013-05-29 02:11:44<br />reorder(case_id, desc(start_case_rank)): UEF","color: CODE OK<br />start: 2014-04-22 06:29:44<br />reorder(case_id, desc(start_case_rank)): USN","color: CODE OK<br />start: 2013-05-30 02:02:06<br />reorder(case_id, desc(start_case_rank)): VBK","color: CODE OK<br />start: 2014-02-21 11:58:31<br />reorder(case_id, desc(start_case_rank)): VDI","color: CODE OK<br />start: 2013-05-03 03:08:28<br />reorder(case_id, desc(start_case_rank)): XBE","color: CODE OK<br />start: 2013-07-05 02:02:26<br />reorder(case_id, desc(start_case_rank)): XHL","color: CODE OK<br />start: 2013-06-03 02:50:08<br />reorder(case_id, desc(start_case_rank)): XJN","color: CODE OK<br />start: 2014-04-01 06:21:24<br />reorder(case_id, desc(start_case_rank)): XLN","color: CODE OK<br />start: 2013-06-28 09:01:34<br />reorder(case_id, desc(start_case_rank)): XMK","color: CODE OK<br />start: 2013-04-25 07:41:13<br />reorder(case_id, desc(start_case_rank)): XUD","color: CODE OK<br />start: 2013-05-07 01:29:56<br />reorder(case_id, desc(start_case_rank)): ZGC","color: CODE OK<br />start: 2013-06-12 08:27:40<br />reorder(case_id, desc(start_case_rank)): ZKG","color: CODE OK<br />start: 2014-01-31 06:55:25<br />reorder(case_id, desc(start_case_rank)): ZNF","color: CODE OK<br />start: 2013-07-08 03:18:54<br />reorder(case_id, desc(start_case_rank)): ZPI","color: CODE OK<br />start: 2014-04-16 08:45:56<br />reorder(case_id, desc(start_case_rank)): ZSM","color: CODE OK<br />start: 2013-03-06 03:06:30<br />reorder(case_id, desc(start_case_rank)): ZVE"],"type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(253,192,134,1)","opacity":1,"size":5.66929133858268,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(253,192,134,1)"}},"hoveron":"points","name":"CODE OK","legendgroup":"CODE OK","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[1367663225,1357898625,1384793342,1364223858,1364730290,1366897630,1366019242,1373115983],"y":[88,94,84,17,80,68,31,27],"text":["color: DELETE<br />start: 2013-05-04 10:27:05<br />reorder(case_id, desc(start_case_rank)): EBF","color: DELETE<br />start: 2013-01-11 10:03:45<br />reorder(case_id, desc(start_case_rank)): GEC","color: DELETE<br />start: 2013-11-18 16:49:02<br />reorder(case_id, desc(start_case_rank)): GQE","color: DELETE<br />start: 2013-03-25 15:04:18<br />reorder(case_id, desc(start_case_rank)): IDJ","color: DELETE<br />start: 2013-03-31 11:44:50<br />reorder(case_id, desc(start_case_rank)): LYE","color: DELETE<br />start: 2013-04-25 13:47:10<br />reorder(case_id, desc(start_case_rank)): WRC","color: DELETE<br />start: 2013-04-15 09:47:22<br />reorder(case_id, desc(start_case_rank)): XNL","color: DELETE<br />start: 2013-07-06 13:06:23<br />reorder(case_id, desc(start_case_rank)): XWI"],"type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(255,255,153,1)","opacity":1,"size":5.66929133858268,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(255,255,153,1)"}},"hoveron":"points","name":"DELETE","legendgroup":"DELETE","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[1368320761,1373314804,1391821070,1366925442,1364158184,1370901779,1374010874,1370809144,1363638256,1367275154,1366059456,1366681994,1364499026,1365973071,1370895881,1392580932,1370209527,1371759546,1391112048,1373571739,1368835719,1370998007,1371168834,1389337089,1390680169,1363461933,1363896737,1371161185,1365805509,1393891477,1371325126,1366313060,1369237834,1368475041,1383868561,1373311300,1366661235,1364322034,1372277628,1394574791,1374699414,1362598540,1388180255,1365290211,1365104008,1390521434,1371161166,1367632570,1389221698,1370390434,1365201062,1371592860,1363204120,1370998362,1368131555,1385150775,1371514443,1393012832,1394758442,1369519308,1388854118,1369439018,1397937752,1369612681,1392533677,1367356923,1372745050,1369860272,1395962961,1372038697,1366490511,1367618242,1370469709,1390532555,1368560406,1396913323,1361872220],"y":[25,8,71,83,72,82,82,39,100,19,90,59,55,91,36,63,44,21,78,4,65,32,26,92,86,85,60,28,10,40,33,70,70,66,98,5,73,97,14,35,69,87,96,93,74,18,34,41,75,38,57,20,42,29,51,43,22,56,24,50,12,54,2,53,64,81,7,3,16,15,89,76,37,79,61,9,49],"text":["color: FIN<br />start: 2013-05-12 01:06:01<br />reorder(case_id, desc(start_case_rank)): AJJ","color: FIN<br />start: 2013-07-08 20:20:04<br />reorder(case_id, desc(start_case_rank)): AQM","color: FIN<br />start: 2014-02-08 00:57:50<br />reorder(case_id, desc(start_case_rank)): ASC","color: FIN<br />start: 2013-04-25 21:30:42<br />reorder(case_id, desc(start_case_rank)): AV","color: FIN<br />start: 2013-03-24 20:49:44<br />reorder(case_id, desc(start_case_rank)): AWF","color: FIN<br />start: 2013-06-10 22:02:59<br />reorder(case_id, desc(start_case_rank)): AX","color: FIN<br />start: 2013-07-16 21:41:14<br />reorder(case_id, desc(start_case_rank)): AX","color: FIN<br />start: 2013-06-09 20:19:04<br />reorder(case_id, desc(start_case_rank)): BJM","color: FIN<br />start: 2013-03-18 20:24:16<br />reorder(case_id, desc(start_case_rank)): CD","color: FIN<br />start: 2013-04-29 22:39:14<br />reorder(case_id, desc(start_case_rank)): CQI","color: FIN<br />start: 2013-04-15 20:57:36<br />reorder(case_id, desc(start_case_rank)): DCC","color: FIN<br />start: 2013-04-23 01:53:14<br />reorder(case_id, desc(start_case_rank)): DDE","color: FIN<br />start: 2013-03-28 19:30:26<br />reorder(case_id, desc(start_case_rank)): DSI","color: FIN<br />start: 2013-04-14 20:57:51<br />reorder(case_id, desc(start_case_rank)): FGC","color: FIN<br />start: 2013-06-10 20:24:41<br />reorder(case_id, desc(start_case_rank)): FKL","color: FIN<br />start: 2014-02-16 20:02:12<br />reorder(case_id, desc(start_case_rank)): FNI","color: FIN<br />start: 2013-06-02 21:45:27<br />reorder(case_id, desc(start_case_rank)): GBH","color: FIN<br />start: 2013-06-20 20:19:06<br />reorder(case_id, desc(start_case_rank)): GKM","color: FIN<br />start: 2014-01-30 20:00:48<br />reorder(case_id, desc(start_case_rank)): GNF","color: FIN<br />start: 2013-07-11 19:42:19<br />reorder(case_id, desc(start_case_rank)): HLM","color: FIN<br />start: 2013-05-18 00:08:39<br />reorder(case_id, desc(start_case_rank)): HYI","color: FIN<br />start: 2013-06-12 00:46:47<br />reorder(case_id, desc(start_case_rank)): ICI","color: FIN<br />start: 2013-06-14 00:13:54<br />reorder(case_id, desc(start_case_rank)): IKN","color: FIN<br />start: 2014-01-10 06:58:09<br />reorder(case_id, desc(start_case_rank)): IPC","color: FIN<br />start: 2014-01-25 20:02:49<br />reorder(case_id, desc(start_case_rank)): IT","color: FIN<br />start: 2013-03-16 19:25:33<br />reorder(case_id, desc(start_case_rank)): JQA","color: FIN<br />start: 2013-03-21 20:12:17<br />reorder(case_id, desc(start_case_rank)): JTD","color: FIN<br />start: 2013-06-13 22:06:25<br />reorder(case_id, desc(start_case_rank)): JVL","color: FIN<br />start: 2013-04-12 22:25:09<br />reorder(case_id, desc(start_case_rank)): JZK","color: FIN<br />start: 2014-03-04 00:04:37<br />reorder(case_id, desc(start_case_rank)): KJH","color: FIN<br />start: 2013-06-15 19:38:46<br />reorder(case_id, desc(start_case_rank)): KSG","color: FIN<br />start: 2013-04-18 19:24:20<br />reorder(case_id, desc(start_case_rank)): LDD","color: FIN<br />start: 2013-05-22 15:50:34<br />reorder(case_id, desc(start_case_rank)): LDD","color: FIN<br />start: 2013-05-13 19:57:21<br />reorder(case_id, desc(start_case_rank)): LDE","color: FIN<br />start: 2013-11-07 23:56:01<br />reorder(case_id, desc(start_case_rank)): LSA","color: FIN<br />start: 2013-07-08 19:21:40<br />reorder(case_id, desc(start_case_rank)): LUL","color: FIN<br />start: 2013-04-22 20:07:15<br />reorder(case_id, desc(start_case_rank)): LWA","color: FIN<br />start: 2013-03-26 18:20:34<br />reorder(case_id, desc(start_case_rank)): MGA","color: FIN<br />start: 2013-06-26 20:13:48<br />reorder(case_id, desc(start_case_rank)): MIL","color: FIN<br />start: 2014-03-11 21:53:11<br />reorder(case_id, desc(start_case_rank)): MNH","color: FIN<br />start: 2013-07-24 20:56:54<br />reorder(case_id, desc(start_case_rank)): MRD","color: FIN<br />start: 2013-03-06 19:35:40<br />reorder(case_id, desc(start_case_rank)): MS","color: FIN<br />start: 2013-12-27 21:37:35<br />reorder(case_id, desc(start_case_rank)): MUA","color: FIN<br />start: 2013-04-06 23:16:51<br />reorder(case_id, desc(start_case_rank)): MVB","color: FIN<br />start: 2013-04-04 19:33:28<br />reorder(case_id, desc(start_case_rank)): NBG","color: FIN<br />start: 2014-01-23 23:57:14<br />reorder(case_id, desc(start_case_rank)): NFK","color: FIN<br />start: 2013-06-13 22:06:06<br />reorder(case_id, desc(start_case_rank)): OJL","color: FIN<br />start: 2013-05-04 01:56:10<br />reorder(case_id, desc(start_case_rank)): OZK","color: FIN<br />start: 2014-01-08 22:54:58<br />reorder(case_id, desc(start_case_rank)): PBF","color: FIN<br />start: 2013-06-05 00:00:34<br />reorder(case_id, desc(start_case_rank)): PDH","color: FIN<br />start: 2013-04-05 22:31:02<br />reorder(case_id, desc(start_case_rank)): PMH","color: FIN<br />start: 2013-06-18 22:01:00<br />reorder(case_id, desc(start_case_rank)): PRJ","color: FIN<br />start: 2013-03-13 19:48:40<br />reorder(case_id, desc(start_case_rank)): PZG","color: FIN<br />start: 2013-06-12 00:52:42<br />reorder(case_id, desc(start_case_rank)): PZM","color: FIN<br />start: 2013-05-09 20:32:35<br />reorder(case_id, desc(start_case_rank)): QVJ","color: FIN<br />start: 2013-11-22 20:06:15<br />reorder(case_id, desc(start_case_rank)): QWG","color: FIN<br />start: 2013-06-18 00:14:03<br />reorder(case_id, desc(start_case_rank)): RKI","color: FIN<br />start: 2014-02-21 20:00:32<br />reorder(case_id, desc(start_case_rank)): SHI","color: FIN<br />start: 2014-03-14 00:54:02<br />reorder(case_id, desc(start_case_rank)): SNJ","color: FIN<br />start: 2013-05-25 22:01:48<br />reorder(case_id, desc(start_case_rank)): SWJ","color: FIN<br />start: 2014-01-04 16:48:38<br />reorder(case_id, desc(start_case_rank)): UBK","color: FIN<br />start: 2013-05-24 23:43:38<br />reorder(case_id, desc(start_case_rank)): UEF","color: FIN<br />start: 2014-04-19 20:02:32<br />reorder(case_id, desc(start_case_rank)): USN","color: FIN<br />start: 2013-05-26 23:58:01<br />reorder(case_id, desc(start_case_rank)): VBK","color: FIN<br />start: 2014-02-16 06:54:37<br />reorder(case_id, desc(start_case_rank)): VDI","color: FIN<br />start: 2013-04-30 21:22:03<br />reorder(case_id, desc(start_case_rank)): XBE","color: FIN<br />start: 2013-07-02 06:04:10<br />reorder(case_id, desc(start_case_rank)): XHL","color: FIN<br />start: 2013-05-29 20:44:32<br />reorder(case_id, desc(start_case_rank)): XJN","color: FIN<br />start: 2014-03-27 23:29:21<br />reorder(case_id, desc(start_case_rank)): XLN","color: FIN<br />start: 2013-06-24 01:51:37<br />reorder(case_id, desc(start_case_rank)): XMK","color: FIN<br />start: 2013-04-20 20:41:51<br />reorder(case_id, desc(start_case_rank)): XUD","color: FIN<br />start: 2013-05-03 21:57:22<br />reorder(case_id, desc(start_case_rank)): ZGC","color: FIN<br />start: 2013-06-05 22:01:49<br />reorder(case_id, desc(start_case_rank)): ZKG","color: FIN<br />start: 2014-01-24 03:02:35<br />reorder(case_id, desc(start_case_rank)): ZNF","color: FIN<br />start: 2013-05-14 19:40:06<br />reorder(case_id, desc(start_case_rank)): ZPI","color: FIN<br />start: 2014-04-07 23:28:43<br />reorder(case_id, desc(start_case_rank)): ZSM","color: FIN<br />start: 2013-02-26 09:50:20<br />reorder(case_id, desc(start_case_rank)): ZVE"],"type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(56,108,176,1)","opacity":1,"size":5.66929133858268,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(56,108,176,1)"}},"hoveron":"points","name":"FIN","legendgroup":"FIN","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[1363536782,1365345541,1365551861,1360190537,1359118022,1360053634,1359214434,1362742056,1355832585,1363857747,1361919625,1358009068,1361093967,1361390360,1358719265,1362178915,1358006093,1362847854,1360958559,1362234670,1357426622,1363685618,1359489976,1359035623,1365860918,1360854455,1363253256,1364221062,1363446511,1357697964,1358890121,1361660318,1363561220,1359022946,1361022064,1363360434,1365261385,1362689945,1365033569,1363090122,1360229505,1360744680,1356519107,1360623272,1365856852,1359900916,1359319894,1356533027,1364469086,1363302020,1362950464,1360439719,1358870470,1356650072,1357549481,1359805092,1364147806,1366412453,1362178763,1363012623,1361141740,1356303367,1362672156,1359669716,1362764726,1361178839,1363795531,1362582290,1363360045,1361704532,1362391241,1363610455,1361386894,1360969145,1362092207,1363549735,1361800787,1359586469,1364913899,1361565066,1364511356,1366316304,1361630707,1360887556,1360529838,1359303122,1365396660,1366037017,1364328156,1364374968,1363261034,1358670754,1363432354,1356908170,1359638890,1362817799,1359329335,1361014176,1365290285,1361869624],"y":[25,8,6,71,83,72,82,39,100,19,48,90,59,55,88,45,91,36,63,44,94,21,78,84,4,65,32,17,26,92,86,52,23,85,60,28,10,40,11,33,70,66,98,67,5,73,80,97,14,30,35,69,87,96,93,74,18,1,46,34,58,99,41,75,38,57,20,42,29,51,43,22,56,62,47,24,50,77,12,54,13,2,53,64,68,81,7,3,16,15,31,89,27,95,76,37,79,61,9,49],"text":["color: NEW<br />start: 2013-03-17 16:13:02<br />reorder(case_id, desc(start_case_rank)): AJJ","color: NEW<br />start: 2013-04-07 14:39:01<br />reorder(case_id, desc(start_case_rank)): AQM","color: NEW<br />start: 2013-04-09 23:57:41<br />reorder(case_id, desc(start_case_rank)): ARL","color: NEW<br />start: 2013-02-06 22:42:17<br />reorder(case_id, desc(start_case_rank)): ASC","color: NEW<br />start: 2013-01-25 12:47:02<br />reorder(case_id, desc(start_case_rank)): AV","color: NEW<br />start: 2013-02-05 08:40:34<br />reorder(case_id, desc(start_case_rank)): AWF","color: NEW<br />start: 2013-01-26 15:33:54<br />reorder(case_id, desc(start_case_rank)): AX","color: NEW<br />start: 2013-03-08 11:27:36<br />reorder(case_id, desc(start_case_rank)): BJM","color: NEW<br />start: 2012-12-18 12:09:45<br />reorder(case_id, desc(start_case_rank)): CD","color: NEW<br />start: 2013-03-21 09:22:27<br />reorder(case_id, desc(start_case_rank)): CQI","color: NEW<br />start: 2013-02-26 23:00:25<br />reorder(case_id, desc(start_case_rank)): CUI","color: NEW<br />start: 2013-01-12 16:44:28<br />reorder(case_id, desc(start_case_rank)): DCC","color: NEW<br />start: 2013-02-17 09:39:27<br />reorder(case_id, desc(start_case_rank)): DDE","color: NEW<br />start: 2013-02-20 19:59:20<br />reorder(case_id, desc(start_case_rank)): DSI","color: NEW<br />start: 2013-01-20 22:01:05<br />reorder(case_id, desc(start_case_rank)): EBF","color: NEW<br />start: 2013-03-01 23:01:55<br />reorder(case_id, desc(start_case_rank)): EML","color: NEW<br />start: 2013-01-12 15:54:53<br />reorder(case_id, desc(start_case_rank)): FGC","color: NEW<br />start: 2013-03-09 16:50:54<br />reorder(case_id, desc(start_case_rank)): FKL","color: NEW<br />start: 2013-02-15 20:02:39<br />reorder(case_id, desc(start_case_rank)): FNI","color: NEW<br />start: 2013-03-02 14:31:10<br />reorder(case_id, desc(start_case_rank)): GBH","color: NEW<br />start: 2013-01-05 22:57:02<br />reorder(case_id, desc(start_case_rank)): GEC","color: NEW<br />start: 2013-03-19 09:33:38<br />reorder(case_id, desc(start_case_rank)): GKM","color: NEW<br />start: 2013-01-29 20:06:16<br />reorder(case_id, desc(start_case_rank)): GNF","color: NEW<br />start: 2013-01-24 13:53:43<br />reorder(case_id, desc(start_case_rank)): GQE","color: NEW<br />start: 2013-04-13 13:48:38<br />reorder(case_id, desc(start_case_rank)): HLM","color: NEW<br />start: 2013-02-14 15:07:35<br />reorder(case_id, desc(start_case_rank)): HYI","color: NEW<br />start: 2013-03-14 09:27:36<br />reorder(case_id, desc(start_case_rank)): ICI","color: NEW<br />start: 2013-03-25 14:17:42<br />reorder(case_id, desc(start_case_rank)): IDJ","color: NEW<br />start: 2013-03-16 15:08:31<br />reorder(case_id, desc(start_case_rank)): IKN","color: NEW<br />start: 2013-01-09 02:19:24<br />reorder(case_id, desc(start_case_rank)): IPC","color: NEW<br />start: 2013-01-22 21:28:41<br />reorder(case_id, desc(start_case_rank)): IT","color: NEW<br />start: 2013-02-23 22:58:38<br />reorder(case_id, desc(start_case_rank)): JGJ","color: NEW<br />start: 2013-03-17 23:00:20<br />reorder(case_id, desc(start_case_rank)): JJM","color: NEW<br />start: 2013-01-24 10:22:26<br />reorder(case_id, desc(start_case_rank)): JQA","color: NEW<br />start: 2013-02-16 13:41:04<br />reorder(case_id, desc(start_case_rank)): JTD","color: NEW<br />start: 2013-03-15 15:13:54<br />reorder(case_id, desc(start_case_rank)): JVL","color: NEW<br />start: 2013-04-06 15:16:25<br />reorder(case_id, desc(start_case_rank)): JZK","color: NEW<br />start: 2013-03-07 20:59:05<br />reorder(case_id, desc(start_case_rank)): KJH","color: NEW<br />start: 2013-04-03 23:59:29<br />reorder(case_id, desc(start_case_rank)): KKK","color: NEW<br />start: 2013-03-12 12:08:42<br />reorder(case_id, desc(start_case_rank)): KSG","color: NEW<br />start: 2013-02-07 09:31:45<br />reorder(case_id, desc(start_case_rank)): LDD","color: NEW<br />start: 2013-02-13 08:38:00<br />reorder(case_id, desc(start_case_rank)): LDE","color: NEW<br />start: 2012-12-26 10:51:47<br />reorder(case_id, desc(start_case_rank)): LSA","color: NEW<br />start: 2013-02-11 22:54:32<br />reorder(case_id, desc(start_case_rank)): LTH","color: NEW<br />start: 2013-04-13 12:40:52<br />reorder(case_id, desc(start_case_rank)): LUL","color: NEW<br />start: 2013-02-03 14:15:16<br />reorder(case_id, desc(start_case_rank)): LWA","color: NEW<br />start: 2013-01-27 20:51:34<br />reorder(case_id, desc(start_case_rank)): LYE","color: NEW<br />start: 2012-12-26 14:43:47<br />reorder(case_id, desc(start_case_rank)): MGA","color: NEW<br />start: 2013-03-28 11:11:26<br />reorder(case_id, desc(start_case_rank)): MIL","color: NEW<br />start: 2013-03-14 23:00:20<br />reorder(case_id, desc(start_case_rank)): MJM","color: NEW<br />start: 2013-03-10 21:21:04<br />reorder(case_id, desc(start_case_rank)): MNH","color: NEW<br />start: 2013-02-09 19:55:19<br />reorder(case_id, desc(start_case_rank)): MRD","color: NEW<br />start: 2013-01-22 16:01:10<br />reorder(case_id, desc(start_case_rank)): MS","color: NEW<br />start: 2012-12-27 23:14:32<br />reorder(case_id, desc(start_case_rank)): MUA","color: NEW<br />start: 2013-01-07 09:04:41<br />reorder(case_id, desc(start_case_rank)): MVB","color: NEW<br />start: 2013-02-02 11:38:12<br />reorder(case_id, desc(start_case_rank)): NBG","color: NEW<br />start: 2013-03-24 17:56:46<br />reorder(case_id, desc(start_case_rank)): NFK","color: NEW<br />start: 2013-04-19 23:00:53<br />reorder(case_id, desc(start_case_rank)): NMN","color: NEW<br />start: 2013-03-01 22:59:23<br />reorder(case_id, desc(start_case_rank)): OJK","color: NEW<br />start: 2013-03-11 14:37:03<br />reorder(case_id, desc(start_case_rank)): OJL","color: NEW<br />start: 2013-02-17 22:55:40<br />reorder(case_id, desc(start_case_rank)): OPI","color: NEW<br />start: 2012-12-23 22:56:07<br />reorder(case_id, desc(start_case_rank)): OZ","color: NEW<br />start: 2013-03-07 16:02:36<br />reorder(case_id, desc(start_case_rank)): OZK","color: NEW<br />start: 2013-01-31 22:01:56<br />reorder(case_id, desc(start_case_rank)): PBF","color: NEW<br />start: 2013-03-08 17:45:26<br />reorder(case_id, desc(start_case_rank)): PDH","color: NEW<br />start: 2013-02-18 09:13:59<br />reorder(case_id, desc(start_case_rank)): PMH","color: NEW<br />start: 2013-03-20 16:05:31<br />reorder(case_id, desc(start_case_rank)): PRJ","color: NEW<br />start: 2013-03-06 15:04:50<br />reorder(case_id, desc(start_case_rank)): PZG","color: NEW<br />start: 2013-03-15 15:07:25<br />reorder(case_id, desc(start_case_rank)): PZM","color: NEW<br />start: 2013-02-24 11:15:32<br />reorder(case_id, desc(start_case_rank)): QVJ","color: NEW<br />start: 2013-03-04 10:00:41<br />reorder(case_id, desc(start_case_rank)): QWG","color: NEW<br />start: 2013-03-18 12:40:55<br />reorder(case_id, desc(start_case_rank)): RKI","color: NEW<br />start: 2013-02-20 19:01:34<br />reorder(case_id, desc(start_case_rank)): SHI","color: NEW<br />start: 2013-02-15 22:59:05<br />reorder(case_id, desc(start_case_rank)): SJE","color: NEW<br />start: 2013-02-28 22:56:47<br />reorder(case_id, desc(start_case_rank)): SLJ","color: NEW<br />start: 2013-03-17 19:48:55<br />reorder(case_id, desc(start_case_rank)): SNJ","color: NEW<br />start: 2013-02-25 13:59:47<br />reorder(case_id, desc(start_case_rank)): SWJ","color: NEW<br />start: 2013-01-30 22:54:29<br />reorder(case_id, desc(start_case_rank)): TTA","color: NEW<br />start: 2013-04-02 14:44:59<br />reorder(case_id, desc(start_case_rank)): UBK","color: NEW<br />start: 2013-02-22 20:31:06<br />reorder(case_id, desc(start_case_rank)): UEF","color: NEW<br />start: 2013-03-28 22:55:56<br />reorder(case_id, desc(start_case_rank)): USJ","color: NEW<br />start: 2013-04-18 20:18:24<br />reorder(case_id, desc(start_case_rank)): USN","color: NEW<br />start: 2013-02-23 14:45:07<br />reorder(case_id, desc(start_case_rank)): VBK","color: NEW<br />start: 2013-02-15 00:19:16<br />reorder(case_id, desc(start_case_rank)): VDI","color: NEW<br />start: 2013-02-10 20:57:18<br />reorder(case_id, desc(start_case_rank)): WRC","color: NEW<br />start: 2013-01-27 16:12:02<br />reorder(case_id, desc(start_case_rank)): XBE","color: NEW<br />start: 2013-04-08 04:51:00<br />reorder(case_id, desc(start_case_rank)): XHL","color: NEW<br />start: 2013-04-15 14:43:37<br />reorder(case_id, desc(start_case_rank)): XJN","color: NEW<br />start: 2013-03-26 20:02:36<br />reorder(case_id, desc(start_case_rank)): XLN","color: NEW<br />start: 2013-03-27 09:02:48<br />reorder(case_id, desc(start_case_rank)): XMK","color: NEW<br />start: 2013-03-14 11:37:14<br />reorder(case_id, desc(start_case_rank)): XNL","color: NEW<br />start: 2013-01-20 08:32:34<br />reorder(case_id, desc(start_case_rank)): XUD","color: NEW<br />start: 2013-03-16 11:12:34<br />reorder(case_id, desc(start_case_rank)): XWI","color: NEW<br />start: 2012-12-30 22:56:10<br />reorder(case_id, desc(start_case_rank)): XZ","color: NEW<br />start: 2013-01-31 13:28:10<br />reorder(case_id, desc(start_case_rank)): ZGC","color: NEW<br />start: 2013-03-09 08:29:59<br />reorder(case_id, desc(start_case_rank)): ZKG","color: NEW<br />start: 2013-01-27 23:28:55<br />reorder(case_id, desc(start_case_rank)): ZNF","color: NEW<br />start: 2013-02-16 11:29:36<br />reorder(case_id, desc(start_case_rank)): ZPI","color: NEW<br />start: 2013-04-06 23:18:05<br />reorder(case_id, desc(start_case_rank)): ZSM","color: NEW<br />start: 2013-02-26 09:07:04<br />reorder(case_id, desc(start_case_rank)): ZVE"],"type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(240,2,127,1)","opacity":1,"size":5.66929133858268,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(240,2,127,1)"}},"hoveron":"points","name":"NEW","legendgroup":"NEW","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[1368348630,1373336809,1391841747,1366934958,1364168035,1370910585,1374046748,1370831203,1363649599,1367288076,1366077742,1366682348,1364518529,1365991344,1371015517,1370232851,1371781603,1391142775,1373590044,1368842130,1371021855,1371170956,1389348209,1363488098,1371188175,1365829493,1393910329,1371343328,1366338287,1369237839,1368494545,1383878162,1373337400,1366676697,1364347451,1372300443,1394602888,1374713162,1362623754,1388204125,1365293344,1365134952,1390539551,1371188168,1367634389,1389239403,1370397036,1365214469,1371604585,1363228274,1371004410,1368159027,1385174991,1371538706,1393046017,1394794947,1369530987,1388907582,1369444039,1397972904,1369636363,1392543989,1367366429,1372746774,1369978831,1395981581,1372039993,1366507661,1367632751,1370583729,1390541559,1373250140,1397637952,1361916431],"y":[25,8,71,83,72,82,82,39,100,19,90,59,55,91,36,44,21,78,4,65,32,26,92,85,28,10,40,33,70,70,66,98,5,73,97,14,35,69,87,96,93,74,18,34,41,75,38,57,20,42,29,51,43,22,56,24,50,12,54,2,53,64,81,7,3,16,15,89,76,37,79,61,9,49],"text":["color: RELEASE<br />start: 2013-05-12 08:50:30<br />reorder(case_id, desc(start_case_rank)): AJJ","color: RELEASE<br />start: 2013-07-09 02:26:49<br />reorder(case_id, desc(start_case_rank)): AQM","color: RELEASE<br />start: 2014-02-08 06:42:27<br />reorder(case_id, desc(start_case_rank)): ASC","color: RELEASE<br />start: 2013-04-26 00:09:18<br />reorder(case_id, desc(start_case_rank)): AV","color: RELEASE<br />start: 2013-03-24 23:33:55<br />reorder(case_id, desc(start_case_rank)): AWF","color: RELEASE<br />start: 2013-06-11 00:29:45<br />reorder(case_id, desc(start_case_rank)): AX","color: RELEASE<br />start: 2013-07-17 07:39:08<br />reorder(case_id, desc(start_case_rank)): AX","color: RELEASE<br />start: 2013-06-10 02:26:43<br />reorder(case_id, desc(start_case_rank)): BJM","color: RELEASE<br />start: 2013-03-18 23:33:19<br />reorder(case_id, desc(start_case_rank)): CD","color: RELEASE<br />start: 2013-04-30 02:14:36<br />reorder(case_id, desc(start_case_rank)): CQI","color: RELEASE<br />start: 2013-04-16 02:02:22<br />reorder(case_id, desc(start_case_rank)): DCC","color: RELEASE<br />start: 2013-04-23 01:59:08<br />reorder(case_id, desc(start_case_rank)): DDE","color: RELEASE<br />start: 2013-03-29 00:55:29<br />reorder(case_id, desc(start_case_rank)): DSI","color: RELEASE<br />start: 2013-04-15 02:02:24<br />reorder(case_id, desc(start_case_rank)): FGC","color: RELEASE<br />start: 2013-06-12 05:38:37<br />reorder(case_id, desc(start_case_rank)): FKL","color: RELEASE<br />start: 2013-06-03 04:14:11<br />reorder(case_id, desc(start_case_rank)): GBH","color: RELEASE<br />start: 2013-06-21 02:26:43<br />reorder(case_id, desc(start_case_rank)): GKM","color: RELEASE<br />start: 2014-01-31 04:32:55<br />reorder(case_id, desc(start_case_rank)): GNF","color: RELEASE<br />start: 2013-07-12 00:47:24<br />reorder(case_id, desc(start_case_rank)): HLM","color: RELEASE<br />start: 2013-05-18 01:55:30<br />reorder(case_id, desc(start_case_rank)): HYI","color: RELEASE<br />start: 2013-06-12 07:24:15<br />reorder(case_id, desc(start_case_rank)): ICI","color: RELEASE<br />start: 2013-06-14 00:49:16<br />reorder(case_id, desc(start_case_rank)): IKN","color: RELEASE<br />start: 2014-01-10 10:03:29<br />reorder(case_id, desc(start_case_rank)): IPC","color: RELEASE<br />start: 2013-03-17 02:41:38<br />reorder(case_id, desc(start_case_rank)): JQA","color: RELEASE<br />start: 2013-06-14 05:36:15<br />reorder(case_id, desc(start_case_rank)): JVL","color: RELEASE<br />start: 2013-04-13 05:04:53<br />reorder(case_id, desc(start_case_rank)): JZK","color: RELEASE<br />start: 2014-03-04 05:18:49<br />reorder(case_id, desc(start_case_rank)): KJH","color: RELEASE<br />start: 2013-06-16 00:42:08<br />reorder(case_id, desc(start_case_rank)): KSG","color: RELEASE<br />start: 2013-04-19 02:24:47<br />reorder(case_id, desc(start_case_rank)): LDD","color: RELEASE<br />start: 2013-05-22 15:50:39<br />reorder(case_id, desc(start_case_rank)): LDD","color: RELEASE<br />start: 2013-05-14 01:22:25<br />reorder(case_id, desc(start_case_rank)): LDE","color: RELEASE<br />start: 2013-11-08 02:36:02<br />reorder(case_id, desc(start_case_rank)): LSA","color: RELEASE<br />start: 2013-07-09 02:36:40<br />reorder(case_id, desc(start_case_rank)): LUL","color: RELEASE<br />start: 2013-04-23 00:24:57<br />reorder(case_id, desc(start_case_rank)): LWA","color: RELEASE<br />start: 2013-03-27 01:24:11<br />reorder(case_id, desc(start_case_rank)): MGA","color: RELEASE<br />start: 2013-06-27 02:34:03<br />reorder(case_id, desc(start_case_rank)): MIL","color: RELEASE<br />start: 2014-03-12 05:41:28<br />reorder(case_id, desc(start_case_rank)): MNH","color: RELEASE<br />start: 2013-07-25 00:46:02<br />reorder(case_id, desc(start_case_rank)): MRD","color: RELEASE<br />start: 2013-03-07 02:35:54<br />reorder(case_id, desc(start_case_rank)): MS","color: RELEASE<br />start: 2013-12-28 04:15:25<br />reorder(case_id, desc(start_case_rank)): MUA","color: RELEASE<br />start: 2013-04-07 00:09:04<br />reorder(case_id, desc(start_case_rank)): MVB","color: RELEASE<br />start: 2013-04-05 04:09:12<br />reorder(case_id, desc(start_case_rank)): NBG","color: RELEASE<br />start: 2014-01-24 04:59:11<br />reorder(case_id, desc(start_case_rank)): NFK","color: RELEASE<br />start: 2013-06-14 05:36:08<br />reorder(case_id, desc(start_case_rank)): OJL","color: RELEASE<br />start: 2013-05-04 02:26:29<br />reorder(case_id, desc(start_case_rank)): OZK","color: RELEASE<br />start: 2014-01-09 03:50:03<br />reorder(case_id, desc(start_case_rank)): PBF","color: RELEASE<br />start: 2013-06-05 01:50:36<br />reorder(case_id, desc(start_case_rank)): PDH","color: RELEASE<br />start: 2013-04-06 02:14:29<br />reorder(case_id, desc(start_case_rank)): PMH","color: RELEASE<br />start: 2013-06-19 01:16:25<br />reorder(case_id, desc(start_case_rank)): PRJ","color: RELEASE<br />start: 2013-03-14 02:31:14<br />reorder(case_id, desc(start_case_rank)): PZG","color: RELEASE<br />start: 2013-06-12 02:33:30<br />reorder(case_id, desc(start_case_rank)): PZM","color: RELEASE<br />start: 2013-05-10 04:10:27<br />reorder(case_id, desc(start_case_rank)): QVJ","color: RELEASE<br />start: 2013-11-23 02:49:51<br />reorder(case_id, desc(start_case_rank)): QWG","color: RELEASE<br />start: 2013-06-18 06:58:26<br />reorder(case_id, desc(start_case_rank)): RKI","color: RELEASE<br />start: 2014-02-22 05:13:37<br />reorder(case_id, desc(start_case_rank)): SHI","color: RELEASE<br />start: 2014-03-14 11:02:27<br />reorder(case_id, desc(start_case_rank)): SNJ","color: RELEASE<br />start: 2013-05-26 01:16:27<br />reorder(case_id, desc(start_case_rank)): SWJ","color: RELEASE<br />start: 2014-01-05 07:39:42<br />reorder(case_id, desc(start_case_rank)): UBK","color: RELEASE<br />start: 2013-05-25 01:07:19<br />reorder(case_id, desc(start_case_rank)): UEF","color: RELEASE<br />start: 2014-04-20 05:48:24<br />reorder(case_id, desc(start_case_rank)): USN","color: RELEASE<br />start: 2013-05-27 06:32:43<br />reorder(case_id, desc(start_case_rank)): VBK","color: RELEASE<br />start: 2014-02-16 09:46:29<br />reorder(case_id, desc(start_case_rank)): VDI","color: RELEASE<br />start: 2013-05-01 00:00:29<br />reorder(case_id, desc(start_case_rank)): XBE","color: RELEASE<br />start: 2013-07-02 06:32:54<br />reorder(case_id, desc(start_case_rank)): XHL","color: RELEASE<br />start: 2013-05-31 05:40:31<br />reorder(case_id, desc(start_case_rank)): XJN","color: RELEASE<br />start: 2014-03-28 04:39:41<br />reorder(case_id, desc(start_case_rank)): XLN","color: RELEASE<br />start: 2013-06-24 02:13:13<br />reorder(case_id, desc(start_case_rank)): XMK","color: RELEASE<br />start: 2013-04-21 01:27:41<br />reorder(case_id, desc(start_case_rank)): XUD","color: RELEASE<br />start: 2013-05-04 01:59:11<br />reorder(case_id, desc(start_case_rank)): ZGC","color: RELEASE<br />start: 2013-06-07 05:42:09<br />reorder(case_id, desc(start_case_rank)): ZKG","color: RELEASE<br />start: 2014-01-24 05:32:39<br />reorder(case_id, desc(start_case_rank)): ZNF","color: RELEASE<br />start: 2013-07-08 02:22:20<br />reorder(case_id, desc(start_case_rank)): ZPI","color: RELEASE<br />start: 2014-04-16 08:45:52<br />reorder(case_id, desc(start_case_rank)): ZSM","color: RELEASE<br />start: 2013-02-26 22:07:11<br />reorder(case_id, desc(start_case_rank)): ZVE"],"type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(191,91,23,1)","opacity":1,"size":5.66929133858268,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(191,91,23,1)"}},"hoveron":"points","name":"RELEASE","legendgroup":"RELEASE","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[1373723239,1369237830],"y":[82,70],"text":["color: REOPEN<br />start: 2013-07-13 13:47:19<br />reorder(case_id, desc(start_case_rank)): AX","color: REOPEN<br />start: 2013-05-22 15:50:30<br />reorder(case_id, desc(start_case_rank)): LDD"],"type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(102,102,102,1)","opacity":1,"size":5.66929133858268,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(102,102,102,1)"}},"hoveron":"points","name":"REOPEN","legendgroup":"REOPEN","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[1375191422,1375718383,1376659886,1377186875],"y":[28,28,14,14],"text":["color: STORNO<br />start: 2013-07-30 13:37:02<br />reorder(case_id, desc(start_case_rank)): JVL","color: STORNO<br />start: 2013-08-05 15:59:43<br />reorder(case_id, desc(start_case_rank)): JVL","color: STORNO<br />start: 2013-08-16 13:31:26<br />reorder(case_id, desc(start_case_rank)): MIL","color: STORNO<br />start: 2013-08-22 15:54:35<br />reorder(case_id, desc(start_case_rank)): MIL"],"type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(27,158,119,1)","opacity":1,"size":5.66929133858268,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(27,158,119,1)"}},"hoveron":"points","name":"STORNO","legendgroup":"STORNO","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null}],"layout":{"margin":{"t":26.2283105022831,"r":7.30593607305936,"b":40.1826484018265,"l":25.5707762557078},"plot_bgcolor":"rgba(255,255,255,1)","paper_bgcolor":"rgba(255,255,255,1)","font":{"color":"rgba(0,0,0,1)","family":"","size":14.6118721461187},"xaxis":{"domain":[0,1],"automargin":true,"type":"linear","autorange":false,"range":[1353410968.9,1406686523.1],"tickmode":"array","ticktext":["2013-01","2013-07","2014-01","2014-07"],"tickvals":[1356998400,1372636800,1388534400,1404172800],"categoryorder":"array","categoryarray":["2013-01","2013-07","2014-01","2014-07"],"nticks":null,"ticks":"outside","tickcolor":"rgba(179,179,179,1)","ticklen":3.65296803652968,"tickwidth":0.33208800332088,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":11.689497716895},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"gridcolor":"rgba(222,222,222,1)","gridwidth":0.33208800332088,"zeroline":false,"anchor":"y","title":{"text":"Time","font":{"color":"rgba(0,0,0,1)","family":"","size":14.6118721461187}},"hoverformat":".2f"},"yaxis":{"domain":[0,1],"automargin":true,"type":"linear","autorange":false,"range":[0.4,100.6],"tickmode":"array","ticktext":[null],"categoryorder":"array","categoryarray":[null],"nticks":null,"ticks":"outside","tickcolor":"rgba(179,179,179,1)","ticklen":3.65296803652968,"tickwidth":0.33208800332088,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":11.689497716895},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"gridcolor":"rgba(222,222,222,1)","gridwidth":0.33208800332088,"zeroline":false,"anchor":"x","title":{"text":"Cases","font":{"color":"rgba(0,0,0,1)","family":"","size":14.6118721461187}},"hoverformat":".2f"},"shapes":[{"type":"rect","fillcolor":"transparent","line":{"color":"rgba(179,179,179,1)","width":0.66417600664176,"linetype":"solid"},"yref":"paper","xref":"paper","x0":0,"x1":1,"y0":0,"y1":1}],"showlegend":true,"legend":{"bgcolor":"rgba(255,255,255,1)","bordercolor":"transparent","borderwidth":1.88976377952756,"font":{"color":"rgba(0,0,0,1)","family":"","size":11.689497716895},"y":0.96751968503937},"annotations":[{"text":"activity","x":1.02,"y":1,"showarrow":false,"ax":0,"ay":0,"font":{"color":"rgba(0,0,0,1)","family":"","size":14.6118721461187},"xref":"paper","yref":"paper","textangle":-0,"xanchor":"left","yanchor":"bottom","legendTitle":true}],"hovermode":"closest","barmode":"relative"},"config":{"doubleClick":"reset","showSendToCloud":false},"source":"A","attrs":{"57a4475a4bc1":{"colour":{},"x":{},"y":{},"type":"scatter"}},"cur_data":"57a4475a4bc1","visdat":{"57a4475a4bc1":["function (y) ","x"]},"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.2,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>
</div>
<div id="resource-exploration" class="section level3">
<h3><span class="header-section-number">8.3.5</span> Resource exploration</h3>
<ul>
<li><p>All of the bupaR visualisations explored so far are from the case perspective - which activities were carried out in what order. However, we also know <strong>who</strong> carried out each activity. They are known as the resource.</p></li>
<li><p>Below we first randomly select 30 complete cases that begin with the <code>NEW</code> activity and end with the <code>BILLED</code> activity and view the activities for these cases in a process map.</p></li>
</ul>
<div class="sourceCode" id="cb153"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb153-1" title="1">limited &lt;-<span class="st"> </span>eventdataR<span class="op">::</span>hospital_billing <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb153-2" title="2"><span class="st">  </span>edeaR<span class="op">::</span><span class="kw">filter_endpoints</span>(<span class="dt">start_activities =</span> <span class="st">&quot;NEW&quot;</span>, </a>
<a class="sourceLine" id="cb153-3" title="3">                          <span class="dt">end_activities =</span> <span class="st">&quot;BILLED&quot;</span>) <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb153-4" title="4"><span class="st">  </span>dplyr<span class="op">::</span><span class="kw">sample_n</span>(<span class="dv">30</span>)</a>
<a class="sourceLine" id="cb153-5" title="5"></a>
<a class="sourceLine" id="cb153-6" title="6">limited <span class="op">%&gt;%</span><span class="st"> </span>processmapR<span class="op">::</span><span class="kw">process_map</span>()</a></code></pre></div>
<div id="htmlwidget-ced0ba56e32fc803f452" style="width:672px;height:480px;" class="grViz html-widget"></div>
<script type="application/json" data-for="htmlwidget-ced0ba56e32fc803f452">{"x":{"diagram":"digraph {\n\ngraph [layout = \"dot\",\n       outputorder = \"edgesfirst\",\n       bgcolor = \"white\",\n       rankdir = \"LR\"]\n\nnode [fontname = \"Helvetica\",\n      fontsize = \"10\",\n      shape = \"circle\",\n      fixedsize = \"true\",\n      width = \"0.5\",\n      style = \"filled\",\n      fillcolor = \"aliceblue\",\n      color = \"gray70\",\n      fontcolor = \"gray50\"]\n\nedge [fontname = \"Helvetica\",\n     fontsize = \"8\",\n     len = \"1.5\",\n     color = \"gray80\",\n     arrowsize = \"0.5\"]\n\n  \"1\" [label = \"BILLED\n30\", shape = \"rectangle\", style = \"rounded,filled\", fontcolor = \"white\", color = \"grey\", tooltip = \"BILLED\n30\", penwidth = \"1.5\", fixedsize = \"FALSE\", fontname = \"Arial\", fontsize = \"10\", fillcolor = \"#0570B0\"] \n  \"2\" [label = \"CHANGE DIAGN\n20\", shape = \"rectangle\", style = \"rounded,filled\", fontcolor = \"black\", color = \"grey\", tooltip = \"CHANGE DIAGN\n20\", penwidth = \"1.5\", fixedsize = \"FALSE\", fontname = \"Arial\", fontsize = \"10\", fillcolor = \"#74A9CF\"] \n  \"3\" [label = \"CHANGE END\n1\", shape = \"rectangle\", style = \"rounded,filled\", fontcolor = \"black\", color = \"grey\", tooltip = \"CHANGE END\n1\", penwidth = \"1.5\", fixedsize = \"FALSE\", fontname = \"Arial\", fontsize = \"10\", fillcolor = \"#FFF7FB\"] \n  \"4\" [label = \"CODE OK\n31\", shape = \"rectangle\", style = \"rounded,filled\", fontcolor = \"white\", color = \"grey\", tooltip = \"CODE OK\n31\", penwidth = \"1.5\", fixedsize = \"FALSE\", fontname = \"Arial\", fontsize = \"10\", fillcolor = \"#034E7B\"] \n  \"5\" [label = \"End\", shape = \"circle\", style = \"rounded,filled\", fontcolor = \"brown4\", color = \"brown4\", tooltip = \"End\n30\", penwidth = \"1.5\", fixedsize = \"FALSE\", fontname = \"Arial\", fontsize = \"10\", fillcolor = \"#FFFFFF\"] \n  \"6\" [label = \"FIN\n32\", shape = \"rectangle\", style = \"rounded,filled\", fontcolor = \"white\", color = \"grey\", tooltip = \"FIN\n32\", penwidth = \"1.5\", fixedsize = \"FALSE\", fontname = \"Arial\", fontsize = \"10\", fillcolor = \"#034E7B\"] \n  \"7\" [label = \"NEW\n30\", shape = \"rectangle\", style = \"rounded,filled\", fontcolor = \"white\", color = \"grey\", tooltip = \"NEW\n30\", penwidth = \"1.5\", fixedsize = \"FALSE\", fontname = \"Arial\", fontsize = \"10\", fillcolor = \"#0570B0\"] \n  \"8\" [label = \"RELEASE\n31\", shape = \"rectangle\", style = \"rounded,filled\", fontcolor = \"white\", color = \"grey\", tooltip = \"RELEASE\n31\", penwidth = \"1.5\", fixedsize = \"FALSE\", fontname = \"Arial\", fontsize = \"10\", fillcolor = \"#034E7B\"] \n  \"9\" [label = \"REOPEN\n1\", shape = \"rectangle\", style = \"rounded,filled\", fontcolor = \"black\", color = \"grey\", tooltip = \"REOPEN\n1\", penwidth = \"1.5\", fixedsize = \"FALSE\", fontname = \"Arial\", fontsize = \"10\", fillcolor = \"#FFF7FB\"] \n  \"10\" [label = \"Start\", shape = \"circle\", style = \"rounded,filled\", fontcolor = \"chartreuse4\", color = \"chartreuse4\", tooltip = \"Start\n30\", penwidth = \"1.5\", fixedsize = \"FALSE\", fontname = \"Arial\", fontsize = \"10\", fillcolor = \"#FFFFFF\"] \n\"1\"->\"5\" [label = \"30\", penwidth = \"4.87096774193548\", color = \"dodgerblue4\", fontname = \"Arial\", fontsize = \"10\"] \n\"2\"->\"3\" [label = \"1\", penwidth = \"1.12903225806452\", color = \"dodgerblue4\", fontname = \"Arial\", fontsize = \"10\"] \n\"2\"->\"6\" [label = \"19\", penwidth = \"3.45161290322581\", color = \"dodgerblue4\", fontname = \"Arial\", fontsize = \"10\"] \n\"3\"->\"6\" [label = \"1\", penwidth = \"1.12903225806452\", color = \"dodgerblue4\", fontname = \"Arial\", fontsize = \"10\"] \n\"4\"->\"1\" [label = \"30\", penwidth = \"4.87096774193548\", color = \"dodgerblue4\", fontname = \"Arial\", fontsize = \"10\"] \n\"4\"->\"9\" [label = \"1\", penwidth = \"1.12903225806452\", color = \"dodgerblue4\", fontname = \"Arial\", fontsize = \"10\"] \n\"6\"->\"6\" [label = \"1\", penwidth = \"1.12903225806452\", color = \"dodgerblue4\", fontname = \"Arial\", fontsize = \"10\"] \n\"6\"->\"8\" [label = \"31\", penwidth = \"5\", color = \"dodgerblue4\", fontname = \"Arial\", fontsize = \"10\"] \n\"7\"->\"2\" [label = \"20\", penwidth = \"3.58064516129032\", color = \"dodgerblue4\", fontname = \"Arial\", fontsize = \"10\"] \n\"7\"->\"6\" [label = \"10\", penwidth = \"2.29032258064516\", color = \"dodgerblue4\", fontname = \"Arial\", fontsize = \"10\"] \n\"8\"->\"4\" [label = \"31\", penwidth = \"5\", color = \"dodgerblue4\", fontname = \"Arial\", fontsize = \"10\"] \n\"9\"->\"6\" [label = \"1\", penwidth = \"1.12903225806452\", color = \"dodgerblue4\", fontname = \"Arial\", fontsize = \"10\"] \n\"10\"->\"7\" [label = \"30\", penwidth = \"4.87096774193548\", color = \"dodgerblue4\", fontname = \"Arial\", fontsize = \"10\"] \n}","config":{"engine":"dot","options":null}},"evals":[],"jsHooks":[]}</script>
<ul>
<li>We now visualise in a resource process map how those activities are carried out between the different resources using <code>processmapR::resourcemap()</code>.</li>
</ul>
<div class="sourceCode" id="cb154"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb154-1" title="1"><span class="co">#add new missing factor level to resource so that the resource map does not break where there is a missing resource</span></a>
<a class="sourceLine" id="cb154-2" title="2">limited<span class="op">$</span>resource =<span class="st"> </span><span class="kw">factor</span>(limited<span class="op">$</span>resource, <span class="dt">levels=</span><span class="kw">c</span>(<span class="kw">levels</span>(limited<span class="op">$</span>resource), <span class="st">&quot;missing&quot;</span>))</a>
<a class="sourceLine" id="cb154-3" title="3">limited<span class="op">$</span>resource[<span class="kw">is.na</span>(limited<span class="op">$</span>resource)] =<span class="st"> &quot;missing&quot;</span></a>
<a class="sourceLine" id="cb154-4" title="4"></a>
<a class="sourceLine" id="cb154-5" title="5">limited <span class="op">%&gt;%</span><span class="st">   </span>processmapR<span class="op">::</span><span class="kw">resource_map</span>(<span class="dt">type_nodes =</span> processmapR<span class="op">::</span><span class="kw">frequency</span>(<span class="st">&quot;absolute&quot;</span>),</a>
<a class="sourceLine" id="cb154-6" title="6">                           <span class="dt">sec_nodes =</span> processmapR<span class="op">::</span><span class="kw">frequency</span>(<span class="st">&quot;absolute_case&quot;</span>),</a>
<a class="sourceLine" id="cb154-7" title="7">                           <span class="dt">type_edges =</span> processmapR<span class="op">::</span><span class="kw">frequency</span>(<span class="st">&quot;absolute&quot;</span>),</a>
<a class="sourceLine" id="cb154-8" title="8">                           <span class="dt">sec_edges =</span> processmapR<span class="op">::</span><span class="kw">performance</span>(<span class="dt">FUN =</span> median, </a>
<a class="sourceLine" id="cb154-9" title="9">                                                                <span class="dt">units =</span> <span class="st">&quot;days&quot;</span>,</a>
<a class="sourceLine" id="cb154-10" title="10">                                                                <span class="dt">flow_time =</span> <span class="st">&quot;inter_start_time&quot;</span></a>
<a class="sourceLine" id="cb154-11" title="11">                                                                ),</a>
<a class="sourceLine" id="cb154-12" title="12">                           <span class="dt">rankdir =</span> <span class="st">&quot;TB&quot;</span>)</a></code></pre></div>
<div id="htmlwidget-778bde237db491c5466f" style="width:672px;height:480px;" class="grViz html-widget"></div>
<script type="application/json" data-for="htmlwidget-778bde237db491c5466f">{"x":{"diagram":"digraph {\n\ngraph [layout = \"dot\",\n       outputorder = \"edgesfirst\",\n       bgcolor = \"white\",\n       rankdir = \"TB\"]\n\nnode [fontname = \"Helvetica\",\n      fontsize = \"10\",\n      shape = \"circle\",\n      fixedsize = \"true\",\n      width = \"0.5\",\n      style = \"filled\",\n      fillcolor = \"aliceblue\",\n      color = \"gray70\",\n      fontcolor = \"gray50\"]\n\nedge [fontname = \"Helvetica\",\n     fontsize = \"8\",\n     len = \"1.5\",\n     color = \"gray80\",\n     arrowsize = \"0.5\"]\n\n  \"1\" [label = \"End\", shape = \"circle\", style = \"rounded,filled\", fontcolor = \"brown4\", color = \"brown4\", tooltip = \"End\n30\", penwidth = \"1.5\", fixedsize = \"FALSE\", fontname = \"Arial\", fontsize = \"10\", fillcolor = \"#FFFFFF\"] \n  \"2\" [label = \"missing\n89\n(30)\", shape = \"rectangle\", style = \"rounded,filled\", fontcolor = \"white\", color = \"grey\", tooltip = \"missing\n89\", penwidth = \"1.5\", fixedsize = \"FALSE\", fontname = \"Arial\", fontsize = \"10\", fillcolor = \"#034E7B\"] \n  \"3\" [label = \"ResA\n31\n(30)\", shape = \"rectangle\", style = \"rounded,filled\", fontcolor = \"black\", color = \"grey\", tooltip = \"ResA\n31\", penwidth = \"1.5\", fixedsize = \"FALSE\", fontname = \"Arial\", fontsize = \"10\", fillcolor = \"#D0D1E6\"] \n  \"4\" [label = \"ResB\n25\n(25)\", shape = \"rectangle\", style = \"rounded,filled\", fontcolor = \"black\", color = \"grey\", tooltip = \"ResB\n25\", penwidth = \"1.5\", fixedsize = \"FALSE\", fontname = \"Arial\", fontsize = \"10\", fillcolor = \"#D0D1E6\"] \n  \"5\" [label = \"ResBB\n1\n(1)\", shape = \"rectangle\", style = \"rounded,filled\", fontcolor = \"black\", color = \"grey\", tooltip = \"ResBB\n1\", penwidth = \"1.5\", fixedsize = \"FALSE\", fontname = \"Arial\", fontsize = \"10\", fillcolor = \"#FFF7FB\"] \n  \"6\" [label = \"ResBU\n1\n(1)\", shape = \"rectangle\", style = \"rounded,filled\", fontcolor = \"black\", color = \"grey\", tooltip = \"ResBU\n1\", penwidth = \"1.5\", fixedsize = \"FALSE\", fontname = \"Arial\", fontsize = \"10\", fillcolor = \"#FFF7FB\"] \n  \"7\" [label = \"ResD\n3\n(3)\", shape = \"rectangle\", style = \"rounded,filled\", fontcolor = \"black\", color = \"grey\", tooltip = \"ResD\n3\", penwidth = \"1.5\", fixedsize = \"FALSE\", fontname = \"Arial\", fontsize = \"10\", fillcolor = \"#FFF7FB\"] \n  \"8\" [label = \"ResDA\n1\n(1)\", shape = \"rectangle\", style = \"rounded,filled\", fontcolor = \"black\", color = \"grey\", tooltip = \"ResDA\n1\", penwidth = \"1.5\", fixedsize = \"FALSE\", fontname = \"Arial\", fontsize = \"10\", fillcolor = \"#FFF7FB\"] \n  \"9\" [label = \"ResDD\n1\n(1)\", shape = \"rectangle\", style = \"rounded,filled\", fontcolor = \"black\", color = \"grey\", tooltip = \"ResDD\n1\", penwidth = \"1.5\", fixedsize = \"FALSE\", fontname = \"Arial\", fontsize = \"10\", fillcolor = \"#FFF7FB\"] \n  \"10\" [label = \"ResGC\n1\n(1)\", shape = \"rectangle\", style = \"rounded,filled\", fontcolor = \"black\", color = \"grey\", tooltip = \"ResGC\n1\", penwidth = \"1.5\", fixedsize = \"FALSE\", fontname = \"Arial\", fontsize = \"10\", fillcolor = \"#FFF7FB\"] \n  \"11\" [label = \"ResIA\n1\n(1)\", shape = \"rectangle\", style = \"rounded,filled\", fontcolor = \"black\", color = \"grey\", tooltip = \"ResIA\n1\", penwidth = \"1.5\", fixedsize = \"FALSE\", fontname = \"Arial\", fontsize = \"10\", fillcolor = \"#FFF7FB\"] \n  \"12\" [label = \"ResIJ\n1\n(1)\", shape = \"rectangle\", style = \"rounded,filled\", fontcolor = \"black\", color = \"grey\", tooltip = \"ResIJ\n1\", penwidth = \"1.5\", fixedsize = \"FALSE\", fontname = \"Arial\", fontsize = \"10\", fillcolor = \"#FFF7FB\"] \n  \"13\" [label = \"ResK\n1\n(1)\", shape = \"rectangle\", style = \"rounded,filled\", fontcolor = \"black\", color = \"grey\", tooltip = \"ResK\n1\", penwidth = \"1.5\", fixedsize = \"FALSE\", fontname = \"Arial\", fontsize = \"10\", fillcolor = \"#FFF7FB\"] \n  \"14\" [label = \"ResLD\n1\n(1)\", shape = \"rectangle\", style = \"rounded,filled\", fontcolor = \"black\", color = \"grey\", tooltip = \"ResLD\n1\", penwidth = \"1.5\", fixedsize = \"FALSE\", fontname = \"Arial\", fontsize = \"10\", fillcolor = \"#FFF7FB\"] \n  \"15\" [label = \"ResLP\n1\n(1)\", shape = \"rectangle\", style = \"rounded,filled\", fontcolor = \"black\", color = \"grey\", tooltip = \"ResLP\n1\", penwidth = \"1.5\", fixedsize = \"FALSE\", fontname = \"Arial\", fontsize = \"10\", fillcolor = \"#FFF7FB\"] \n  \"16\" [label = \"ResME\n1\n(1)\", shape = \"rectangle\", style = \"rounded,filled\", fontcolor = \"black\", color = \"grey\", tooltip = \"ResME\n1\", penwidth = \"1.5\", fixedsize = \"FALSE\", fontname = \"Arial\", fontsize = \"10\", fillcolor = \"#FFF7FB\"] \n  \"17\" [label = \"ResMP\n1\n(1)\", shape = \"rectangle\", style = \"rounded,filled\", fontcolor = \"black\", color = \"grey\", tooltip = \"ResMP\n1\", penwidth = \"1.5\", fixedsize = \"FALSE\", fontname = \"Arial\", fontsize = \"10\", fillcolor = \"#FFF7FB\"] \n  \"18\" [label = \"ResNE\n1\n(1)\", shape = \"rectangle\", style = \"rounded,filled\", fontcolor = \"black\", color = \"grey\", tooltip = \"ResNE\n1\", penwidth = \"1.5\", fixedsize = \"FALSE\", fontname = \"Arial\", fontsize = \"10\", fillcolor = \"#FFF7FB\"] \n  \"19\" [label = \"ResOD\n1\n(1)\", shape = \"rectangle\", style = \"rounded,filled\", fontcolor = \"black\", color = \"grey\", tooltip = \"ResOD\n1\", penwidth = \"1.5\", fixedsize = \"FALSE\", fontname = \"Arial\", fontsize = \"10\", fillcolor = \"#FFF7FB\"] \n  \"20\" [label = \"ResQH\n1\n(1)\", shape = \"rectangle\", style = \"rounded,filled\", fontcolor = \"black\", color = \"grey\", tooltip = \"ResQH\n1\", penwidth = \"1.5\", fixedsize = \"FALSE\", fontname = \"Arial\", fontsize = \"10\", fillcolor = \"#FFF7FB\"] \n  \"21\" [label = \"ResRG\n1\n(1)\", shape = \"rectangle\", style = \"rounded,filled\", fontcolor = \"black\", color = \"grey\", tooltip = \"ResRG\n1\", penwidth = \"1.5\", fixedsize = \"FALSE\", fontname = \"Arial\", fontsize = \"10\", fillcolor = \"#FFF7FB\"] \n  \"22\" [label = \"ResS\n1\n(1)\", shape = \"rectangle\", style = \"rounded,filled\", fontcolor = \"black\", color = \"grey\", tooltip = \"ResS\n1\", penwidth = \"1.5\", fixedsize = \"FALSE\", fontname = \"Arial\", fontsize = \"10\", fillcolor = \"#FFF7FB\"] \n  \"23\" [label = \"ResTB\n1\n(1)\", shape = \"rectangle\", style = \"rounded,filled\", fontcolor = \"black\", color = \"grey\", tooltip = \"ResTB\n1\", penwidth = \"1.5\", fixedsize = \"FALSE\", fontname = \"Arial\", fontsize = \"10\", fillcolor = \"#FFF7FB\"] \n  \"24\" [label = \"ResTE\n2\n(2)\", shape = \"rectangle\", style = \"rounded,filled\", fontcolor = \"black\", color = \"grey\", tooltip = \"ResTE\n2\", penwidth = \"1.5\", fixedsize = \"FALSE\", fontname = \"Arial\", fontsize = \"10\", fillcolor = \"#FFF7FB\"] \n  \"25\" [label = \"ResTM\n1\n(1)\", shape = \"rectangle\", style = \"rounded,filled\", fontcolor = \"black\", color = \"grey\", tooltip = \"ResTM\n1\", penwidth = \"1.5\", fixedsize = \"FALSE\", fontname = \"Arial\", fontsize = \"10\", fillcolor = \"#FFF7FB\"] \n  \"26\" [label = \"ResUA\n1\n(1)\", shape = \"rectangle\", style = \"rounded,filled\", fontcolor = \"black\", color = \"grey\", tooltip = \"ResUA\n1\", penwidth = \"1.5\", fixedsize = \"FALSE\", fontname = \"Arial\", fontsize = \"10\", fillcolor = \"#FFF7FB\"] \n  \"27\" [label = \"ResUF\n1\n(1)\", shape = \"rectangle\", style = \"rounded,filled\", fontcolor = \"black\", color = \"grey\", tooltip = \"ResUF\n1\", penwidth = \"1.5\", fixedsize = \"FALSE\", fontname = \"Arial\", fontsize = \"10\", fillcolor = \"#FFF7FB\"] \n  \"28\" [label = \"ResVR\n1\n(1)\", shape = \"rectangle\", style = \"rounded,filled\", fontcolor = \"black\", color = \"grey\", tooltip = \"ResVR\n1\", penwidth = \"1.5\", fixedsize = \"FALSE\", fontname = \"Arial\", fontsize = \"10\", fillcolor = \"#FFF7FB\"] \n  \"29\" [label = \"ResXI\n1\n(1)\", shape = \"rectangle\", style = \"rounded,filled\", fontcolor = \"black\", color = \"grey\", tooltip = \"ResXI\n1\", penwidth = \"1.5\", fixedsize = \"FALSE\", fontname = \"Arial\", fontsize = \"10\", fillcolor = \"#FFF7FB\"] \n  \"30\" [label = \"ResYH\n1\n(1)\", shape = \"rectangle\", style = \"rounded,filled\", fontcolor = \"black\", color = \"grey\", tooltip = \"ResYH\n1\", penwidth = \"1.5\", fixedsize = \"FALSE\", fontname = \"Arial\", fontsize = \"10\", fillcolor = \"#FFF7FB\"] \n  \"31\" [label = \"ResZB\n1\n(1)\", shape = \"rectangle\", style = \"rounded,filled\", fontcolor = \"black\", color = \"grey\", tooltip = \"ResZB\n1\", penwidth = \"1.5\", fixedsize = \"FALSE\", fontname = \"Arial\", fontsize = \"10\", fillcolor = \"#FFF7FB\"] \n  \"32\" [label = \"ResZC\n1\n(1)\", shape = \"rectangle\", style = \"rounded,filled\", fontcolor = \"black\", color = \"grey\", tooltip = \"ResZC\n1\", penwidth = \"1.5\", fixedsize = \"FALSE\", fontname = \"Arial\", fontsize = \"10\", fillcolor = \"#FFF7FB\"] \n  \"33\" [label = \"Start\", shape = \"circle\", style = \"rounded,filled\", fontcolor = \"chartreuse4\", color = \"chartreuse4\", tooltip = \"Start\n30\", penwidth = \"1.5\", fixedsize = \"FALSE\", fontname = \"Arial\", fontsize = \"10\", fillcolor = \"#FFFFFF\"] \n\"2\"->\"1\" [label = \"5\", penwidth = \"1.48780487804878\", color = \"dodgerblue4\", fontname = \"Arial\", fontsize = \"10\"] \n\"2\"->\"2\" [label = \"41\n (4.28 days)\", penwidth = \"5\", color = \"dodgerblue4\", fontname = \"Arial\", fontsize = \"10\"] \n\"2\"->\"3\" [label = \"15\n (90.54 days)\", penwidth = \"2.46341463414634\", color = \"dodgerblue4\", fontname = \"Arial\", fontsize = \"10\"] \n\"2\"->\"4\" [label = \"25\n (26.39 days)\", penwidth = \"3.4390243902439\", color = \"dodgerblue4\", fontname = \"Arial\", fontsize = \"10\"] \n\"2\"->\"7\" [label = \"1\n (4.32 days)\", penwidth = \"1.09756097560976\", color = \"dodgerblue4\", fontname = \"Arial\", fontsize = \"10\"] \n\"2\"->\"13\" [label = \"1\n (24.28 days)\", penwidth = \"1.09756097560976\", color = \"dodgerblue4\", fontname = \"Arial\", fontsize = \"10\"] \n\"2\"->\"18\" [label = \"1\n (2.98 days)\", penwidth = \"1.09756097560976\", color = \"dodgerblue4\", fontname = \"Arial\", fontsize = \"10\"] \n\"3\"->\"2\" [label = \"30\n (0.29 days)\", penwidth = \"3.92682926829268\", color = \"dodgerblue4\", fontname = \"Arial\", fontsize = \"10\"] \n\"3\"->\"11\" [label = \"1\n (385.56 days)\", penwidth = \"1.09756097560976\", color = \"dodgerblue4\", fontname = \"Arial\", fontsize = \"10\"] \n\"4\"->\"1\" [label = \"25\", penwidth = \"3.4390243902439\", color = \"dodgerblue4\", fontname = \"Arial\", fontsize = \"10\"] \n\"5\"->\"2\" [label = \"1\n (0 days)\", penwidth = \"1.09756097560976\", color = \"dodgerblue4\", fontname = \"Arial\", fontsize = \"10\"] \n\"6\"->\"2\" [label = \"1\n (0 days)\", penwidth = \"1.09756097560976\", color = \"dodgerblue4\", fontname = \"Arial\", fontsize = \"10\"] \n\"7\"->\"3\" [label = \"3\n (64.95 days)\", penwidth = \"1.29268292682927\", color = \"dodgerblue4\", fontname = \"Arial\", fontsize = \"10\"] \n\"8\"->\"2\" [label = \"1\n (0 days)\", penwidth = \"1.09756097560976\", color = \"dodgerblue4\", fontname = \"Arial\", fontsize = \"10\"] \n\"9\"->\"2\" [label = \"1\n (0 days)\", penwidth = \"1.09756097560976\", color = \"dodgerblue4\", fontname = \"Arial\", fontsize = \"10\"] \n\"10\"->\"2\" [label = \"1\n (0 days)\", penwidth = \"1.09756097560976\", color = \"dodgerblue4\", fontname = \"Arial\", fontsize = \"10\"] \n\"11\"->\"2\" [label = \"1\n (0.01 days)\", penwidth = \"1.09756097560976\", color = \"dodgerblue4\", fontname = \"Arial\", fontsize = \"10\"] \n\"12\"->\"2\" [label = \"1\n (0 days)\", penwidth = \"1.09756097560976\", color = \"dodgerblue4\", fontname = \"Arial\", fontsize = \"10\"] \n\"13\"->\"3\" [label = \"1\n (2.88 days)\", penwidth = \"1.09756097560976\", color = \"dodgerblue4\", fontname = \"Arial\", fontsize = \"10\"] \n\"14\"->\"2\" [label = \"1\n (0 days)\", penwidth = \"1.09756097560976\", color = \"dodgerblue4\", fontname = \"Arial\", fontsize = \"10\"] \n\"15\"->\"2\" [label = \"1\n (0 days)\", penwidth = \"1.09756097560976\", color = \"dodgerblue4\", fontname = \"Arial\", fontsize = \"10\"] \n\"16\"->\"2\" [label = \"1\n (7.11 days)\", penwidth = \"1.09756097560976\", color = \"dodgerblue4\", fontname = \"Arial\", fontsize = \"10\"] \n\"17\"->\"3\" [label = \"1\n (325.59 days)\", penwidth = \"1.09756097560976\", color = \"dodgerblue4\", fontname = \"Arial\", fontsize = \"10\"] \n\"18\"->\"3\" [label = \"1\n (0.5 days)\", penwidth = \"1.09756097560976\", color = \"dodgerblue4\", fontname = \"Arial\", fontsize = \"10\"] \n\"19\"->\"3\" [label = \"1\n (87.26 days)\", penwidth = \"1.09756097560976\", color = \"dodgerblue4\", fontname = \"Arial\", fontsize = \"10\"] \n\"20\"->\"2\" [label = \"1\n (0 days)\", penwidth = \"1.09756097560976\", color = \"dodgerblue4\", fontname = \"Arial\", fontsize = \"10\"] \n\"21\"->\"3\" [label = \"1\n (175.34 days)\", penwidth = \"1.09756097560976\", color = \"dodgerblue4\", fontname = \"Arial\", fontsize = \"10\"] \n\"22\"->\"2\" [label = \"1\n (0 days)\", penwidth = \"1.09756097560976\", color = \"dodgerblue4\", fontname = \"Arial\", fontsize = \"10\"] \n\"23\"->\"3\" [label = \"1\n (92.98 days)\", penwidth = \"1.09756097560976\", color = \"dodgerblue4\", fontname = \"Arial\", fontsize = \"10\"] \n\"24\"->\"19\" [label = \"1\n (6 days)\", penwidth = \"1.09756097560976\", color = \"dodgerblue4\", fontname = \"Arial\", fontsize = \"10\"] \n\"24\"->\"23\" [label = \"1\n (0.39 days)\", penwidth = \"1.09756097560976\", color = \"dodgerblue4\", fontname = \"Arial\", fontsize = \"10\"] \n\"25\"->\"2\" [label = \"1\n (0 days)\", penwidth = \"1.09756097560976\", color = \"dodgerblue4\", fontname = \"Arial\", fontsize = \"10\"] \n\"26\"->\"2\" [label = \"1\n (0 days)\", penwidth = \"1.09756097560976\", color = \"dodgerblue4\", fontname = \"Arial\", fontsize = \"10\"] \n\"27\"->\"2\" [label = \"1\n (35.29 days)\", penwidth = \"1.09756097560976\", color = \"dodgerblue4\", fontname = \"Arial\", fontsize = \"10\"] \n\"28\"->\"2\" [label = \"1\n (0 days)\", penwidth = \"1.09756097560976\", color = \"dodgerblue4\", fontname = \"Arial\", fontsize = \"10\"] \n\"29\"->\"2\" [label = \"1\n (0 days)\", penwidth = \"1.09756097560976\", color = \"dodgerblue4\", fontname = \"Arial\", fontsize = \"10\"] \n\"30\"->\"3\" [label = \"1\n (248.6 days)\", penwidth = \"1.09756097560976\", color = \"dodgerblue4\", fontname = \"Arial\", fontsize = \"10\"] \n\"31\"->\"2\" [label = \"1\n (0 days)\", penwidth = \"1.09756097560976\", color = \"dodgerblue4\", fontname = \"Arial\", fontsize = \"10\"] \n\"32\"->\"7\" [label = \"1\n (25.37 days)\", penwidth = \"1.09756097560976\", color = \"dodgerblue4\", fontname = \"Arial\", fontsize = \"10\"] \n\"33\"->\"3\" [label = \"6\", penwidth = \"1.58536585365854\", color = \"dodgerblue4\", fontname = \"Arial\", fontsize = \"10\"] \n\"33\"->\"5\" [label = \"1\", penwidth = \"1.09756097560976\", color = \"dodgerblue4\", fontname = \"Arial\", fontsize = \"10\"] \n\"33\"->\"6\" [label = \"1\", penwidth = \"1.09756097560976\", color = \"dodgerblue4\", fontname = \"Arial\", fontsize = \"10\"] \n\"33\"->\"7\" [label = \"1\", penwidth = \"1.09756097560976\", color = \"dodgerblue4\", fontname = \"Arial\", fontsize = \"10\"] \n\"33\"->\"8\" [label = \"1\", penwidth = \"1.09756097560976\", color = \"dodgerblue4\", fontname = \"Arial\", fontsize = \"10\"] \n\"33\"->\"9\" [label = \"1\", penwidth = \"1.09756097560976\", color = \"dodgerblue4\", fontname = \"Arial\", fontsize = \"10\"] \n\"33\"->\"10\" [label = \"1\", penwidth = \"1.09756097560976\", color = \"dodgerblue4\", fontname = \"Arial\", fontsize = \"10\"] \n\"33\"->\"12\" [label = \"1\", penwidth = \"1.09756097560976\", color = \"dodgerblue4\", fontname = \"Arial\", fontsize = \"10\"] \n\"33\"->\"14\" [label = \"1\", penwidth = \"1.09756097560976\", color = \"dodgerblue4\", fontname = \"Arial\", fontsize = \"10\"] \n\"33\"->\"15\" [label = \"1\", penwidth = \"1.09756097560976\", color = \"dodgerblue4\", fontname = \"Arial\", fontsize = \"10\"] \n\"33\"->\"16\" [label = \"1\", penwidth = \"1.09756097560976\", color = \"dodgerblue4\", fontname = \"Arial\", fontsize = \"10\"] \n\"33\"->\"17\" [label = \"1\", penwidth = \"1.09756097560976\", color = \"dodgerblue4\", fontname = \"Arial\", fontsize = \"10\"] \n\"33\"->\"20\" [label = \"1\", penwidth = \"1.09756097560976\", color = \"dodgerblue4\", fontname = \"Arial\", fontsize = \"10\"] \n\"33\"->\"21\" [label = \"1\", penwidth = \"1.09756097560976\", color = \"dodgerblue4\", fontname = \"Arial\", fontsize = \"10\"] \n\"33\"->\"22\" [label = \"1\", penwidth = \"1.09756097560976\", color = \"dodgerblue4\", fontname = \"Arial\", fontsize = \"10\"] \n\"33\"->\"24\" [label = \"2\", penwidth = \"1.19512195121951\", color = \"dodgerblue4\", fontname = \"Arial\", fontsize = \"10\"] \n\"33\"->\"25\" [label = \"1\", penwidth = \"1.09756097560976\", color = \"dodgerblue4\", fontname = \"Arial\", fontsize = \"10\"] \n\"33\"->\"26\" [label = \"1\", penwidth = \"1.09756097560976\", color = \"dodgerblue4\", fontname = \"Arial\", fontsize = \"10\"] \n\"33\"->\"27\" [label = \"1\", penwidth = \"1.09756097560976\", color = \"dodgerblue4\", fontname = \"Arial\", fontsize = \"10\"] \n\"33\"->\"28\" [label = \"1\", penwidth = \"1.09756097560976\", color = \"dodgerblue4\", fontname = \"Arial\", fontsize = \"10\"] \n\"33\"->\"29\" [label = \"1\", penwidth = \"1.09756097560976\", color = \"dodgerblue4\", fontname = \"Arial\", fontsize = \"10\"] \n\"33\"->\"30\" [label = \"1\", penwidth = \"1.09756097560976\", color = \"dodgerblue4\", fontname = \"Arial\", fontsize = \"10\"] \n\"33\"->\"31\" [label = \"1\", penwidth = \"1.09756097560976\", color = \"dodgerblue4\", fontname = \"Arial\", fontsize = \"10\"] \n\"33\"->\"32\" [label = \"1\", penwidth = \"1.09756097560976\", color = \"dodgerblue4\", fontname = \"Arial\", fontsize = \"10\"] \n}","config":{"engine":"dot","options":null}},"evals":[],"jsHooks":[]}</script>
<ul>
<li>We can see from the resource process map that the resource is often missing for certain activities. In the table below we highlight in yellow which activities they are.</li>
</ul>
<div class="sourceCode" id="cb155"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb155-1" title="1">limited <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb155-2" title="2"><span class="st">  </span>dplyr<span class="op">::</span><span class="kw">count</span>(activity,resource) <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb155-3" title="3"><span class="st">  </span>tidyr<span class="op">::</span><span class="kw">spread</span>(<span class="dt">key =</span> activity,<span class="dt">value =</span> n) <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb155-4" title="4"><span class="st">  </span>dplyr<span class="op">::</span><span class="kw">arrange</span>(<span class="kw">desc</span>(resource)) <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb155-5" title="5"><span class="st">  </span>DT<span class="op">::</span><span class="kw">datatable</span>(<span class="dt">options =</span> <span class="kw">list</span>(<span class="dt">pageLength =</span><span class="dv">100</span>)) <span class="op">%&gt;%</span><span class="st"> </span><span class="co">#https://rstudio.github.io/DT/options.html</span></a>
<a class="sourceLine" id="cb155-6" title="6"><span class="st">  </span>DT<span class="op">::</span><span class="kw">formatStyle</span>(<span class="st">&#39;resource&#39;</span>,</a>
<a class="sourceLine" id="cb155-7" title="7">                  <span class="dt">target =</span> <span class="st">&#39;row&#39;</span>,</a>
<a class="sourceLine" id="cb155-8" title="8"> <span class="dt">backgroundColor =</span> <span class="kw">styleEqual</span>(<span class="kw">c</span>(<span class="st">&quot;missing&quot;</span>), <span class="kw">c</span>(<span class="st">&#39;yellow&#39;</span>))  ) <span class="co">#https://rstudio.github.io/DT/010-style.html</span></a></code></pre></div>
<div id="htmlwidget-2f4a914b262eef4e5192" style="width:100%;height:auto;" class="datatables html-widget"></div>
<script type="application/json" data-for="htmlwidget-2f4a914b262eef4e5192">{"x":{"filter":"none","data":[["1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19","20","21","22","23","24","25","26","27","28","29","30","31"],["missing","ResZC","ResZB","ResYH","ResXI","ResVR","ResUF","ResUA","ResTM","ResTE","ResTB","ResS","ResRG","ResQH","ResOD","ResNE","ResMP","ResME","ResLP","ResLD","ResK","ResIJ","ResIA","ResGC","ResDD","ResDA","ResD","ResBU","ResBB","ResB","ResA"],[5,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,25,null],[17,null,null,null,null,null,null,null,null,null,1,null,null,null,1,null,null,null,null,null,null,null,null,null,null,null,1,null,null,null,null],[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,1,null,null,null,null,null,null,null,null,null,null],[31,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],[6,null,null,null,null,null,null,null,null,null,null,null,null,null,null,1,null,null,null,null,null,null,1,null,null,null,null,null,null,null,24],[null,1,1,1,1,1,1,1,1,2,null,1,1,1,null,null,1,1,1,1,null,1,null,1,1,1,1,1,1,null,6],[30,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,1],[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,1,null,null,null,null]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th> <\/th>\n      <th>resource<\/th>\n      <th>BILLED<\/th>\n      <th>CHANGE DIAGN<\/th>\n      <th>CHANGE END<\/th>\n      <th>CODE OK<\/th>\n      <th>FIN<\/th>\n      <th>NEW<\/th>\n      <th>RELEASE<\/th>\n      <th>REOPEN<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"pageLength":100,"columnDefs":[{"className":"dt-right","targets":[2,3,4,5,6,7,8,9]},{"orderable":false,"targets":0}],"order":[],"autoWidth":false,"orderClasses":false,"rowCallback":"function(row, data) {\nvar value=data[1]; $(row).css({'background-color':value == \"missing\" ? \"yellow\" : value});\n}"}},"evals":["options.rowCallback"],"jsHooks":[]}</script>
<ul>
<li>We can also quickly view how many resources were used on each case for our limited sample of 30 with the <code>edeaR::resource_frequency()</code> function.</li>
</ul>
<div class="sourceCode" id="cb156"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb156-1" title="1">limited <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb156-2" title="2"><span class="st">  </span>edeaR<span class="op">::</span><span class="kw">resource_frequency</span>(<span class="dt">level =</span> <span class="st">&quot;case&quot;</span>) <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb156-3" title="3"><span class="st">  </span><span class="kw">plot</span>() </a></code></pre></div>
<p><img src="bookdown-demo_files/figure-html/unnamed-chunk-69-1.png" width="672" /></p>
<ul>
<li>And see if some resources specialise in certain activities for which we’d expect a low number per activity using the <code>edeaR::resource_specialisation()</code> function.</li>
</ul>
<div class="sourceCode" id="cb157"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb157-1" title="1">limited <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb157-2" title="2"><span class="st">  </span>edeaR<span class="op">::</span><span class="kw">resource_specialisation</span>(<span class="dt">level =</span> <span class="st">&quot;activity&quot;</span>) <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb157-3" title="3"><span class="st">  </span><span class="kw">plot</span>()</a></code></pre></div>
<p><img src="bookdown-demo_files/figure-html/unnamed-chunk-70-1.png" width="672" /></p>
<ul>
<li>In this plot of the <code>edeaR::resource_specialisation()</code> function we can see the number of activities each resource executes. “ResA” is busiest resource.</li>
</ul>
<div class="sourceCode" id="cb158"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb158-1" title="1">limited <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb158-2" title="2"><span class="st">  </span>edeaR<span class="op">::</span><span class="kw">resource_specialisation</span>(<span class="dt">level =</span> <span class="st">&quot;resource&quot;</span>) <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">plot</span>()</a></code></pre></div>
<p><img src="bookdown-demo_files/figure-html/unnamed-chunk-71-1.png" width="672" /></p>
<ul>
<li>Finally, using the <code>processmapR::resource_matrix()</code> we can see which resources (the antecedent) directly pass a case to another resource (consequent) to carry out the next activity.</li>
</ul>
<div class="sourceCode" id="cb159"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb159-1" title="1">rm &lt;-<span class="st"> </span>limited <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb159-2" title="2"><span class="st">  </span>processmapR<span class="op">::</span><span class="kw">resource_matrix</span>(<span class="dt">type =</span> <span class="st">&quot;absolute&quot;</span>) </a>
<a class="sourceLine" id="cb159-3" title="3"></a>
<a class="sourceLine" id="cb159-4" title="4">p1 &lt;-<span class="st"> </span>rm <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb159-5" title="5"><span class="st">  </span>ggplot2<span class="op">::</span><span class="kw">ggplot</span>() <span class="op">+</span></a>
<a class="sourceLine" id="cb159-6" title="6"><span class="st">  </span>ggplot2<span class="op">::</span><span class="kw">aes</span>(<span class="dt">x =</span> consequent,</a>
<a class="sourceLine" id="cb159-7" title="7">               <span class="dt">y =</span> antecedent,</a>
<a class="sourceLine" id="cb159-8" title="8">               <span class="dt">fill =</span> n) <span class="op">+</span></a>
<a class="sourceLine" id="cb159-9" title="9"><span class="st">  </span>ggplot2<span class="op">::</span><span class="kw">geom_tile</span>()<span class="op">+</span><span class="st"> </span></a>
<a class="sourceLine" id="cb159-10" title="10"><span class="st">  </span>ggplot2<span class="op">::</span><span class="kw">geom_text</span>(<span class="kw">aes</span>(<span class="dt">label =</span>  base<span class="op">::</span><span class="kw">ifelse</span>(n<span class="op">&gt;</span><span class="dv">0</span>,</a>
<a class="sourceLine" id="cb159-11" title="11">                                               base<span class="op">::</span><span class="kw">format</span>(n, </a>
<a class="sourceLine" id="cb159-12" title="12">                                                            <span class="dt">big.mark =</span> <span class="st">&quot;,&quot;</span>, </a>
<a class="sourceLine" id="cb159-13" title="13">                                                            <span class="dt">scientific =</span> <span class="ot">FALSE</span>),</a>
<a class="sourceLine" id="cb159-14" title="14">                                               <span class="ot">NA</span>)), </a>
<a class="sourceLine" id="cb159-15" title="15">                     <span class="dt">size =</span> <span class="dv">3</span>) <span class="op">+</span></a>
<a class="sourceLine" id="cb159-16" title="16"><span class="st">  </span>ggplot2<span class="op">::</span><span class="kw">scale_fill_gradient</span>(<span class="dt">low =</span> <span class="st">&quot;white&quot;</span>, <span class="dt">high =</span> <span class="st">&quot;red&quot;</span>) <span class="op">+</span></a>
<a class="sourceLine" id="cb159-17" title="17"><span class="st">  </span>ggplot2<span class="op">::</span><span class="kw">theme_minimal</span>() <span class="op">+</span></a>
<a class="sourceLine" id="cb159-18" title="18"><span class="st">  </span>ggplot2<span class="op">::</span><span class="kw">theme</span>(<span class="dt">axis.text.x =</span> <span class="kw">element_text</span>(<span class="dt">angle =</span> <span class="dv">60</span>, </a>
<a class="sourceLine" id="cb159-19" title="19">                                            <span class="dt">hjust =</span> <span class="dv">1</span>),</a>
<a class="sourceLine" id="cb159-20" title="20">                 <span class="dt">legend.position =</span> <span class="st">&quot;none&quot;</span>,</a>
<a class="sourceLine" id="cb159-21" title="21">                 <span class="dt">axis.title.y =</span> <span class="kw">element_text</span>(<span class="dt">angle =</span> <span class="dv">0</span>,</a>
<a class="sourceLine" id="cb159-22" title="22">                                             <span class="dt">vjust =</span> <span class="fl">0.5</span>)) <span class="op">+</span></a>
<a class="sourceLine" id="cb159-23" title="23"><span class="st">  </span>ggplot2<span class="op">::</span><span class="kw">labs</span>(<span class="dt">x =</span> <span class="st">&quot;Consequent&quot;</span>,</a>
<a class="sourceLine" id="cb159-24" title="24">                <span class="dt">y =</span> <span class="st">&quot;Antecedent&quot;</span>)</a>
<a class="sourceLine" id="cb159-25" title="25"></a>
<a class="sourceLine" id="cb159-26" title="26">p1</a></code></pre></div>
<p><img src="bookdown-demo_files/figure-html/unnamed-chunk-72-1.png" width="672" /></p>
</div>
<div id="bespoke-exploration" class="section level3">
<h3><span class="header-section-number">8.3.6</span> Bespoke exploration</h3>
<ul>
<li><p>Further bespoke explorations are described in this <a href="https://notast.netlify.com/post/process-mining-part-3-3-more-analysis-and-visualizations/">process mining blog post</a>.It includes an example of creating an interruption index to tell us how much a resource “toggles” between multiple cases, and a heatmap to show peak periods during the day.</p></li>
<li><p>Let’s re-create the hourly heatmap for our hospital billing data. We can see that some activities are more common at lunchtime (e.g. <code>STORNO</code> and <code>MANUAL</code>), and some occur in the early hours of the morning (e.g. <code>CODE ERROR</code>). Perhaps the very early activities outside of normal office hours are automatic system activities?</p></li>
</ul>
<div class="sourceCode" id="cb160"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb160-1" title="1">t &lt;-<span class="st"> </span>eventdataR<span class="op">::</span>hospital_billing <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb160-2" title="2"><span class="st">  </span>dplyr<span class="op">::</span><span class="kw">mutate</span>(<span class="dt">hour =</span> lubridate<span class="op">::</span><span class="kw">hour</span>(timestamp)) <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb160-3" title="3"><span class="st">  </span>dplyr<span class="op">::</span><span class="kw">count</span>(activity, hour) <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb160-4" title="4"><span class="st">  </span>dplyr<span class="op">::</span><span class="kw">group_by</span>(activity) <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb160-5" title="5"><span class="st">  </span>dplyr<span class="op">::</span><span class="kw">mutate</span>(<span class="dt">nn =</span> <span class="kw">sum</span>(n)) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb160-6" title="6"><span class="st">  </span>dplyr<span class="op">::</span><span class="kw">ungroup</span>() <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb160-7" title="7"><span class="st">  </span>dplyr<span class="op">::</span><span class="kw">mutate</span>(<span class="dt">percent=</span> ((n<span class="op">/</span>nn)<span class="op">*</span><span class="dv">100</span>))</a>
<a class="sourceLine" id="cb160-8" title="8"></a>
<a class="sourceLine" id="cb160-9" title="9">t <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb160-10" title="10"><span class="st">  </span>ggplot2<span class="op">::</span><span class="kw">ggplot</span>(<span class="kw">aes</span>(<span class="dt">x =</span> hour, </a>
<a class="sourceLine" id="cb160-11" title="11">                      <span class="dt">y =</span> activity, </a>
<a class="sourceLine" id="cb160-12" title="12">                      <span class="dt">fill=</span>percent)) <span class="op">+</span><span class="st"> </span></a>
<a class="sourceLine" id="cb160-13" title="13"><span class="st">  </span>ggplot2<span class="op">::</span><span class="kw">geom_tile</span>(<span class="dt">size=</span>.<span class="dv">5</span>, <span class="dt">color=</span><span class="st">&quot;white&quot;</span>) <span class="op">+</span><span class="st"> </span></a>
<a class="sourceLine" id="cb160-14" title="14"><span class="st">  </span>ggplot2<span class="op">::</span><span class="kw">scale_fill_gradient</span>(<span class="dt">low =</span> <span class="st">&quot;lightblue&quot;</span>, </a>
<a class="sourceLine" id="cb160-15" title="15">                               <span class="dt">high =</span> <span class="st">&quot;red&quot;</span>,</a>
<a class="sourceLine" id="cb160-16" title="16">                               <span class="dt">limits =</span> <span class="kw">c</span>(<span class="dv">0</span>,<span class="dv">50</span>)) <span class="op">+</span></a>
<a class="sourceLine" id="cb160-17" title="17"><span class="st">  </span>ggplot2<span class="op">::</span><span class="kw">geom_text</span>(<span class="kw">aes</span>(<span class="dt">label =</span>  base<span class="op">::</span><span class="kw">ifelse</span>(percent<span class="op">&gt;</span><span class="dv">0</span>,</a>
<a class="sourceLine" id="cb160-18" title="18">                                               <span class="kw">round</span>(percent,<span class="dv">0</span>),</a>
<a class="sourceLine" id="cb160-19" title="19">                                               <span class="ot">NA</span>)), </a>
<a class="sourceLine" id="cb160-20" title="20">                     <span class="dt">size =</span> <span class="dv">4</span>,</a>
<a class="sourceLine" id="cb160-21" title="21">                     <span class="co">#fontface = &quot;bold&quot;</span></a>
<a class="sourceLine" id="cb160-22" title="22">                     ) <span class="op">+</span></a>
<a class="sourceLine" id="cb160-23" title="23"><span class="st">  </span>ggplot2<span class="op">::</span><span class="kw">theme_classic</span>()<span class="op">+</span></a>
<a class="sourceLine" id="cb160-24" title="24"><span class="st">  </span>ggplot2<span class="op">::</span><span class="kw">theme</span>(<span class="dt">legend.position =</span> <span class="st">&quot;none&quot;</span>) <span class="op">+</span></a>
<a class="sourceLine" id="cb160-25" title="25"><span class="st">  </span>ggplot2<span class="op">::</span><span class="kw">labs</span>(<span class="dt">x=</span><span class="st">&quot;24 hour Clock&quot;</span>, </a>
<a class="sourceLine" id="cb160-26" title="26">                <span class="dt">y=</span><span class="st">&quot;&quot;</span>, </a>
<a class="sourceLine" id="cb160-27" title="27">                <span class="dt">title=</span> <span class="st">&quot;In what hour does each hospital billing activity occur?&quot;</span>,</a>
<a class="sourceLine" id="cb160-28" title="28">                <span class="dt">subtitle =</span> <span class="st">&quot;Percentage in each hour for each activity&quot;</span>,</a>
<a class="sourceLine" id="cb160-29" title="29">                <span class="dt">fill=</span><span class="st">&quot;%&quot;</span>)  <span class="op">+</span></a>
<a class="sourceLine" id="cb160-30" title="30"><span class="st">  </span>ggplot2<span class="op">::</span><span class="kw">scale_y_discrete</span>(<span class="dt">limits =</span> <span class="kw">rev</span>(<span class="kw">levels</span>(eventdataR<span class="op">::</span>hospital_billing<span class="op">$</span>activity))) <span class="op">+</span></a>
<a class="sourceLine" id="cb160-31" title="31"><span class="st">  </span>ggplot2<span class="op">::</span><span class="kw">scale_x_continuous</span>(<span class="dt">breaks =</span> scales<span class="op">::</span><span class="kw">pretty_breaks</span>(<span class="dt">n =</span> <span class="dv">12</span>))</a></code></pre></div>
<p><img src="bookdown-demo_files/figure-html/unnamed-chunk-73-1.png" width="672" /></p>
</div>
<div id="creating-your-own-event-log" class="section level3">
<h3><span class="header-section-number">8.3.7</span> Creating your own event log</h3>
<ul>
<li><p>In the visualisations so far we have used the hospital billing event log that has been created for us. Creating our own log from raw events data is straightforward. Follow the bupaR <a href="https://www.bupar.net/creating_eventlogs.html">“create event log” guidance</a>.</p></li>
<li><p>When creating an event log, as well as the activity name and a timestamp, each activity row needs its own globally unique ID, the resource who carried out each activity and a lifecycle status. The lifecycle would typically describe if a case has just started, is in-progress, or is complete when each activity occurs. If a unique activity ID and a lifecycle status are missing they can easily be <a href="https://www.bupar.net/creating_eventlogs.html#lack_of_transitional_lifecycle">artifically created</a> using a row count for the ID and by assigning the status to a single value such as “complete” or “NA”. If Who did each activity (the resource) may also be missing. Resource can also simply be assigned as a <a href="https://www.bupar.net/creating_eventlogs.html#lack_of_resources">blank “NA” column</a>.</p></li>
<li><p>The example below demonstrates creating an event log with minimum amount of information required to draw a process map with the activity id, resource, and status created artificially before the event log is built with the <code>bupaR::eventlog()</code> function.</p></li>
</ul>
<div class="sourceCode" id="cb161"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb161-1" title="1">patients &lt;-<span class="st"> </span><span class="kw">data.frame</span>(<span class="dt">stringsAsFactors=</span><span class="ot">FALSE</span>,</a>
<a class="sourceLine" id="cb161-2" title="2">             <span class="dt">patient =</span> <span class="kw">c</span>(<span class="st">&quot;John Doe&quot;</span>, <span class="st">&quot;John Doe&quot;</span>, <span class="st">&quot;John Doe&quot;</span>, <span class="st">&quot;John Doe&quot;</span>,</a>
<a class="sourceLine" id="cb161-3" title="3">                         <span class="st">&quot;John Doe&quot;</span>, <span class="st">&quot;John Doe&quot;</span>, <span class="st">&quot;John Doe&quot;</span>, <span class="st">&quot;John Doe&quot;</span>,</a>
<a class="sourceLine" id="cb161-4" title="4">                         <span class="st">&quot;John Doe&quot;</span>),</a>
<a class="sourceLine" id="cb161-5" title="5">            <span class="dt">activity =</span> <span class="kw">c</span>(<span class="st">&quot;check-in&quot;</span>, <span class="st">&quot;surgery&quot;</span>, <span class="st">&quot;surgery&quot;</span>, <span class="st">&quot;surgery&quot;</span>,</a>
<a class="sourceLine" id="cb161-6" title="6">                         <span class="st">&quot;treatment&quot;</span>, <span class="st">&quot;treatment&quot;</span>, <span class="st">&quot;surgery&quot;</span>, <span class="st">&quot;surgery&quot;</span>,</a>
<a class="sourceLine" id="cb161-7" title="7">                         <span class="st">&quot;check-out&quot;</span>),</a>
<a class="sourceLine" id="cb161-8" title="8">           <span class="dt">timestamp =</span> <span class="kw">c</span>(<span class="st">&quot;2017-05-10 08:33:26&quot;</span>, <span class="st">&quot;2017-05-10 08:38:21&quot;</span>,</a>
<a class="sourceLine" id="cb161-9" title="9">                         <span class="st">&quot;2017-05-10 08:53:16&quot;</span>, <span class="st">&quot;2017-05-10 09:25:19&quot;</span>,</a>
<a class="sourceLine" id="cb161-10" title="10">                         <span class="st">&quot;2017-05-10 10:01:25&quot;</span>, <span class="st">&quot;2017-05-10 10:35:18&quot;</span>,</a>
<a class="sourceLine" id="cb161-11" title="11">                         <span class="st">&quot;2017-05-10 10:41:35&quot;</span>, <span class="st">&quot;2017-05-10 11:05:56&quot;</span>, <span class="st">&quot;2017-05-11 14:52:36&quot;</span>))</a>
<a class="sourceLine" id="cb161-12" title="12"></a>
<a class="sourceLine" id="cb161-13" title="13">example_log_<span class="dv">1</span> &lt;-<span class="st"> </span>patients <span class="op">%&gt;%</span><span class="st">  </span><span class="co">#a data.frame with the information in the table above</span></a>
<a class="sourceLine" id="cb161-14" title="14"><span class="st">  </span>dplyr<span class="op">::</span><span class="kw">mutate</span>(<span class="dt">activity_instance =</span> <span class="dv">1</span><span class="op">:</span><span class="kw">n</span>(),</a>
<a class="sourceLine" id="cb161-15" title="15">                <span class="dt">resource =</span> <span class="ot">NA</span>,</a>
<a class="sourceLine" id="cb161-16" title="16">                <span class="dt">status =</span> <span class="st">&quot;complete&quot;</span>,</a>
<a class="sourceLine" id="cb161-17" title="17">                <span class="dt">timestamp =</span> anytime<span class="op">::</span><span class="kw">anytime</span>(timestamp)) <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb161-18" title="18"><span class="st">  </span>bupaR<span class="op">::</span><span class="kw">eventlog</span>(</a>
<a class="sourceLine" id="cb161-19" title="19">        <span class="dt">case_id =</span> <span class="st">&quot;patient&quot;</span>,</a>
<a class="sourceLine" id="cb161-20" title="20">        <span class="dt">activity_id =</span> <span class="st">&quot;activity&quot;</span>,</a>
<a class="sourceLine" id="cb161-21" title="21">        <span class="dt">activity_instance_id =</span> <span class="st">&quot;activity_instance&quot;</span>,</a>
<a class="sourceLine" id="cb161-22" title="22">        <span class="dt">lifecycle_id =</span> <span class="st">&quot;status&quot;</span>,</a>
<a class="sourceLine" id="cb161-23" title="23">        <span class="dt">timestamp =</span> <span class="st">&quot;timestamp&quot;</span>,</a>
<a class="sourceLine" id="cb161-24" title="24">        <span class="dt">resource_id =</span> <span class="st">&quot;resource&quot;</span></a>
<a class="sourceLine" id="cb161-25" title="25">    )</a>
<a class="sourceLine" id="cb161-26" title="26"></a>
<a class="sourceLine" id="cb161-27" title="27">example_log_<span class="dv">1</span> <span class="op">%&gt;%</span><span class="st"> </span>processmapR<span class="op">::</span><span class="kw">process_map</span>()</a></code></pre></div>
<div id="htmlwidget-56b6bd3b59b40672a27c" style="width:672px;height:480px;" class="grViz html-widget"></div>
<script type="application/json" data-for="htmlwidget-56b6bd3b59b40672a27c">{"x":{"diagram":"digraph {\n\ngraph [layout = \"dot\",\n       outputorder = \"edgesfirst\",\n       bgcolor = \"white\",\n       rankdir = \"LR\"]\n\nnode [fontname = \"Helvetica\",\n      fontsize = \"10\",\n      shape = \"circle\",\n      fixedsize = \"true\",\n      width = \"0.5\",\n      style = \"filled\",\n      fillcolor = \"aliceblue\",\n      color = \"gray70\",\n      fontcolor = \"gray50\"]\n\nedge [fontname = \"Helvetica\",\n     fontsize = \"8\",\n     len = \"1.5\",\n     color = \"gray80\",\n     arrowsize = \"0.5\"]\n\n  \"1\" [label = \"check-in\n1\", shape = \"rectangle\", style = \"rounded,filled\", fontcolor = \"black\", color = \"grey\", tooltip = \"check-in\n1\", penwidth = \"1.5\", fixedsize = \"FALSE\", fontname = \"Arial\", fontsize = \"10\", fillcolor = \"#FFF7FB\"] \n  \"2\" [label = \"check-out\n1\", shape = \"rectangle\", style = \"rounded,filled\", fontcolor = \"black\", color = \"grey\", tooltip = \"check-out\n1\", penwidth = \"1.5\", fixedsize = \"FALSE\", fontname = \"Arial\", fontsize = \"10\", fillcolor = \"#FFF7FB\"] \n  \"3\" [label = \"End\", shape = \"circle\", style = \"rounded,filled\", fontcolor = \"brown4\", color = \"brown4\", tooltip = \"End\n1\", penwidth = \"1.5\", fixedsize = \"FALSE\", fontname = \"Arial\", fontsize = \"10\", fillcolor = \"#FFFFFF\"] \n  \"4\" [label = \"Start\", shape = \"circle\", style = \"rounded,filled\", fontcolor = \"chartreuse4\", color = \"chartreuse4\", tooltip = \"Start\n1\", penwidth = \"1.5\", fixedsize = \"FALSE\", fontname = \"Arial\", fontsize = \"10\", fillcolor = \"#FFFFFF\"] \n  \"5\" [label = \"surgery\n5\", shape = \"rectangle\", style = \"rounded,filled\", fontcolor = \"white\", color = \"grey\", tooltip = \"surgery\n5\", penwidth = \"1.5\", fixedsize = \"FALSE\", fontname = \"Arial\", fontsize = \"10\", fillcolor = \"#034E7B\"] \n  \"6\" [label = \"treatment\n2\", shape = \"rectangle\", style = \"rounded,filled\", fontcolor = \"black\", color = \"grey\", tooltip = \"treatment\n2\", penwidth = \"1.5\", fixedsize = \"FALSE\", fontname = \"Arial\", fontsize = \"10\", fillcolor = \"#D0D1E6\"] \n\"1\"->\"5\" [label = \"1\", penwidth = \"2.33333333333333\", color = \"dodgerblue4\", fontname = \"Arial\", fontsize = \"10\"] \n\"2\"->\"3\" [label = \"1\", penwidth = \"2.33333333333333\", color = \"dodgerblue4\", fontname = \"Arial\", fontsize = \"10\"] \n\"4\"->\"1\" [label = \"1\", penwidth = \"2.33333333333333\", color = \"dodgerblue4\", fontname = \"Arial\", fontsize = \"10\"] \n\"5\"->\"2\" [label = \"1\", penwidth = \"2.33333333333333\", color = \"dodgerblue4\", fontname = \"Arial\", fontsize = \"10\"] \n\"5\"->\"5\" [label = \"3\", penwidth = \"5\", color = \"dodgerblue4\", fontname = \"Arial\", fontsize = \"10\"] \n\"5\"->\"6\" [label = \"1\", penwidth = \"2.33333333333333\", color = \"dodgerblue4\", fontname = \"Arial\", fontsize = \"10\"] \n\"6\"->\"5\" [label = \"1\", penwidth = \"2.33333333333333\", color = \"dodgerblue4\", fontname = \"Arial\", fontsize = \"10\"] \n\"6\"->\"6\" [label = \"1\", penwidth = \"2.33333333333333\", color = \"dodgerblue4\", fontname = \"Arial\", fontsize = \"10\"] \n}","config":{"engine":"dot","options":null}},"evals":[],"jsHooks":[]}</script>
<ul>
<li><p>After creating an event log you may need to add additional columns with useful information. This is known as “enrichment”. However, this breaks the attributes you have mapped using the <code>bupaR::eventlog()</code> function and the event log cannot be used with bupaR functions.</p></li>
<li><p>Rather than using the <code>bupar::eventlog()</code> function to recreate the event log, which is time consuming, it’s much faster to use <code>bupar::mapping()</code> to save the attribute mappings and then <code>bupar::re_map()</code> to add them back to the broken event log. The time saving can be significant for large event logs that can take 5 to 10 mins to re-create whereas the re_map takes only a few seconds.</p></li>
</ul>
<p>For example, below we create an event log using the same <a href="https://www.bupar.net/creating_eventlogs.html#resources">example data</a> in the bupaR guidance.</p>
<div class="sourceCode" id="cb162"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb162-1" title="1">patients &lt;-<span class="st"> </span><span class="kw">data.frame</span>(<span class="dt">stringsAsFactors=</span><span class="ot">FALSE</span>,</a>
<a class="sourceLine" id="cb162-2" title="2">             <span class="dt">patient =</span> <span class="kw">c</span>(<span class="st">&quot;John Doe&quot;</span>, <span class="st">&quot;John Doe&quot;</span>, <span class="st">&quot;John Doe&quot;</span>, <span class="st">&quot;John Doe&quot;</span>,</a>
<a class="sourceLine" id="cb162-3" title="3">                         <span class="st">&quot;John Doe&quot;</span>, <span class="st">&quot;John Doe&quot;</span>, <span class="st">&quot;John Doe&quot;</span>, <span class="st">&quot;John Doe&quot;</span>,</a>
<a class="sourceLine" id="cb162-4" title="4">                         <span class="st">&quot;John Doe&quot;</span>),</a>
<a class="sourceLine" id="cb162-5" title="5">            <span class="dt">activity =</span> <span class="kw">c</span>(<span class="st">&quot;check-in&quot;</span>, <span class="st">&quot;surgery&quot;</span>, <span class="st">&quot;surgery&quot;</span>, <span class="st">&quot;surgery&quot;</span>,</a>
<a class="sourceLine" id="cb162-6" title="6">                         <span class="st">&quot;treatment&quot;</span>, <span class="st">&quot;treatment&quot;</span>, <span class="st">&quot;surgery&quot;</span>, <span class="st">&quot;surgery&quot;</span>,</a>
<a class="sourceLine" id="cb162-7" title="7">                         <span class="st">&quot;check-out&quot;</span>),</a>
<a class="sourceLine" id="cb162-8" title="8">           <span class="dt">timestamp =</span> <span class="kw">c</span>(<span class="st">&quot;2017-05-10 08:33:26&quot;</span>, <span class="st">&quot;2017-05-10 08:38:21&quot;</span>,</a>
<a class="sourceLine" id="cb162-9" title="9">                         <span class="st">&quot;2017-05-10 08:53:16&quot;</span>, <span class="st">&quot;2017-05-10 09:25:19&quot;</span>,</a>
<a class="sourceLine" id="cb162-10" title="10">                         <span class="st">&quot;2017-05-10 10:01:25&quot;</span>, <span class="st">&quot;2017-05-10 10:35:18&quot;</span>,</a>
<a class="sourceLine" id="cb162-11" title="11">                         <span class="st">&quot;2017-05-10 10:41:35&quot;</span>, <span class="st">&quot;2017-05-10 11:05:56&quot;</span>, <span class="st">&quot;2017-05-11 14:52:36&quot;</span>),</a>
<a class="sourceLine" id="cb162-12" title="12">              <span class="dt">status =</span> <span class="kw">c</span>(<span class="st">&quot;complete&quot;</span>, <span class="st">&quot;schedule&quot;</span>, <span class="st">&quot;start&quot;</span>, <span class="st">&quot;complete&quot;</span>, <span class="st">&quot;start&quot;</span>,</a>
<a class="sourceLine" id="cb162-13" title="13">                         <span class="st">&quot;complete&quot;</span>, <span class="st">&quot;start&quot;</span>, <span class="st">&quot;complete&quot;</span>, <span class="st">&quot;complete&quot;</span>),</a>
<a class="sourceLine" id="cb162-14" title="14">            <span class="dt">resource =</span> <span class="kw">c</span>(<span class="st">&quot;Samantha&quot;</span>, <span class="st">&quot;Danny&quot;</span>, <span class="st">&quot;Richard&quot;</span>, <span class="st">&quot;Richard&quot;</span>, <span class="st">&quot;Danny&quot;</span>,</a>
<a class="sourceLine" id="cb162-15" title="15">                         <span class="st">&quot;Danny&quot;</span>, <span class="st">&quot;William&quot;</span>, <span class="st">&quot;William&quot;</span>, <span class="st">&quot;Samantha&quot;</span>)</a>
<a class="sourceLine" id="cb162-16" title="16">) </a>
<a class="sourceLine" id="cb162-17" title="17"></a>
<a class="sourceLine" id="cb162-18" title="18">resource_experience_years &lt;-<span class="st"> </span><span class="kw">data.frame</span>(<span class="dt">stringsAsFactors=</span><span class="ot">FALSE</span>,</a>
<a class="sourceLine" id="cb162-19" title="19">            <span class="dt">resource =</span> <span class="kw">c</span>(<span class="st">&quot;Samantha&quot;</span>, <span class="st">&quot;Danny&quot;</span>, <span class="st">&quot;Richard&quot;</span>,<span class="st">&quot;William&quot;</span>, <span class="st">&quot;Samantha&quot;</span>),</a>
<a class="sourceLine" id="cb162-20" title="20">            <span class="dt">years_experience =</span> <span class="kw">c</span>(<span class="dv">2</span>, <span class="dv">5</span>, <span class="fl">0.2</span>, <span class="dv">6</span>, <span class="fl">8.9</span>))</a>
<a class="sourceLine" id="cb162-21" title="21"></a>
<a class="sourceLine" id="cb162-22" title="22">example_log_<span class="dv">1</span> &lt;-<span class="st"> </span>patients <span class="op">%&gt;%</span><span class="st">  </span><span class="co">#a data.frame with the information in the table above</span></a>
<a class="sourceLine" id="cb162-23" title="23"><span class="st">    </span>dplyr<span class="op">::</span><span class="kw">mutate</span>(<span class="dt">activity_instance =</span> <span class="dv">1</span><span class="op">:</span><span class="kw">n</span>(),</a>
<a class="sourceLine" id="cb162-24" title="24">                <span class="dt">timestamp =</span> anytime<span class="op">::</span><span class="kw">anytime</span>(timestamp)) <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb162-25" title="25"><span class="st">    </span><span class="kw">eventlog</span>(</a>
<a class="sourceLine" id="cb162-26" title="26">        <span class="dt">case_id =</span> <span class="st">&quot;patient&quot;</span>,</a>
<a class="sourceLine" id="cb162-27" title="27">        <span class="dt">activity_id =</span> <span class="st">&quot;activity&quot;</span>,</a>
<a class="sourceLine" id="cb162-28" title="28">        <span class="dt">activity_instance_id =</span> <span class="st">&quot;activity_instance&quot;</span>,</a>
<a class="sourceLine" id="cb162-29" title="29">        <span class="dt">lifecycle_id =</span> <span class="st">&quot;status&quot;</span>,</a>
<a class="sourceLine" id="cb162-30" title="30">        <span class="dt">timestamp =</span> <span class="st">&quot;timestamp&quot;</span>,</a>
<a class="sourceLine" id="cb162-31" title="31">        <span class="dt">resource_id =</span> <span class="st">&quot;resource&quot;</span></a>
<a class="sourceLine" id="cb162-32" title="32">    )</a>
<a class="sourceLine" id="cb162-33" title="33"></a>
<a class="sourceLine" id="cb162-34" title="34"><span class="co"># Save event log Mappings</span></a>
<a class="sourceLine" id="cb162-35" title="35">example_log_<span class="dv">1</span>_mapping &lt;-<span class="st"> </span>bupaR<span class="op">::</span><span class="kw">mapping</span>(example_log_<span class="dv">1</span>)</a>
<a class="sourceLine" id="cb162-36" title="36"></a>
<a class="sourceLine" id="cb162-37" title="37"><span class="co"># enrich and filter the log</span></a>
<a class="sourceLine" id="cb162-38" title="38">example_log_<span class="dv">1</span> &lt;-<span class="st"> </span>example_log_<span class="dv">1</span> <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb162-39" title="39"><span class="st">  </span>dplyr<span class="op">::</span><span class="kw">left_join</span>(resource_experience_years,</a>
<a class="sourceLine" id="cb162-40" title="40">                   <span class="dt">by =</span> <span class="kw">c</span>(<span class="st">&quot;resource&quot;</span> =<span class="st"> &quot;resource&quot;</span>)) </a></code></pre></div>
<pre><code>## Warning: Column `resource` joining factor and character vector, coercing into
## character vector</code></pre>
<div class="sourceCode" id="cb164"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb164-1" title="1"><span class="co"># the log is broken so won&#39;t work with a process map</span></a>
<a class="sourceLine" id="cb164-2" title="2">example_log_<span class="dv">1</span> <span class="op">%&gt;%</span><span class="st"> </span>processmapR<span class="op">::</span><span class="kw">process_map</span>()</a></code></pre></div>
<pre><code>## Error: Only strings can be converted to symbols</code></pre>
<ul>
<li>To fix the log so that it can be used to draw a process map , below we remap the log attributes with the <code>bupaR::remap()</code> function. We re-map the attributes we saved in the code above using the <code>buparR::mapping()</code> function. After remapping We can draw a process map from the re-mapped event log.</li>
</ul>
<div class="sourceCode" id="cb166"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb166-1" title="1"><span class="co"># re-map the atributes</span></a>
<a class="sourceLine" id="cb166-2" title="2">example_log_<span class="dv">1</span> &lt;-<span class="st"> </span>example_log_<span class="dv">1</span> <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb166-3" title="3"><span class="st">  </span>bupaR<span class="op">::</span><span class="kw">re_map</span>(example_log_<span class="dv">1</span>_mapping) </a>
<a class="sourceLine" id="cb166-4" title="4"></a>
<a class="sourceLine" id="cb166-5" title="5"><span class="co"># the log attributes have been re-mapped so it will create a process map</span></a>
<a class="sourceLine" id="cb166-6" title="6">example_log_<span class="dv">1</span> <span class="op">%&gt;%</span><span class="st"> </span>processmapR<span class="op">::</span><span class="kw">process_map</span>()</a></code></pre></div>
<div id="htmlwidget-9f849201491743e93a83" style="width:672px;height:480px;" class="grViz html-widget"></div>
<script type="application/json" data-for="htmlwidget-9f849201491743e93a83">{"x":{"diagram":"digraph {\n\ngraph [layout = \"dot\",\n       outputorder = \"edgesfirst\",\n       bgcolor = \"white\",\n       rankdir = \"LR\"]\n\nnode [fontname = \"Helvetica\",\n      fontsize = \"10\",\n      shape = \"circle\",\n      fixedsize = \"true\",\n      width = \"0.5\",\n      style = \"filled\",\n      fillcolor = \"aliceblue\",\n      color = \"gray70\",\n      fontcolor = \"gray50\"]\n\nedge [fontname = \"Helvetica\",\n     fontsize = \"8\",\n     len = \"1.5\",\n     color = \"gray80\",\n     arrowsize = \"0.5\"]\n\n  \"1\" [label = \"check-in\n1\", shape = \"rectangle\", style = \"rounded,filled\", fontcolor = \"black\", color = \"grey\", tooltip = \"check-in\n1\", penwidth = \"1.5\", fixedsize = \"FALSE\", fontname = \"Arial\", fontsize = \"10\", fillcolor = \"#FFF7FB\"] \n  \"2\" [label = \"check-out\n1\", shape = \"rectangle\", style = \"rounded,filled\", fontcolor = \"black\", color = \"grey\", tooltip = \"check-out\n1\", penwidth = \"1.5\", fixedsize = \"FALSE\", fontname = \"Arial\", fontsize = \"10\", fillcolor = \"#FFF7FB\"] \n  \"3\" [label = \"End\", shape = \"circle\", style = \"rounded,filled\", fontcolor = \"brown4\", color = \"brown4\", tooltip = \"End\n1\", penwidth = \"1.5\", fixedsize = \"FALSE\", fontname = \"Arial\", fontsize = \"10\", fillcolor = \"#FFFFFF\"] \n  \"4\" [label = \"Start\", shape = \"circle\", style = \"rounded,filled\", fontcolor = \"chartreuse4\", color = \"chartreuse4\", tooltip = \"Start\n1\", penwidth = \"1.5\", fixedsize = \"FALSE\", fontname = \"Arial\", fontsize = \"10\", fillcolor = \"#FFFFFF\"] \n  \"5\" [label = \"surgery\n5\", shape = \"rectangle\", style = \"rounded,filled\", fontcolor = \"white\", color = \"grey\", tooltip = \"surgery\n5\", penwidth = \"1.5\", fixedsize = \"FALSE\", fontname = \"Arial\", fontsize = \"10\", fillcolor = \"#034E7B\"] \n  \"6\" [label = \"treatment\n2\", shape = \"rectangle\", style = \"rounded,filled\", fontcolor = \"black\", color = \"grey\", tooltip = \"treatment\n2\", penwidth = \"1.5\", fixedsize = \"FALSE\", fontname = \"Arial\", fontsize = \"10\", fillcolor = \"#D0D1E6\"] \n\"1\"->\"5\" [label = \"1\", penwidth = \"2.33333333333333\", color = \"dodgerblue4\", fontname = \"Arial\", fontsize = \"10\"] \n\"2\"->\"3\" [label = \"1\", penwidth = \"2.33333333333333\", color = \"dodgerblue4\", fontname = \"Arial\", fontsize = \"10\"] \n\"4\"->\"1\" [label = \"1\", penwidth = \"2.33333333333333\", color = \"dodgerblue4\", fontname = \"Arial\", fontsize = \"10\"] \n\"5\"->\"2\" [label = \"1\", penwidth = \"2.33333333333333\", color = \"dodgerblue4\", fontname = \"Arial\", fontsize = \"10\"] \n\"5\"->\"5\" [label = \"3\", penwidth = \"5\", color = \"dodgerblue4\", fontname = \"Arial\", fontsize = \"10\"] \n\"5\"->\"6\" [label = \"1\", penwidth = \"2.33333333333333\", color = \"dodgerblue4\", fontname = \"Arial\", fontsize = \"10\"] \n\"6\"->\"5\" [label = \"1\", penwidth = \"2.33333333333333\", color = \"dodgerblue4\", fontname = \"Arial\", fontsize = \"10\"] \n\"6\"->\"6\" [label = \"1\", penwidth = \"2.33333333333333\", color = \"dodgerblue4\", fontname = \"Arial\", fontsize = \"10\"] \n}","config":{"engine":"dot","options":null}},"evals":[],"jsHooks":[]}</script>
</div>
</div>
<div id="can-we-predict-the-age-of-a-case" class="section level2">
<h2><span class="header-section-number">8.4</span> Can we predict the age of a case?</h2>
<ul>
<li>Perhaps there is a feature in the data that can explain why there are two time periods in which the activity <code>BILLED</code> occurs? This pattern is seen clearly if we visualise the number of times the <code>BILLED</code> activity occurs in each month.</li>
</ul>
<div class="sourceCode" id="cb167"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb167-1" title="1">eventdataR<span class="op">::</span>hospital_billing <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb167-2" title="2"><span class="st">  </span>edeaR<span class="op">::</span><span class="kw">filter_activity</span>(<span class="dt">activities =</span> <span class="kw">c</span>(<span class="st">&quot;BILLED&quot;</span>)) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb167-3" title="3"><span class="st">  </span>dplyr<span class="op">::</span><span class="kw">mutate</span>(<span class="dt">day =</span> lubridate<span class="op">::</span><span class="kw">as_date</span>(timestamp),</a>
<a class="sourceLine" id="cb167-4" title="4">                <span class="dt">month =</span> base<span class="op">::</span><span class="kw">cut</span>(day, <span class="st">&quot;month&quot;</span>),</a>
<a class="sourceLine" id="cb167-5" title="5">                <span class="dt">month =</span> lubridate<span class="op">::</span><span class="kw">as_date</span>(month)) <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb167-6" title="6"><span class="st">  </span>dplyr<span class="op">::</span><span class="kw">count</span>(month) <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb167-7" title="7"><span class="st">  </span>ggplot2<span class="op">::</span><span class="kw">ggplot</span>() <span class="op">+</span></a>
<a class="sourceLine" id="cb167-8" title="8"><span class="st">  </span>ggplot2<span class="op">::</span><span class="kw">aes</span>(<span class="dt">x =</span> month,</a>
<a class="sourceLine" id="cb167-9" title="9">               <span class="dt">y =</span> n) <span class="op">+</span></a>
<a class="sourceLine" id="cb167-10" title="10"><span class="st">  </span>ggplot2<span class="op">::</span><span class="kw">geom_bar</span>(<span class="dt">stat =</span> <span class="st">&quot;identity&quot;</span>) <span class="op">+</span></a>
<a class="sourceLine" id="cb167-11" title="11"><span class="st">  </span>ggplot2<span class="op">::</span><span class="kw">scale_x_date</span>(<span class="dt">date_breaks =</span> <span class="st">&quot;1 month&quot;</span>,</a>
<a class="sourceLine" id="cb167-12" title="12">                          <span class="dt">labels =</span> scales<span class="op">::</span><span class="kw">date_format</span>(<span class="st">&quot;%b %y&quot;</span>),</a>
<a class="sourceLine" id="cb167-13" title="13">                          <span class="dt">limits =</span> <span class="kw">c</span>(min,max)) <span class="op">+</span></a>
<a class="sourceLine" id="cb167-14" title="14"><span class="st">  </span>ggplot2<span class="op">::</span><span class="kw">theme_minimal</span>() <span class="op">+</span></a>
<a class="sourceLine" id="cb167-15" title="15"><span class="st">  </span>ggplot2<span class="op">::</span><span class="kw">theme</span>(</a>
<a class="sourceLine" id="cb167-16" title="16">      <span class="dt">axis.text.x =</span> <span class="kw">element_text</span>(</a>
<a class="sourceLine" id="cb167-17" title="17">      <span class="dt">angle =</span> <span class="dv">60</span>,</a>
<a class="sourceLine" id="cb167-18" title="18">      <span class="dt">hjust =</span> <span class="dv">1</span>,</a>
<a class="sourceLine" id="cb167-19" title="19">      <span class="dt">size =</span> <span class="dv">9</span>)) <span class="op">+</span></a>
<a class="sourceLine" id="cb167-20" title="20"><span class="st">  </span>ggplot2<span class="op">::</span><span class="kw">labs</span>(</a>
<a class="sourceLine" id="cb167-21" title="21">    <span class="dt">title =</span> <span class="st">&quot;Month in which BILLED activity occurred&quot;</span>,</a>
<a class="sourceLine" id="cb167-22" title="22">    <span class="dt">x =</span> <span class="st">&quot;Date&quot;</span>,</a>
<a class="sourceLine" id="cb167-23" title="23">    <span class="dt">y =</span> <span class="st">&quot;Number of activities&quot;</span>) </a></code></pre></div>
<p><img src="bookdown-demo_files/figure-html/unnamed-chunk-77-1.png" width="672" /></p>
<ul>
<li>It will be most useful to explore the characteristics known when the first activity (<code>NEW</code>) is carried out. In this way the early information at case start could be used to predict and better understand in which of the two time periods the <code>BILLED</code> activity is likely to occur. Below we extract the characteristics at the start of the process for each case. We also categorise the very detailed <code>diagnosis</code> column by extracting just the first letter of the full diagnosis code. This is so that the plots created are less complicated.</li>
</ul>
<div class="sourceCode" id="cb168"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb168-1" title="1">predictors_at_NEW &lt;-<span class="st"> </span>eventdataR<span class="op">::</span>hospital_billing <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb168-2" title="2"><span class="st">  </span>edeaR<span class="op">::</span><span class="kw">filter_activity</span>(<span class="dt">activities =</span> <span class="kw">c</span>(<span class="st">&quot;NEW&quot;</span>)) <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb168-3" title="3"><span class="st">  </span>tibble<span class="op">::</span><span class="kw">as_tibble</span>() <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb168-4" title="4"><span class="st">  </span>dplyr<span class="op">::</span><span class="kw">select</span>(case_id,actorange<span class="op">:</span>speciality) <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb168-5" title="5"><span class="st">  </span>dplyr<span class="op">::</span><span class="kw">mutate</span>(<span class="dt">diagnosis_cat =</span> stringr<span class="op">::</span><span class="kw">str_sub</span>(<span class="dt">string =</span> diagnosis,</a>
<a class="sourceLine" id="cb168-6" title="6">                                      <span class="dt">start =</span> <span class="dv">1</span>,</a>
<a class="sourceLine" id="cb168-7" title="7">                                      <span class="dt">end =</span> <span class="dv">1</span>)) </a></code></pre></div>
<ul>
<li>First we see what is contained in each predictor quickly using <a href="https://github.com/ropensci/skimr">skimr</a>.</li>
</ul>
<div class="sourceCode" id="cb169"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb169-1" title="1"><span class="kw">library</span>(skimr)</a>
<a class="sourceLine" id="cb169-2" title="2">skimr<span class="op">::</span><span class="kw">skim</span>(predictors_at_NEW)</a></code></pre></div>
<pre><code>## Skim summary statistics
##  n obs: 11106 
##  n variables: 18 
## 
## -- Variable type:character -------------------
##       variable missing complete     n min max empty n_unique
##      actorange   11106        0 11106  NA  NA     0        0
##         actred   11106        0 11106  NA  NA     0        0
##        blocked    1106    10000 11106   5   5     0        1
##        case_id       1    11105 11106   1   3     0     9999
##       casetype    1106    10000 11106   1   1     0        7
##      closecode   11106        0 11106  NA  NA     0        0
##      diagnosis    6456     4650 11106   1   3     0      467
##  diagnosis_cat    6456     4650 11106   1   1     0       26
##          flaga    1106    10000 11106   5   5     0        1
##          flagb    1106    10000 11106   5   5     0        1
##          flagc   11106        0 11106  NA  NA     0        0
##          flagd    1105    10001 11106   4   5     0        2
##    iscancelled    1106    10000 11106   5   5     0        1
##       isclosed    1098    10008 11106   4   5     0        2
##        msgcode   11106        0 11106  NA  NA     0        0
##        msgtype   11106        0 11106  NA  NA     0        0
##     speciality    1106    10000 11106   1   1     0       22
## 
## -- Variable type:integer ---------------------
##  variable missing complete     n mean sd p0 p25 p50 p75 p100 hist
##  msgcount   11106        0 11106  NaN NA NA  NA  NA  NA   NA</code></pre>
<div class="sourceCode" id="cb171"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb171-1" title="1">predictors_at_NEW &lt;-<span class="st"> </span>predictors_at_NEW <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb171-2" title="2"><span class="st">  </span>dplyr<span class="op">::</span><span class="kw">select</span>(<span class="op">-</span>actorange,<span class="op">-</span>actred,<span class="op">-</span>closecode,<span class="op">-</span>flagc,<span class="op">-</span>msgcode,<span class="op">-</span>msgtype)</a></code></pre></div>
<ul>
<li>The skimr output shows 6 columns with all missing values we can remove as they offer no information. Next, we join the first known case characteristics (from when the case started at the <code>NEW</code> activity) to the final <code>BILLED</code> activity rows.</li>
</ul>
<div class="sourceCode" id="cb172"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb172-1" title="1">billed &lt;-<span class="st"> </span>eventdataR<span class="op">::</span>hospital_billing <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb172-2" title="2"><span class="st">  </span>edeaR<span class="op">::</span><span class="kw">filter_activity</span>(<span class="dt">activities =</span> <span class="kw">c</span>(<span class="st">&quot;BILLED&quot;</span>)) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb172-3" title="3"><span class="st">  </span>dplyr<span class="op">::</span><span class="kw">mutate</span>(<span class="dt">day =</span> lubridate<span class="op">::</span><span class="kw">as_date</span>(timestamp),</a>
<a class="sourceLine" id="cb172-4" title="4">                <span class="dt">month =</span> base<span class="op">::</span><span class="kw">cut</span>(day, <span class="st">&quot;month&quot;</span>),</a>
<a class="sourceLine" id="cb172-5" title="5">                <span class="dt">month =</span> lubridate<span class="op">::</span><span class="kw">as_date</span>(month)) <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb172-6" title="6"><span class="st">  </span>tibble<span class="op">::</span><span class="kw">as_tibble</span>() <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb172-7" title="7"><span class="st">  </span>dplyr<span class="op">::</span><span class="kw">select</span>(case_id,day,month) <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb172-8" title="8"><span class="st">  </span>dplyr<span class="op">::</span><span class="kw">left_join</span>(predictors_at_NEW) </a></code></pre></div>
<pre><code>## Joining, by = &quot;case_id&quot;</code></pre>
<ul>
<li>Finally, we can plot different case characteristics by the month in which the final case activity <code>BILLED</code> occurred. Starting with <code>casetype</code> we can see a strong relationship with values A and B. These two values each dominate each of the two peaks separately. The second peak in January to April 2014 was almost all <code>casetype</code> value “A” or “NA” at the first activity (<code>NEW</code>). While the first peak is almost all <code>casetype</code> value “B” at the first activity.</li>
</ul>
<div class="sourceCode" id="cb174"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb174-1" title="1">billed <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb174-2" title="2"><span class="st">  </span>dplyr<span class="op">::</span><span class="kw">group_by</span>(month,casetype) <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb174-3" title="3"><span class="st">  </span>dplyr<span class="op">::</span><span class="kw">summarise</span>(<span class="dt">n =</span> <span class="kw">n</span>()) <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb174-4" title="4"><span class="st">  </span>dplyr<span class="op">::</span><span class="kw">ungroup</span>() <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb174-5" title="5"><span class="st">  </span>ggplot2<span class="op">::</span><span class="kw">ggplot</span>() <span class="op">+</span></a>
<a class="sourceLine" id="cb174-6" title="6"><span class="st">  </span>ggplot2<span class="op">::</span><span class="kw">aes</span>(<span class="dt">x =</span> month,</a>
<a class="sourceLine" id="cb174-7" title="7">               <span class="dt">y =</span> n,</a>
<a class="sourceLine" id="cb174-8" title="8">               <span class="dt">colour =</span> casetype,</a>
<a class="sourceLine" id="cb174-9" title="9">               <span class="dt">fill =</span> casetype) <span class="op">+</span></a>
<a class="sourceLine" id="cb174-10" title="10"><span class="st">  </span>ggplot2<span class="op">::</span><span class="kw">geom_bar</span>(<span class="dt">stat =</span> <span class="st">&quot;identity&quot;</span>) <span class="op">+</span></a>
<a class="sourceLine" id="cb174-11" title="11"><span class="st">  </span>ggplot2<span class="op">::</span><span class="kw">scale_x_date</span>(<span class="dt">date_breaks =</span> <span class="st">&quot;1 month&quot;</span>,</a>
<a class="sourceLine" id="cb174-12" title="12">                          <span class="dt">labels =</span> scales<span class="op">::</span><span class="kw">date_format</span>(<span class="st">&quot;%b %y&quot;</span>)) <span class="op">+</span></a>
<a class="sourceLine" id="cb174-13" title="13"><span class="st">  </span>ggplot2<span class="op">::</span><span class="kw">theme_minimal</span>() <span class="op">+</span></a>
<a class="sourceLine" id="cb174-14" title="14"><span class="st">  </span>ggplot2<span class="op">::</span><span class="kw">theme</span>(</a>
<a class="sourceLine" id="cb174-15" title="15">      <span class="dt">axis.text.x =</span> <span class="kw">element_text</span>(</a>
<a class="sourceLine" id="cb174-16" title="16">      <span class="dt">angle =</span> <span class="dv">60</span>,</a>
<a class="sourceLine" id="cb174-17" title="17">      <span class="dt">hjust =</span> <span class="dv">1</span>,</a>
<a class="sourceLine" id="cb174-18" title="18">      <span class="dt">size =</span> <span class="dv">9</span>)) <span class="op">+</span></a>
<a class="sourceLine" id="cb174-19" title="19"><span class="st">  </span>ggplot2<span class="op">::</span><span class="kw">labs</span>(</a>
<a class="sourceLine" id="cb174-20" title="20">    <span class="co">#title = paste(casetype,&quot; by BILLED month&quot;),</span></a>
<a class="sourceLine" id="cb174-21" title="21">    <span class="dt">x =</span> <span class="st">&quot;Date&quot;</span>,</a>
<a class="sourceLine" id="cb174-22" title="22">    <span class="dt">y =</span> <span class="st">&quot;Number of activities&quot;</span>) </a></code></pre></div>
<p><img src="bookdown-demo_files/figure-html/unnamed-chunk-81-1.png" width="672" /></p>
<ul>
<li><code>casetype</code> does not entirely explain the two peaks (i.e. sometimes other casetype values occur). Below we put the ggplot code from above into a function so that it is easy to repeat the plot for more of the case characteristics known at the start of the case.</li>
</ul>
<div class="sourceCode" id="cb175"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb175-1" title="1">plot_fun &lt;-<span class="st"> </span><span class="cf">function</span>(cat){</a>
<a class="sourceLine" id="cb175-2" title="2">  </a>
<a class="sourceLine" id="cb175-3" title="3">  cat &lt;-<span class="st"> </span><span class="kw">ensym</span>(cat)</a>
<a class="sourceLine" id="cb175-4" title="4"></a>
<a class="sourceLine" id="cb175-5" title="5">billed <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb175-6" title="6"><span class="st">  </span>dplyr<span class="op">::</span><span class="kw">group_by</span>(month,<span class="op">!!</span>cat) <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb175-7" title="7"><span class="st">  </span>dplyr<span class="op">::</span><span class="kw">summarise</span>(<span class="dt">n =</span> <span class="kw">n</span>()) <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb175-8" title="8"><span class="st">  </span>ggplot2<span class="op">::</span><span class="kw">ggplot</span>() <span class="op">+</span></a>
<a class="sourceLine" id="cb175-9" title="9"><span class="st">  </span>ggplot2<span class="op">::</span><span class="kw">aes</span>(<span class="dt">x =</span> month,</a>
<a class="sourceLine" id="cb175-10" title="10">               <span class="dt">y =</span> n,</a>
<a class="sourceLine" id="cb175-11" title="11">               <span class="dt">colour =</span> <span class="op">!!</span>cat,</a>
<a class="sourceLine" id="cb175-12" title="12">               <span class="dt">fill =</span> <span class="op">!!</span>cat) <span class="op">+</span></a>
<a class="sourceLine" id="cb175-13" title="13"><span class="st">  </span>ggplot2<span class="op">::</span><span class="kw">geom_bar</span>(<span class="dt">stat =</span> <span class="st">&quot;identity&quot;</span>) <span class="op">+</span></a>
<a class="sourceLine" id="cb175-14" title="14"><span class="st">  </span>ggplot2<span class="op">::</span><span class="kw">scale_x_date</span>(<span class="dt">date_breaks =</span> <span class="st">&quot;1 month&quot;</span>,</a>
<a class="sourceLine" id="cb175-15" title="15">                          <span class="dt">labels =</span> scales<span class="op">::</span><span class="kw">date_format</span>(<span class="st">&quot;%b %y&quot;</span>)) <span class="op">+</span></a>
<a class="sourceLine" id="cb175-16" title="16"><span class="st">  </span>ggplot2<span class="op">::</span><span class="kw">theme_minimal</span>() <span class="op">+</span></a>
<a class="sourceLine" id="cb175-17" title="17"><span class="st">  </span>ggplot2<span class="op">::</span><span class="kw">theme</span>(</a>
<a class="sourceLine" id="cb175-18" title="18">      <span class="dt">axis.text.x =</span> <span class="kw">element_text</span>(</a>
<a class="sourceLine" id="cb175-19" title="19">      <span class="dt">angle =</span> <span class="dv">60</span>,</a>
<a class="sourceLine" id="cb175-20" title="20">      <span class="dt">hjust =</span> <span class="dv">1</span>,</a>
<a class="sourceLine" id="cb175-21" title="21">      <span class="dt">size =</span> <span class="dv">9</span>)) <span class="op">+</span></a>
<a class="sourceLine" id="cb175-22" title="22"><span class="st">  </span>ggplot2<span class="op">::</span><span class="kw">labs</span>(</a>
<a class="sourceLine" id="cb175-23" title="23">    <span class="dt">title =</span> <span class="kw">paste</span>(<span class="st">&quot;Value of &quot;</span>,cat,<span class="st">&quot;during activity NEW shown by BILLED month&quot;</span>),</a>
<a class="sourceLine" id="cb175-24" title="24">    <span class="dt">x =</span> <span class="st">&quot;Date&quot;</span>,</a>
<a class="sourceLine" id="cb175-25" title="25">    <span class="dt">y =</span> <span class="st">&quot;Number of activities&quot;</span>) </a>
<a class="sourceLine" id="cb175-26" title="26"></a>
<a class="sourceLine" id="cb175-27" title="27">}</a></code></pre></div>
<ul>
<li>In the plots below the <code>diagnosis</code> column is mostly “NA” at the earlier peak of <code>BILLED</code> activities, while all the other <code>diganosis</code> categories are more common than “NA” in the second peak of <code>BILLED</code> activity.</li>
</ul>
<details>
<summary>Show all the plots</summary>
<p>
<div class="sourceCode" id="cb176"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb176-1" title="1">vars &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;blocked&quot;</span>,<span class="st">&quot;diagnosis_cat&quot;</span>,<span class="st">&quot;flaga&quot;</span>,<span class="st">&quot;flagb&quot;</span>,<span class="st">&quot;flagd&quot;</span>,<span class="st">&quot;iscancelled&quot;</span>,<span class="st">&quot;isclosed&quot;</span>,<span class="st">&quot;msgcount&quot;</span>,<span class="st">&quot;speciality&quot;</span>)</a>
<a class="sourceLine" id="cb176-2" title="2">purrr<span class="op">::</span><span class="kw">map</span>(vars,plot_fun)</a></code></pre></div>
<pre><code>## [[1]]</code></pre>
<p><img src="bookdown-demo_files/figure-html/unnamed-chunk-83-1.png" width="672" /></p>
<pre><code>## 
## [[2]]</code></pre>
<p><img src="bookdown-demo_files/figure-html/unnamed-chunk-83-2.png" width="672" /></p>
<pre><code>## 
## [[3]]</code></pre>
<p><img src="bookdown-demo_files/figure-html/unnamed-chunk-83-3.png" width="672" /></p>
<pre><code>## 
## [[4]]</code></pre>
<p><img src="bookdown-demo_files/figure-html/unnamed-chunk-83-4.png" width="672" /></p>
<pre><code>## 
## [[5]]</code></pre>
<p><img src="bookdown-demo_files/figure-html/unnamed-chunk-83-5.png" width="672" /></p>
<pre><code>## 
## [[6]]</code></pre>
<p><img src="bookdown-demo_files/figure-html/unnamed-chunk-83-6.png" width="672" /></p>
<pre><code>## 
## [[7]]</code></pre>
<p><img src="bookdown-demo_files/figure-html/unnamed-chunk-83-7.png" width="672" /></p>
<pre><code>## 
## [[8]]</code></pre>
<p><img src="bookdown-demo_files/figure-html/unnamed-chunk-83-8.png" width="672" /></p>
<pre><code>## 
## [[9]]</code></pre>
<img src="bookdown-demo_files/figure-html/unnamed-chunk-83-9.png" width="672" />
</p>
</details>
<p><br/></p>
<ul>
<li><p>If we wanted to predict the eventual age of the case when it reaches the <code>BILLED</code> activity from what we knew about the case at the first <code>NEW</code> activity, knowing if it is <code>casetype</code> “A”, “B” or “NA” will be a good predictor. Also, cases which move quickly from the first <code>NEW</code> activity to <code>CHANGE DIAGN</code> (with an average of 0 days) their subsequent average time to the <code>FIN</code> activity is only 89 days, but much longer for cases that move directly from <code>NEW</code> to <code>FIN</code> (with an average time of 361 days). This means that the activities that cases pass through should also help us predict the case age when it is in-flight, and not just from what we knew about the case when it began.</p></li>
<li><p>There are likely to be complex combinations of additional predictors or “features” that could be used to predict the most likely case age. In a later chapter we introduce the caret package as a way to automatically combine values to create more accurate predictions.</p></li>
</ul>
</div>
<div id="process-discovery-algorithms" class="section level2">
<h2><span class="header-section-number">8.5</span> Process Discovery algorithms</h2>
<ul>
<li>There are also algorithmic methods designed to reveal important paths and the causal structure among the complexity of the raw spaghetti-like process maps. They include the <a href="https://www.bupar.net/heuristics_miner.html">Heuristics Miner</a> <a href="https://github.com/bupaverse/heuristicsmineR/blob/master/README.md">package</a> and the <a href="https://github.com/nirmalpatel/fuzzymineR/blob/master/README.md">Fuzzy Miner package</a> that represent the process as a simplified model.</li>
</ul>
<div id="flexible-heuristics-miner" class="section level3">
<h3><span class="header-section-number">8.5.1</span> Flexible Heuristics Miner</h3>
<ul>
<li><p>The Flexible Heuristics Miner algorithm is well explained in the <a href="https://www.researchgate.net/publication/221312126_Flexible_Heuristics_Miner_FHM">Flexible Heuristics Miner paper</a> using worked examples and set notation.</p></li>
<li><p>First we create a simple precedence matrix. The activities on the left hand y axis are the <em>antecedent</em> (so come first in the process), while the activities along the bottom x axis are the <em>consequent</em> (so occur after the antecedent). A more literal description of a precedence matrix is a <a href="https://www.futurelearn.com/courses/process-mining/0/steps/15639">“directly-follows frequency matrix”</a>.</p></li>
</ul>
<div class="sourceCode" id="cb186"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb186-1" title="1">p_matrix &lt;-<span class="st"> </span>heuristicsmineR<span class="op">::</span><span class="kw">precedence_matrix_absolute</span>(<span class="dt">eventlog =</span> eventdataR<span class="op">::</span>hospital_billing)</a>
<a class="sourceLine" id="cb186-2" title="2"></a>
<a class="sourceLine" id="cb186-3" title="3">new_levs &lt;-<span class="st"> </span>base<span class="op">::</span><span class="kw">sort</span>(base<span class="op">::</span><span class="kw">levels</span>(p_matrix<span class="op">$</span>antecedent))</a>
<a class="sourceLine" id="cb186-4" title="4"></a>
<a class="sourceLine" id="cb186-5" title="5"><span class="kw">levels</span>(p_matrix<span class="op">$</span>antecedent) &lt;-<span class="st"> </span>new_levs</a>
<a class="sourceLine" id="cb186-6" title="6"><span class="kw">levels</span>(p_matrix<span class="op">$</span>consequent) &lt;-<span class="st"> </span>new_levs</a>
<a class="sourceLine" id="cb186-7" title="7"></a>
<a class="sourceLine" id="cb186-8" title="8">p1 &lt;-<span class="st"> </span>p_matrix <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb186-9" title="9"><span class="st">  </span>ggplot2<span class="op">::</span><span class="kw">ggplot</span>() <span class="op">+</span></a>
<a class="sourceLine" id="cb186-10" title="10"><span class="st">  </span>ggplot2<span class="op">::</span><span class="kw">aes</span>(<span class="dt">x =</span> consequent,</a>
<a class="sourceLine" id="cb186-11" title="11">               <span class="dt">y =</span> antecedent,</a>
<a class="sourceLine" id="cb186-12" title="12">               <span class="dt">fill =</span> n) <span class="op">+</span></a>
<a class="sourceLine" id="cb186-13" title="13"><span class="st">  </span>ggplot2<span class="op">::</span><span class="kw">geom_raster</span>()<span class="op">+</span><span class="st"> </span></a>
<a class="sourceLine" id="cb186-14" title="14"><span class="st">  </span>ggplot2<span class="op">::</span><span class="kw">geom_text</span>(<span class="kw">aes</span>(<span class="dt">label =</span>  base<span class="op">::</span><span class="kw">ifelse</span>(n<span class="op">&gt;</span><span class="dv">0</span>,</a>
<a class="sourceLine" id="cb186-15" title="15">                                               base<span class="op">::</span><span class="kw">format</span>(n, </a>
<a class="sourceLine" id="cb186-16" title="16">                                                            <span class="dt">big.mark =</span> <span class="st">&quot;,&quot;</span>, </a>
<a class="sourceLine" id="cb186-17" title="17">                                                            <span class="dt">scientific =</span> <span class="ot">FALSE</span>),</a>
<a class="sourceLine" id="cb186-18" title="18">                                               <span class="ot">NA</span>)), </a>
<a class="sourceLine" id="cb186-19" title="19">                     <span class="dt">size =</span> <span class="dv">3</span>,</a>
<a class="sourceLine" id="cb186-20" title="20">                     <span class="dt">angle =</span> <span class="dv">60</span>) <span class="op">+</span></a>
<a class="sourceLine" id="cb186-21" title="21"><span class="st">  </span>ggplot2<span class="op">::</span><span class="kw">scale_fill_gradient</span>(<span class="dt">low =</span> <span class="st">&quot;white&quot;</span>, <span class="dt">high =</span> <span class="st">&quot;red&quot;</span>) <span class="op">+</span></a>
<a class="sourceLine" id="cb186-22" title="22"><span class="st">  </span>ggplot2<span class="op">::</span><span class="kw">theme_minimal</span>() <span class="op">+</span></a>
<a class="sourceLine" id="cb186-23" title="23"><span class="st">  </span>ggplot2<span class="op">::</span><span class="kw">theme</span>(<span class="dt">axis.text.x =</span> <span class="kw">element_text</span>(<span class="dt">angle =</span> <span class="dv">60</span>, </a>
<a class="sourceLine" id="cb186-24" title="24">                                            <span class="dt">hjust =</span> <span class="dv">1</span>),</a>
<a class="sourceLine" id="cb186-25" title="25">                 <span class="dt">legend.position =</span> <span class="st">&quot;none&quot;</span>,</a>
<a class="sourceLine" id="cb186-26" title="26">                 <span class="dt">axis.title.y =</span> <span class="kw">element_text</span>(<span class="dt">angle =</span> <span class="dv">0</span>,</a>
<a class="sourceLine" id="cb186-27" title="27">                                             <span class="dt">vjust =</span> <span class="fl">0.5</span>)) <span class="op">+</span></a>
<a class="sourceLine" id="cb186-28" title="28"><span class="st">  </span>ggplot2<span class="op">::</span><span class="kw">labs</span>(<span class="dt">x =</span> <span class="st">&quot;Consequent&quot;</span>,</a>
<a class="sourceLine" id="cb186-29" title="29">                <span class="dt">y =</span> <span class="st">&quot;Antecedent&quot;</span>)</a>
<a class="sourceLine" id="cb186-30" title="30"></a>
<a class="sourceLine" id="cb186-31" title="31">p1</a></code></pre></div>
<p><img src="bookdown-demo_files/figure-html/unnamed-chunk-84-1.png" width="672" /></p>
<ul>
<li>A lower code version of the … is..</li>
</ul>
<div class="sourceCode" id="cb187"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb187-1" title="1">eventdataR<span class="op">::</span>hospital_billing <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb187-2" title="2"><span class="st">  </span>processmapR<span class="op">::</span><span class="kw">precedence_matrix</span>(<span class="dt">type =</span> <span class="st">&quot;absolute&quot;</span>) <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb187-3" title="3"><span class="st">  </span><span class="kw">plot</span>()</a></code></pre></div>
<p><img src="bookdown-demo_files/figure-html/unnamed-chunk-85-1.png" width="672" /></p>
<ul>
<li><p>This precedence matrix is equivalent to the FHM algorithm example in Table 2 of the <a href="https://www.researchgate.net/publication/221312126_Flexible_Heuristics_Miner_FHM">Flexible Heuristics Miner paper</a>.</p></li>
<li><p>Using <code>heuristicsmineR::precedence_matrix_length_two_loops()</code> we can also create “length two loops”. This shows which activities recurring after a different activity is carried out. For example, the value 129 and <code>STORNO,BILLED</code> tells us there were 129 <code>STORNO,BILLED,STORNO</code> activity sequences in the event log. This matrix is equivalent to the worked FHM algorithm example in Table 3 of the <a href="https://www.researchgate.net/publication/221312126_Flexible_Heuristics_Miner_FHM">Flexible Heuristics Miner paper</a>.</p></li>
</ul>
<div class="sourceCode" id="cb188"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb188-1" title="1">p_matrix &lt;-<span class="st"> </span>heuristicsmineR<span class="op">::</span><span class="kw">precedence_matrix_length_two_loops</span>(<span class="dt">eventlog =</span> eventdataR<span class="op">::</span>hospital_billing)</a>
<a class="sourceLine" id="cb188-2" title="2"></a>
<a class="sourceLine" id="cb188-3" title="3">p2 &lt;-<span class="st"> </span>p_matrix <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb188-4" title="4"><span class="st">  </span>ggplot2<span class="op">::</span><span class="kw">ggplot</span>() <span class="op">+</span></a>
<a class="sourceLine" id="cb188-5" title="5"><span class="st">  </span>ggplot2<span class="op">::</span><span class="kw">aes</span>(<span class="dt">x =</span> consequent,</a>
<a class="sourceLine" id="cb188-6" title="6">               <span class="dt">y =</span> antecedent,</a>
<a class="sourceLine" id="cb188-7" title="7">               <span class="dt">fill =</span> n) <span class="op">+</span></a>
<a class="sourceLine" id="cb188-8" title="8"><span class="st">  </span>ggplot2<span class="op">::</span><span class="kw">geom_tile</span>()<span class="op">+</span><span class="st"> </span></a>
<a class="sourceLine" id="cb188-9" title="9"><span class="st">  </span>ggplot2<span class="op">::</span><span class="kw">geom_text</span>(<span class="kw">aes</span>(<span class="dt">label =</span>  base<span class="op">::</span><span class="kw">ifelse</span>(n<span class="op">&gt;</span><span class="dv">0</span>,</a>
<a class="sourceLine" id="cb188-10" title="10">                                               base<span class="op">::</span><span class="kw">format</span>(n, </a>
<a class="sourceLine" id="cb188-11" title="11">                                                            <span class="dt">big.mark =</span> <span class="st">&quot;,&quot;</span>, </a>
<a class="sourceLine" id="cb188-12" title="12">                                                            <span class="dt">scientific =</span> <span class="ot">FALSE</span>),</a>
<a class="sourceLine" id="cb188-13" title="13">                                               <span class="ot">NA</span>)), </a>
<a class="sourceLine" id="cb188-14" title="14">                     <span class="dt">size =</span> <span class="dv">3</span>) <span class="op">+</span></a>
<a class="sourceLine" id="cb188-15" title="15"><span class="st">  </span>ggplot2<span class="op">::</span><span class="kw">scale_fill_gradient</span>(<span class="dt">low =</span> <span class="st">&quot;white&quot;</span>, <span class="dt">high =</span> <span class="st">&quot;red&quot;</span>) <span class="op">+</span></a>
<a class="sourceLine" id="cb188-16" title="16"><span class="st">  </span>ggplot2<span class="op">::</span><span class="kw">theme_minimal</span>() <span class="op">+</span></a>
<a class="sourceLine" id="cb188-17" title="17"><span class="st">  </span>ggplot2<span class="op">::</span><span class="kw">theme</span>(<span class="dt">axis.text.x =</span> <span class="kw">element_text</span>(<span class="dt">angle =</span> <span class="dv">60</span>, </a>
<a class="sourceLine" id="cb188-18" title="18">                                            <span class="dt">hjust =</span> <span class="dv">1</span>),</a>
<a class="sourceLine" id="cb188-19" title="19">                 <span class="dt">legend.position =</span> <span class="st">&quot;none&quot;</span>,</a>
<a class="sourceLine" id="cb188-20" title="20">                 <span class="dt">axis.title.y =</span> <span class="kw">element_text</span>(<span class="dt">angle =</span> <span class="dv">0</span>,</a>
<a class="sourceLine" id="cb188-21" title="21">                                             <span class="dt">vjust =</span> <span class="fl">0.5</span>)) <span class="op">+</span></a>
<a class="sourceLine" id="cb188-22" title="22"><span class="st">  </span>ggplot2<span class="op">::</span><span class="kw">labs</span>(<span class="dt">x =</span> <span class="st">&quot;Consequent&quot;</span>,</a>
<a class="sourceLine" id="cb188-23" title="23">                <span class="dt">y =</span> <span class="st">&quot;Antecedent&quot;</span>)</a>
<a class="sourceLine" id="cb188-24" title="24"></a>
<a class="sourceLine" id="cb188-25" title="25"></a>
<a class="sourceLine" id="cb188-26" title="26">p2</a></code></pre></div>
<p><img src="bookdown-demo_files/figure-html/unnamed-chunk-86-1.png" width="672" /></p>
<ul>
<li><p>The <code>heuristicsmineR::dependency_matrix()</code> calculates formula (1) in the <a href="https://www.researchgate.net/publication/221312126_Flexible_Heuristics_Miner_FHM">Flexible Heuristics Miner paper</a>. In words, the formula is the number of times activity B follows activity A, minus the other direction (A follows B), divided by the sum of the previous two values plus one. The value is always between -1 and 1. A high value indicates a <em>dependency relation</em> in that direction.</p></li>
<li><p>Below we calculate the dependency matrix and illustrate the calculation with one task pair following the text at the start of section 4.1 of the FHM paper.</p></li>
</ul>
<div class="sourceCode" id="cb189"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb189-1" title="1">dm &lt;-<span class="st"> </span>heuristicsmineR<span class="op">::</span><span class="kw">dependency_matrix</span>(<span class="dt">eventlog =</span> eventdataR<span class="op">::</span>hospital_billing, </a>
<a class="sourceLine" id="cb189-2" title="2">                                         <span class="dt">threshold =</span> <span class="dv">0</span>) </a>
<a class="sourceLine" id="cb189-3" title="3">t &lt;-<span class="st"> </span>base<span class="op">::</span><span class="kw">as.data.frame</span>(dm) <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb189-4" title="4"><span class="st">  </span>dplyr<span class="op">::</span><span class="kw">filter</span>(consequent <span class="op">!=</span><span class="st"> &quot;End&quot;</span>)</a>
<a class="sourceLine" id="cb189-5" title="5"></a>
<a class="sourceLine" id="cb189-6" title="6">new_levs &lt;-<span class="st"> </span>base<span class="op">::</span><span class="kw">sort</span>(base<span class="op">::</span><span class="kw">levels</span>(t<span class="op">$</span>antecedent))</a>
<a class="sourceLine" id="cb189-7" title="7"></a>
<a class="sourceLine" id="cb189-8" title="8"><span class="kw">levels</span>(t<span class="op">$</span>antecedent) &lt;-<span class="st"> </span>new_levs</a>
<a class="sourceLine" id="cb189-9" title="9"><span class="kw">levels</span>(t<span class="op">$</span>consequent) &lt;-<span class="st"> </span>new_levs</a>
<a class="sourceLine" id="cb189-10" title="10">  </a>
<a class="sourceLine" id="cb189-11" title="11">p3 &lt;-<span class="st"> </span>t <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb189-12" title="12"><span class="st">  </span>ggplot2<span class="op">::</span><span class="kw">ggplot</span>() <span class="op">+</span></a>
<a class="sourceLine" id="cb189-13" title="13"><span class="st">  </span>ggplot2<span class="op">::</span><span class="kw">aes</span>(<span class="dt">x =</span> consequent,</a>
<a class="sourceLine" id="cb189-14" title="14">               <span class="dt">y =</span> antecedent,</a>
<a class="sourceLine" id="cb189-15" title="15">               <span class="dt">fill =</span> dep) <span class="op">+</span></a>
<a class="sourceLine" id="cb189-16" title="16"><span class="st">  </span>ggplot2<span class="op">::</span><span class="kw">geom_tile</span>()<span class="op">+</span><span class="st"> </span></a>
<a class="sourceLine" id="cb189-17" title="17"><span class="st">  </span>ggplot2<span class="op">::</span><span class="kw">geom_text</span>(<span class="kw">aes</span>(<span class="dt">label =</span> <span class="kw">round</span>(dep,<span class="dv">1</span>)),</a>
<a class="sourceLine" id="cb189-18" title="18">                     <span class="dt">size =</span> <span class="dv">3</span>) <span class="op">+</span></a>
<a class="sourceLine" id="cb189-19" title="19"><span class="st">  </span>ggplot2<span class="op">::</span><span class="kw">scale_fill_gradient</span>(<span class="dt">low =</span> <span class="st">&quot;white&quot;</span>, </a>
<a class="sourceLine" id="cb189-20" title="20">                               <span class="dt">high =</span> <span class="st">&quot;orange&quot;</span>) <span class="op">+</span></a>
<a class="sourceLine" id="cb189-21" title="21"><span class="st">  </span>ggplot2<span class="op">::</span><span class="kw">theme_minimal</span>() <span class="op">+</span></a>
<a class="sourceLine" id="cb189-22" title="22"><span class="st">  </span>ggplot2<span class="op">::</span><span class="kw">theme</span>(<span class="dt">axis.text.x =</span> <span class="kw">element_text</span>(<span class="dt">angle =</span> <span class="dv">60</span>, </a>
<a class="sourceLine" id="cb189-23" title="23">                                            <span class="dt">hjust =</span> <span class="dv">1</span>),</a>
<a class="sourceLine" id="cb189-24" title="24">                 <span class="dt">legend.position =</span> <span class="st">&quot;none&quot;</span>,</a>
<a class="sourceLine" id="cb189-25" title="25">                 <span class="dt">axis.title.y =</span> <span class="kw">element_blank</span>(),</a>
<a class="sourceLine" id="cb189-26" title="26">                 <span class="dt">axis.text.y =</span> <span class="kw">element_blank</span>()) </a>
<a class="sourceLine" id="cb189-27" title="27"></a>
<a class="sourceLine" id="cb189-28" title="28">p3 &lt;-<span class="st"> </span>p3 <span class="op">+</span></a>
<a class="sourceLine" id="cb189-29" title="29"><span class="st">  </span>ggplot2<span class="op">::</span><span class="kw">theme</span>(<span class="dt">axis.title.y =</span> <span class="kw">element_blank</span>())</a>
<a class="sourceLine" id="cb189-30" title="30"></a>
<a class="sourceLine" id="cb189-31" title="31">p1 &lt;-<span class="st"> </span>p1 <span class="op">+</span></a>
<a class="sourceLine" id="cb189-32" title="32"><span class="st">  </span>ggplot2<span class="op">::</span><span class="kw">theme</span>(<span class="dt">axis.title.y =</span> <span class="kw">element_text</span>(<span class="dt">angle =</span> <span class="dv">90</span>))</a>
<a class="sourceLine" id="cb189-33" title="33"></a>
<a class="sourceLine" id="cb189-34" title="34">cowplot<span class="op">::</span><span class="kw">plot_grid</span>(p1, p3, </a>
<a class="sourceLine" id="cb189-35" title="35">                   <span class="dt">labels =</span> <span class="kw">c</span>(<span class="st">&#39;Directly-follows frequency matrix&#39;</span>, </a>
<a class="sourceLine" id="cb189-36" title="36">                              <span class="st">&#39;Dependency matrix&#39;</span>), </a>
<a class="sourceLine" id="cb189-37" title="37">                   <span class="dt">label_size =</span> <span class="dv">12</span>,</a>
<a class="sourceLine" id="cb189-38" title="38">                   <span class="dt">vjust =</span> <span class="dv">1</span>)</a></code></pre></div>
<p><img src="bookdown-demo_files/figure-html/unnamed-chunk-87-1.png" width="672" /></p>
<ul>
<li><p>In the left hand matrix above the task <code>CODE ERROR</code> is directly followed two times by task <code>REOPEN</code>, but the other way never occurs. This means that the dependency relation value of <code>CODE ERROR</code> ⇒W <code>REOPEN</code> = (2 - 0) / (2 + 0 + 1) = 0.7. This indicates we are not completely sure of the dependency relation with only two observations.</p></li>
<li><p>However, if <code>CODE ERROR</code> is directly followed by <code>REOPEN</code> many more times than two (say 50 times) and the other way around never occurs we can be much more certain there is a dependency relation. The value would then be <code>CODE ERROR</code> ⇒W <code>REOPEN</code> = (50 - 0) / (50 + 0 + 1) = 0.98 which is much closer to one indicating a very strong dependence relation.</p></li>
<li><p>If noise caused <code>CODE ERROR</code> to follow <code>REOPEN</code> once, the value of <code>CODE ERROR</code> ⇒W <code>REOPEN</code> is (50 -1) / (50 + 1 + 1) = 0.94. This is only a little lower and indicates we are still confident
of a dependency relation with the value being so close to 1.</p></li>
<li><p>If we alter the threshold value for which we will accept a dependency relation (e.g. values above 0.9) then view that in a matrix, we can be fairly certain there is a causality between the antecedent and consequent activities shown below.</p></li>
</ul>
<div class="sourceCode" id="cb190"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb190-1" title="1">dm &lt;-<span class="st"> </span>heuristicsmineR<span class="op">::</span><span class="kw">dependency_matrix</span>(<span class="dt">eventlog =</span> eventdataR<span class="op">::</span>hospital_billing, </a>
<a class="sourceLine" id="cb190-2" title="2">                                         <span class="dt">threshold =</span> <span class="fl">0.9</span>,</a>
<a class="sourceLine" id="cb190-3" title="3">                                         <span class="dt">all_connected =</span> <span class="ot">TRUE</span>) </a>
<a class="sourceLine" id="cb190-4" title="4">base<span class="op">::</span><span class="kw">as.data.frame</span>(dm) <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb190-5" title="5"><span class="st">  </span>ggplot2<span class="op">::</span><span class="kw">ggplot</span>() <span class="op">+</span></a>
<a class="sourceLine" id="cb190-6" title="6"><span class="st">  </span>ggplot2<span class="op">::</span><span class="kw">aes</span>(<span class="dt">x =</span> consequent,</a>
<a class="sourceLine" id="cb190-7" title="7">               <span class="dt">y =</span> antecedent,</a>
<a class="sourceLine" id="cb190-8" title="8">               <span class="dt">fill =</span> dep) <span class="op">+</span></a>
<a class="sourceLine" id="cb190-9" title="9"><span class="st">  </span>ggplot2<span class="op">::</span><span class="kw">geom_raster</span>()<span class="op">+</span><span class="st"> </span></a>
<a class="sourceLine" id="cb190-10" title="10"><span class="st">  </span>ggplot2<span class="op">::</span><span class="kw">geom_text</span>(<span class="kw">aes</span>(<span class="dt">label =</span> <span class="kw">round</span>(dep, <span class="dv">1</span>))) <span class="op">+</span></a>
<a class="sourceLine" id="cb190-11" title="11"><span class="st">  </span>ggplot2<span class="op">::</span><span class="kw">scale_fill_gradient</span>(<span class="dt">low =</span> <span class="st">&quot;white&quot;</span>, <span class="dt">high =</span> <span class="st">&quot;orange&quot;</span>) <span class="op">+</span></a>
<a class="sourceLine" id="cb190-12" title="12"><span class="st">  </span>ggplot2<span class="op">::</span><span class="kw">theme_minimal</span>() <span class="op">+</span></a>
<a class="sourceLine" id="cb190-13" title="13"><span class="st">  </span>ggplot2<span class="op">::</span><span class="kw">theme</span>(<span class="dt">axis.text.x =</span> <span class="kw">element_text</span>(<span class="dt">angle =</span> <span class="dv">60</span>, </a>
<a class="sourceLine" id="cb190-14" title="14">                                            <span class="dt">hjust =</span> <span class="dv">1</span>),</a>
<a class="sourceLine" id="cb190-15" title="15">                 <span class="dt">axis.title.y =</span> <span class="kw">element_text</span>(<span class="dt">angle =</span> <span class="dv">0</span>,</a>
<a class="sourceLine" id="cb190-16" title="16">                                             <span class="dt">vjust =</span> <span class="fl">0.5</span>),</a>
<a class="sourceLine" id="cb190-17" title="17">                 <span class="dt">legend.position =</span> <span class="st">&quot;none&quot;</span>)<span class="op">+</span></a>
<a class="sourceLine" id="cb190-18" title="18"><span class="st">  </span>ggplot2<span class="op">::</span><span class="kw">labs</span>(<span class="dt">x =</span> <span class="st">&quot;Consequent&quot;</span>,</a>
<a class="sourceLine" id="cb190-19" title="19">                <span class="dt">y =</span> <span class="st">&quot;Antecedent&quot;</span>)</a></code></pre></div>
<p><img src="bookdown-demo_files/figure-html/unnamed-chunk-88-1.png" width="672" /></p>
<ul>
<li>We can also render the simplified matrix of strong dependency relations above 0.9 into a diagram. This shows the dependency relation value on each arrow that is always above 0.9.</li>
</ul>
<div class="sourceCode" id="cb191"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb191-1" title="1">dm <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb191-2" title="2"><span class="st">  </span>heuristicsmineR<span class="op">::</span><span class="kw">render_dependency_matrix</span>()</a></code></pre></div>
<div id="htmlwidget-8aef68a20ae389b8ba90" style="width:672px;height:480px;" class="grViz html-widget"></div>
<script type="application/json" data-for="htmlwidget-8aef68a20ae389b8ba90">{"x":{"diagram":"digraph {\n\ngraph [layout = \"dot\",\n       outputorder = \"edgesfirst\",\n       bgcolor = \"white\",\n       rankdir = \"LR\"]\n\nnode [fontname = \"Helvetica\",\n      fontsize = \"10\",\n      shape = \"circle\",\n      fixedsize = \"true\",\n      width = \"0.5\",\n      style = \"filled\",\n      fillcolor = \"aliceblue\",\n      color = \"gray70\",\n      fontcolor = \"gray50\"]\n\nedge [fontname = \"Helvetica\",\n     fontsize = \"8\",\n     len = \"1.5\",\n     color = \"gray80\",\n     arrowsize = \"0.5\"]\n\n  \"1\" [label = \"BILLED\", shape = \"rectangle\", style = \"\", fontcolor = \"black\", color = \"black\", penwidth = \"1.5\", fixedsize = \"FALSE\", fillcolor = \"#F0F8FF\"] \n  \"2\" [label = \"CHANGE DIAGN\", shape = \"rectangle\", style = \"\", fontcolor = \"black\", color = \"black\", penwidth = \"1.5\", fixedsize = \"FALSE\", fillcolor = \"#F0F8FF\"] \n  \"3\" [label = \"CHANGE END\", shape = \"rectangle\", style = \"\", fontcolor = \"black\", color = \"black\", penwidth = \"1.5\", fixedsize = \"FALSE\", fillcolor = \"#F0F8FF\"] \n  \"4\" [label = \"CODE ERROR\", shape = \"rectangle\", style = \"\", fontcolor = \"black\", color = \"black\", penwidth = \"1.5\", fixedsize = \"FALSE\", fillcolor = \"#F0F8FF\"] \n  \"5\" [label = \"CODE NOK\", shape = \"rectangle\", style = \"\", fontcolor = \"black\", color = \"black\", penwidth = \"1.5\", fixedsize = \"FALSE\", fillcolor = \"#F0F8FF\"] \n  \"6\" [label = \"CODE OK\", shape = \"rectangle\", style = \"\", fontcolor = \"black\", color = \"black\", penwidth = \"1.5\", fixedsize = \"FALSE\", fillcolor = \"#F0F8FF\"] \n  \"7\" [label = \"DELETE\", shape = \"rectangle\", style = \"\", fontcolor = \"black\", color = \"black\", penwidth = \"1.5\", fixedsize = \"FALSE\", fillcolor = \"#F0F8FF\"] \n  \"8\" [label = \"End\", shape = \"circle\", style = \"\", fontcolor = \"brown4\", color = \"brown4\", penwidth = \"1.5\", fixedsize = \"FALSE\", fillcolor = \"#F0F8FF\"] \n  \"9\" [label = \"FIN\", shape = \"rectangle\", style = \"\", fontcolor = \"black\", color = \"black\", penwidth = \"1.5\", fixedsize = \"FALSE\", fillcolor = \"#F0F8FF\"] \n  \"10\" [label = \"JOIN-PAT\", shape = \"rectangle\", style = \"\", fontcolor = \"black\", color = \"black\", penwidth = \"1.5\", fixedsize = \"FALSE\", fillcolor = \"#F0F8FF\"] \n  \"11\" [label = \"MANUAL\", shape = \"rectangle\", style = \"\", fontcolor = \"black\", color = \"black\", penwidth = \"1.5\", fixedsize = \"FALSE\", fillcolor = \"#F0F8FF\"] \n  \"12\" [label = \"NEW\", shape = \"rectangle\", style = \"\", fontcolor = \"black\", color = \"black\", penwidth = \"1.5\", fixedsize = \"FALSE\", fillcolor = \"#F0F8FF\"] \n  \"13\" [label = \"REJECT\", shape = \"rectangle\", style = \"\", fontcolor = \"black\", color = \"black\", penwidth = \"1.5\", fixedsize = \"FALSE\", fillcolor = \"#F0F8FF\"] \n  \"14\" [label = \"RELEASE\", shape = \"rectangle\", style = \"\", fontcolor = \"black\", color = \"black\", penwidth = \"1.5\", fixedsize = \"FALSE\", fillcolor = \"#F0F8FF\"] \n  \"15\" [label = \"REOPEN\", shape = \"rectangle\", style = \"\", fontcolor = \"black\", color = \"black\", penwidth = \"1.5\", fixedsize = \"FALSE\", fillcolor = \"#F0F8FF\"] \n  \"16\" [label = \"SET STATUS\", shape = \"rectangle\", style = \"\", fontcolor = \"black\", color = \"black\", penwidth = \"1.5\", fixedsize = \"FALSE\", fillcolor = \"#F0F8FF\"] \n  \"17\" [label = \"Start\", shape = \"circle\", style = \"\", fontcolor = \"chartreuse4\", color = \"chartreuse4\", penwidth = \"1.5\", fixedsize = \"FALSE\", fillcolor = \"#F0F8FF\"] \n  \"18\" [label = \"STORNO\", shape = \"rectangle\", style = \"\", fontcolor = \"black\", color = \"black\", penwidth = \"1.5\", fixedsize = \"FALSE\", fillcolor = \"#F0F8FF\"] \n\"1\"->\"1\" [color = \"black\", label = \"0.94\"] \n\"6\"->\"1\" [color = \"black\", label = \"0.99\"] \n\"13\"->\"1\" [color = \"black\", label = \"0.99\"] \n\"14\"->\"1\" [color = \"black\", label = \"0.98\"] \n\"2\"->\"2\" [color = \"black\", label = \"1\"] \n\"12\"->\"2\" [color = \"black\", label = \"1\"] \n\"15\"->\"2\" [color = \"black\", label = \"0.97\"] \n\"2\"->\"3\" [color = \"black\", label = \"0.75\"] \n\"14\"->\"4\" [color = \"black\", label = \"0.5\"] \n\"5\"->\"5\" [color = \"black\", label = \"0.98\"] \n\"14\"->\"5\" [color = \"black\", label = \"0.98\"] \n\"5\"->\"6\" [color = \"black\", label = \"0.98\"] \n\"6\"->\"6\" [color = \"black\", label = \"0.93\"] \n\"14\"->\"6\" [color = \"black\", label = \"0.97\"] \n\"2\"->\"7\" [color = \"black\", label = \"0.99\"] \n\"3\"->\"7\" [color = \"black\", label = \"0.75\"] \n\"5\"->\"7\" [color = \"black\", label = \"0.95\"] \n\"6\"->\"7\" [color = \"black\", label = \"0.92\"] \n\"9\"->\"7\" [color = \"black\", label = \"0.97\"] \n\"12\"->\"7\" [color = \"black\", label = \"1\"] \n\"14\"->\"7\" [color = \"black\", label = \"0.92\"] \n\"15\"->\"7\" [color = \"black\", label = \"0.99\"] \n\"1\"->\"8\" [color = \"black\", label = \"1\"] \n\"6\"->\"8\" [color = \"black\", label = \"0.95\"] \n\"7\"->\"8\" [color = \"black\", label = \"1\"] \n\"9\"->\"8\" [color = \"black\", label = \"0.99\"] \n\"11\"->\"8\" [color = \"black\", label = \"0.86\"] \n\"12\"->\"8\" [color = \"black\", label = \"1\"] \n\"16\"->\"8\" [color = \"black\", label = \"0.99\"] \n\"2\"->\"9\" [color = \"black\", label = \"1\"] \n\"3\"->\"9\" [color = \"black\", label = \"0.75\"] \n\"9\"->\"9\" [color = \"black\", label = \"0.97\"] \n\"10\"->\"9\" [color = \"black\", label = \"0.89\"] \n\"12\"->\"9\" [color = \"black\", label = \"1\"] \n\"2\"->\"10\" [color = \"black\", label = \"0.89\"] \n\"6\"->\"11\" [color = \"black\", label = \"0.65\"] \n\"12\"->\"12\" [color = \"black\", label = \"1\"] \n\"17\"->\"12\" [color = \"black\", label = \"1\"] \n\"18\"->\"13\" [color = \"black\", label = \"1\"] \n\"9\"->\"14\" [color = \"black\", label = \"1\"] \n\"14\"->\"14\" [color = \"black\", label = \"0.93\"] \n\"4\"->\"15\" [color = \"black\", label = \"0.67\"] \n\"5\"->\"15\" [color = \"black\", label = \"0.9\"] \n\"6\"->\"15\" [color = \"black\", label = \"1\"] \n\"13\"->\"15\" [color = \"black\", label = \"0.99\"] \n\"14\"->\"15\" [color = \"black\", label = \"0.98\"] \n\"5\"->\"16\" [color = \"black\", label = \"0.94\"] \n\"1\"->\"18\" [color = \"black\", label = \"0.3\"] \n}","config":{"engine":"dot","options":null}},"evals":[],"jsHooks":[]}</script>
<ul>
<li>A causal net uses the dependency graph above but annotated to show the number of cases that pass through each activity when the dependency relation is set at 0.9.</li>
</ul>
<div class="sourceCode" id="cb192"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb192-1" title="1">cn &lt;-<span class="st"> </span>heuristicsmineR<span class="op">::</span><span class="kw">causal_net</span>(eventdataR<span class="op">::</span>hospital_billing,</a>
<a class="sourceLine" id="cb192-2" title="2">                                  <span class="dt">dependencies =</span> dm)</a>
<a class="sourceLine" id="cb192-3" title="3">  </a>
<a class="sourceLine" id="cb192-4" title="4">cn <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb192-5" title="5"><span class="st">  </span>heuristicsmineR<span class="op">::</span><span class="kw">render_causal_net</span>()</a></code></pre></div>
<div id="htmlwidget-5af3bb76803c0bfedb96" style="width:672px;height:480px;" class="grViz html-widget"></div>
<script type="application/json" data-for="htmlwidget-5af3bb76803c0bfedb96">{"x":{"diagram":"digraph {\n\ngraph [layout = \"dot\",\n       outputorder = \"edgesfirst\",\n       bgcolor = \"white\",\n       rankdir = \"LR\"]\n\nnode [fontname = \"Helvetica\",\n      fontsize = \"10\",\n      shape = \"circle\",\n      fixedsize = \"true\",\n      width = \"0.5\",\n      style = \"filled\",\n      fillcolor = \"aliceblue\",\n      color = \"gray70\",\n      fontcolor = \"gray50\"]\n\nedge [fontname = \"Helvetica\",\n     fontsize = \"8\",\n     len = \"1.5\",\n     color = \"gray80\",\n     arrowsize = \"0.5\"]\n\n  \"1\" [label = \"BILLED\n7421\", shape = \"rectangle\", style = \"filled\", fontcolor = \"white\", color = \"black\", tooltip = \"Input: 16x [BILLED], 1x [BILLED,CODE OK], 258x [BILLED,CODE OK,RELEASE], 6957x [CODE OK], 8x [CODE OK,REJECT], 1x [CODE OK,RELEASE], 134x [REJECT], 45x [RELEASE]\nOutput: 16x [BILLED], 1x [BILLED,End], 258x [BILLED,STORNO], 6920x [End], 226x [STORNO]\", penwidth = \"1.5\", fixedsize = \"FALSE\", fontname = \"Arial\", fontsize = \"10\", fillcolor = \"#3690C0\"] \n  \"2\" [label = \"CHANGE DIAGN\n5104\", shape = \"rectangle\", style = \"filled\", fontcolor = \"black\", color = \"black\", tooltip = \"Input: 328x [CHANGE DIAGN], 4748x [NEW], 28x [REOPEN]\nOutput: 328x [CHANGE DIAGN], 3x [CHANGE END], 138x [DELETE], 1x [DELETE,JOIN-PAT], 4618x [FIN], 2x [FIN,JOIN-PAT], 8x [JOIN-PAT]\", penwidth = \"1.5\", fixedsize = \"FALSE\", fontname = \"Arial\", fontsize = \"10\", fillcolor = \"#A6BDDB\"] \n  \"3\" [label = \"CHANGE END\n6\", shape = \"rectangle\", style = \"filled\", fontcolor = \"black\", color = \"black\", tooltip = \"Input: 6x [CHANGE DIAGN]\nOutput: 3x [DELETE], 3x [FIN]\", penwidth = \"1.5\", fixedsize = \"FALSE\", fontname = \"Arial\", fontsize = \"10\", fillcolor = \"#FFF7FB\"] \n  \"4\" [label = \"CODE ERROR\n4\", shape = \"rectangle\", style = \"filled\", fontcolor = \"black\", color = \"black\", tooltip = \"Input: 4x [RELEASE]\nOutput: 4x [REOPEN]\", penwidth = \"1.5\", fixedsize = \"FALSE\", fontname = \"Arial\", fontsize = \"10\", fillcolor = \"#FFF7FB\"] \n  \"5\" [label = \"CODE NOK\n191\", shape = \"rectangle\", style = \"filled\", fontcolor = \"black\", color = \"black\", tooltip = \"Input: 47x [CODE NOK], 3x [CODE NOK,RELEASE], 141x [RELEASE]\nOutput: 47x [CODE NOK], 1x [CODE NOK,CODE OK], 1x [CODE NOK,REOPEN], 1x [CODE NOK,SET STATUS], 46x [CODE OK], 21x [DELETE], 1x [DELETE,SET STATUS], 27x [REOPEN], 45x [SET STATUS]\", penwidth = \"1.5\", fixedsize = \"FALSE\", fontname = \"Arial\", fontsize = \"10\", fillcolor = \"#FFF7FB\"] \n  \"6\" [label = \"CODE OK\n7658\", shape = \"rectangle\", style = \"filled\", fontcolor = \"white\", color = \"black\", tooltip = \"Input: 46x [CODE NOK], 6x [CODE NOK,CODE OK,RELEASE], 14x [CODE OK], 128x [CODE OK,RELEASE], 7462x [RELEASE]\nOutput: 6940x [BILLED], 21x [BILLED,CODE OK], 1x [BILLED,CODE OK,DELETE,End,MANUAL,REOPEN], 90x [BILLED,CODE OK,End], 2x [BILLED,CODE OK,End,MANUAL], 6x [BILLED,CODE OK,End,MANUAL,REOPEN], 5x [BILLED,CODE OK,End,REOPEN], 4x [BILLED,CODE OK,MANUAL], 1x [BILLED,End], 1x [BILLED,MANUAL], 14x [CODE OK], 1x [CODE OK,DELETE,End], 2x [CODE OK,DELETE,End,MANUAL,REOPEN], 1x [CODE OK,DELETE,End,REOPEN], 2x [CODE OK,MANUAL], 11x [DELETE], 23x [End], 33x [MANUAL], 500x [REOPEN]\", penwidth = \"1.5\", fixedsize = \"FALSE\", fontname = \"Arial\", fontsize = \"10\", fillcolor = \"#3690C0\"] \n  \"7\" [label = \"DELETE\n985\", shape = \"rectangle\", style = \"filled\", fontcolor = \"black\", color = \"black\", tooltip = \"Input: 139x [CHANGE DIAGN], 1x [CHANGE DIAGN,CODE NOK,FIN,NEW,RELEASE], 1x [CHANGE DIAGN,CODE OK,FIN,NEW,RELEASE,REOPEN], 1x [CHANGE END], 1x [CHANGE END,FIN], 1x [CHANGE END,NEW], 20x [CODE NOK], 1x [CODE NOK,REOPEN], 11x [CODE OK], 32x [FIN], 7x [FIN,REOPEN], 594x [NEW], 15x [RELEASE], 161x [REOPEN]\nOutput: 985x [End]\", penwidth = \"1.5\", fixedsize = \"FALSE\", fontname = \"Arial\", fontsize = \"10\", fillcolor = \"#ECE7F2\"] \n  \"8\" [label = \"End\", shape = \"circle\", style = \"filled\", fontcolor = \"brown4\", color = \"brown4\", tooltip = \"Input: 6869x [BILLED], 17x [BILLED,CODE OK], 1x [BILLED,CODE OK,MANUAL], 31x [BILLED,MANUAL], 1x [BILLED,NEW], 1x [BILLED,SET STATUS], 5x [CODE OK,SET STATUS], 970x [DELETE], 9x [DELETE,MANUAL], 1x [DELETE,MANUAL,SET STATUS], 2x [DELETE,SET STATUS], 170x [FIN], 7x [FIN,NEW], 1x [FIN,SET STATUS], 1841x [NEW], 1x [NEW,SET STATUS], 72x [SET STATUS]\nOutput: []\", penwidth = \"1.5\", fixedsize = \"FALSE\", fontname = \"Arial\", fontsize = \"10\", fillcolor = \"#FFFFFF\"] \n  \"9\" [label = \"FIN\n7992\", shape = \"rectangle\", style = \"filled\", fontcolor = \"white\", color = \"black\", tooltip = \"Input: 4619x [CHANGE DIAGN], 1x [CHANGE DIAGN,FIN], 1x [CHANGE DIAGN,FIN,JOIN-PAT,NEW], 352x [CHANGE DIAGN,FIN,NEW], 2x [CHANGE END], 1x [CHANGE END,NEW], 77x [FIN], 116x [FIN,NEW], 8x [JOIN-PAT], 2815x [NEW]\nOutput: 33x [DELETE], 7x [DELETE,End], 171x [End], 1x [End,FIN,RELEASE], 7x [End,RELEASE], 77x [FIN], 469x [FIN,RELEASE], 7227x [RELEASE]\", penwidth = \"1.5\", fixedsize = \"FALSE\", fontname = \"Arial\", fontsize = \"10\", fillcolor = \"#3690C0\"] \n  \"10\" [label = \"JOIN-PAT\n65\", shape = \"rectangle\", style = \"filled\", fontcolor = \"black\", color = \"black\", tooltip = \"Input: 65x [CHANGE DIAGN]\nOutput: 65x [FIN]\", penwidth = \"1.5\", fixedsize = \"FALSE\", fontname = \"Arial\", fontsize = \"10\", fillcolor = \"#FFF7FB\"] \n  \"11\" [label = \"MANUAL\n57\", shape = \"rectangle\", style = \"filled\", fontcolor = \"black\", color = \"black\", tooltip = \"Input: 57x [CODE OK]\nOutput: 57x [End]\", penwidth = \"1.5\", fixedsize = \"FALSE\", fontname = \"Arial\", fontsize = \"10\", fillcolor = \"#FFF7FB\"] \n  \"12\" [label = \"NEW\n11106\", shape = \"rectangle\", style = \"filled\", fontcolor = \"white\", color = \"black\", tooltip = \"Input: 1106x [NEW], 9999x [Start]\nOutput: 4747x [CHANGE DIAGN], 1x [CHANGE DIAGN,End], 592x [DELETE], 1x [DELETE,End], 1842x [End], 1x [End,FIN], 2815x [FIN], 1106x [NEW]\", penwidth = \"1.5\", fixedsize = \"FALSE\", fontname = \"Arial\", fontsize = \"10\", fillcolor = \"#034E7B\"] \n  \"13\" [label = \"REJECT\n223\", shape = \"rectangle\", style = \"filled\", fontcolor = \"black\", color = \"black\", tooltip = \"Input: 223x [STORNO]\nOutput: 145x [BILLED], 72x [REOPEN]\", penwidth = \"1.5\", fixedsize = \"FALSE\", fontname = \"Arial\", fontsize = \"10\", fillcolor = \"#FFF7FB\"] \n  \"14\" [label = \"RELEASE\n7861\", shape = \"rectangle\", style = \"filled\", fontcolor = \"white\", color = \"black\", tooltip = \"Input: 7699x [FIN], 149x [FIN,RELEASE], 13x [RELEASE]\nOutput: 46x [BILLED], 3x [BILLED,RELEASE], 2x [CODE ERROR], 2x [CODE ERROR,RELEASE], 141x [CODE NOK], 1x [CODE NOK,RELEASE], 7427x [CODE OK], 142x [CODE OK,RELEASE], 15x [DELETE], 1x [DELETE,RELEASE], 13x [RELEASE], 52x [REOPEN]\", penwidth = \"1.5\", fixedsize = \"FALSE\", fontname = \"Arial\", fontsize = \"10\", fillcolor = \"#3690C0\"] \n  \"15\" [label = \"REOPEN\n703\", shape = \"rectangle\", style = \"filled\", fontcolor = \"black\", color = \"black\", tooltip = \"Input: 2x [CODE ERROR], 28x [CODE NOK], 500x [CODE OK], 10x [CODE OK,RELEASE], 72x [REJECT], 52x [RELEASE]\nOutput: 28x [CHANGE DIAGN], 186x [DELETE]\", penwidth = \"1.5\", fixedsize = \"FALSE\", fontname = \"Arial\", fontsize = \"10\", fillcolor = \"#ECE7F2\"] \n  \"16\" [label = \"SET STATUS\n85\", shape = \"rectangle\", style = \"filled\", fontcolor = \"black\", color = \"black\", tooltip = \"Input: 85x [CODE NOK]\nOutput: 85x [End]\", penwidth = \"1.5\", fixedsize = \"FALSE\", fontname = \"Arial\", fontsize = \"10\", fillcolor = \"#FFF7FB\"] \n  \"17\" [label = \"Start\", shape = \"circle\", style = \"filled\", fontcolor = \"chartreuse4\", color = \"chartreuse4\", tooltip = \"Input: []\nOutput: 9999x [NEW]\", penwidth = \"1.5\", fixedsize = \"FALSE\", fontname = \"Arial\", fontsize = \"10\", fillcolor = \"#FFFFFF\"] \n  \"18\" [label = \"STORNO\n490\", shape = \"rectangle\", style = \"filled\", fontcolor = \"black\", color = \"black\", tooltip = \"Input: 490x [BILLED]\nOutput: 490x [REJECT]\", penwidth = \"1.5\", fixedsize = \"FALSE\", fontname = \"Arial\", fontsize = \"10\", fillcolor = \"#FFF7FB\"] \n\"1\"->\"1\" [label = \"275\", penwidth = \"1.11001100110011\", color = \"dodgerblue4\", fontname = \"Arial\", fontsize = \"10\"] \n\"6\"->\"1\" [label = \"7071\", penwidth = \"3.82868286828683\", color = \"dodgerblue4\", fontname = \"Arial\", fontsize = \"10\"] \n\"13\"->\"1\" [label = \"145\", penwidth = \"1.05800580058006\", color = \"dodgerblue4\", fontname = \"Arial\", fontsize = \"10\"] \n\"14\"->\"1\" [label = \"49\", penwidth = \"1.01960196019602\", color = \"dodgerblue4\", fontname = \"Arial\", fontsize = \"10\"] \n\"2\"->\"2\" [label = \"328\", penwidth = \"1.13121312131213\", color = \"dodgerblue4\", fontname = \"Arial\", fontsize = \"10\"] \n\"12\"->\"2\" [label = \"4748\", penwidth = \"2.8993899389939\", color = \"dodgerblue4\", fontname = \"Arial\", fontsize = \"10\"] \n\"15\"->\"2\" [label = \"28\", penwidth = \"1.01120112011201\", color = \"dodgerblue4\", fontname = \"Arial\", fontsize = \"10\"] \n\"2\"->\"3\" [label = \"3\", penwidth = \"1.001200120012\", color = \"dodgerblue4\", fontname = \"Arial\", fontsize = \"10\"] \n\"14\"->\"4\" [label = \"4\", penwidth = \"1.001600160016\", color = \"dodgerblue4\", fontname = \"Arial\", fontsize = \"10\"] \n\"5\"->\"5\" [label = \"50\", penwidth = \"1.02000200020002\", color = \"dodgerblue4\", fontname = \"Arial\", fontsize = \"10\"] \n\"14\"->\"5\" [label = \"142\", penwidth = \"1.05680568056806\", color = \"dodgerblue4\", fontname = \"Arial\", fontsize = \"10\"] \n\"5\"->\"6\" [label = \"47\", penwidth = \"1.01880188018802\", color = \"dodgerblue4\", fontname = \"Arial\", fontsize = \"10\"] \n\"6\"->\"6\" [label = \"149\", penwidth = \"1.05960596059606\", color = \"dodgerblue4\", fontname = \"Arial\", fontsize = \"10\"] \n\"14\"->\"6\" [label = \"7569\", penwidth = \"4.02790279027903\", color = \"dodgerblue4\", fontname = \"Arial\", fontsize = \"10\"] \n\"2\"->\"7\" [label = \"139\", penwidth = \"1.05560556055606\", color = \"dodgerblue4\", fontname = \"Arial\", fontsize = \"10\"] \n\"3\"->\"7\" [label = \"3\", penwidth = \"1.001200120012\", color = \"dodgerblue4\", fontname = \"Arial\", fontsize = \"10\"] \n\"5\"->\"7\" [label = \"22\", penwidth = \"1.00880088008801\", color = \"dodgerblue4\", fontname = \"Arial\", fontsize = \"10\"] \n\"6\"->\"7\" [label = \"16\", penwidth = \"1.00640064006401\", color = \"dodgerblue4\", fontname = \"Arial\", fontsize = \"10\"] \n\"9\"->\"7\" [label = \"40\", penwidth = \"1.01600160016002\", color = \"dodgerblue4\", fontname = \"Arial\", fontsize = \"10\"] \n\"12\"->\"7\" [label = \"593\", penwidth = \"1.23722372237224\", color = \"dodgerblue4\", fontname = \"Arial\", fontsize = \"10\"] \n\"14\"->\"7\" [label = \"16\", penwidth = \"1.00640064006401\", color = \"dodgerblue4\", fontname = \"Arial\", fontsize = \"10\"] \n\"15\"->\"7\" [label = \"186\", penwidth = \"1.07440744074407\", color = \"dodgerblue4\", fontname = \"Arial\", fontsize = \"10\"] \n\"1\"->\"8\" [label = \"6921\", penwidth = \"3.76867686768677\", color = \"dodgerblue4\", fontname = \"Arial\", fontsize = \"10\"] \n\"6\"->\"8\" [label = \"132\", penwidth = \"1.05280528052805\", color = \"dodgerblue4\", fontname = \"Arial\", fontsize = \"10\"] \n\"7\"->\"8\" [label = \"985\", penwidth = \"1.39403940394039\", color = \"dodgerblue4\", fontname = \"Arial\", fontsize = \"10\"] \n\"9\"->\"8\" [label = \"186\", penwidth = \"1.07440744074407\", color = \"dodgerblue4\", fontname = \"Arial\", fontsize = \"10\"] \n\"11\"->\"8\" [label = \"57\", penwidth = \"1.02280228022802\", color = \"dodgerblue4\", fontname = \"Arial\", fontsize = \"10\"] \n\"12\"->\"8\" [label = \"1845\", penwidth = \"1.73807380738074\", color = \"dodgerblue4\", fontname = \"Arial\", fontsize = \"10\"] \n\"16\"->\"8\" [label = \"85\", penwidth = \"1.03400340034003\", color = \"dodgerblue4\", fontname = \"Arial\", fontsize = \"10\"] \n\"2\"->\"9\" [label = \"4620\", penwidth = \"2.84818481848185\", color = \"dodgerblue4\", fontname = \"Arial\", fontsize = \"10\"] \n\"3\"->\"9\" [label = \"3\", penwidth = \"1.001200120012\", color = \"dodgerblue4\", fontname = \"Arial\", fontsize = \"10\"] \n\"9\"->\"9\" [label = \"547\", penwidth = \"1.21882188218822\", color = \"dodgerblue4\", fontname = \"Arial\", fontsize = \"10\"] \n\"10\"->\"9\" [label = \"65\", penwidth = \"1.02600260026003\", color = \"dodgerblue4\", fontname = \"Arial\", fontsize = \"10\"] \n\"12\"->\"9\" [label = \"2816\", penwidth = \"2.12651265126513\", color = \"dodgerblue4\", fontname = \"Arial\", fontsize = \"10\"] \n\"2\"->\"10\" [label = \"11\", penwidth = \"1.004400440044\", color = \"dodgerblue4\", fontname = \"Arial\", fontsize = \"10\"] \n\"6\"->\"11\" [label = \"51\", penwidth = \"1.02040204020402\", color = \"dodgerblue4\", fontname = \"Arial\", fontsize = \"10\"] \n\"12\"->\"12\" [label = \"1106\", penwidth = \"1.44244424442444\", color = \"dodgerblue4\", fontname = \"Arial\", fontsize = \"10\"] \n\"17\"->\"12\" [label = \"9999\", penwidth = \"5\", color = \"dodgerblue4\", fontname = \"Arial\", fontsize = \"10\"] \n\"18\"->\"13\" [label = \"490\", penwidth = \"1.1960196019602\", color = \"dodgerblue4\", fontname = \"Arial\", fontsize = \"10\"] \n\"9\"->\"14\" [label = \"7704\", penwidth = \"4.08190819081908\", color = \"dodgerblue4\", fontname = \"Arial\", fontsize = \"10\"] \n\"14\"->\"14\" [label = \"162\", penwidth = \"1.06480648064806\", color = \"dodgerblue4\", fontname = \"Arial\", fontsize = \"10\"] \n\"4\"->\"15\" [label = \"4\", penwidth = \"1.001600160016\", color = \"dodgerblue4\", fontname = \"Arial\", fontsize = \"10\"] \n\"5\"->\"15\" [label = \"28\", penwidth = \"1.01120112011201\", color = \"dodgerblue4\", fontname = \"Arial\", fontsize = \"10\"] \n\"6\"->\"15\" [label = \"515\", penwidth = \"1.20602060206021\", color = \"dodgerblue4\", fontname = \"Arial\", fontsize = \"10\"] \n\"13\"->\"15\" [label = \"72\", penwidth = \"1.02880288028803\", color = \"dodgerblue4\", fontname = \"Arial\", fontsize = \"10\"] \n\"14\"->\"15\" [label = \"52\", penwidth = \"1.02080208020802\", color = \"dodgerblue4\", fontname = \"Arial\", fontsize = \"10\"] \n\"5\"->\"16\" [label = \"47\", penwidth = \"1.01880188018802\", color = \"dodgerblue4\", fontname = \"Arial\", fontsize = \"10\"] \n\"1\"->\"18\" [label = \"484\", penwidth = \"1.19361936193619\", color = \"dodgerblue4\", fontname = \"Arial\", fontsize = \"10\"] \n}","config":{"engine":"dot","options":null}},"evals":[],"jsHooks":[]}</script>
<ul>
<li>So if we created a dependency matrix with a much lower threshold the causal net would have more paths and be more complex.</li>
</ul>
<div class="sourceCode" id="cb193"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb193-1" title="1">dm &lt;-<span class="st"> </span>heuristicsmineR<span class="op">::</span><span class="kw">dependency_matrix</span>(<span class="dt">eventlog =</span> eventdataR<span class="op">::</span>hospital_billing, </a>
<a class="sourceLine" id="cb193-2" title="2">                                         <span class="dt">threshold =</span> <span class="fl">0.1</span>,</a>
<a class="sourceLine" id="cb193-3" title="3">                                         <span class="dt">all_connected =</span> <span class="ot">TRUE</span>) </a>
<a class="sourceLine" id="cb193-4" title="4"></a>
<a class="sourceLine" id="cb193-5" title="5">heuristicsmineR<span class="op">::</span><span class="kw">causal_net</span>(eventdataR<span class="op">::</span>hospital_billing,</a>
<a class="sourceLine" id="cb193-6" title="6">                            <span class="dt">dependencies =</span> dm) <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb193-7" title="7"><span class="st">  </span>heuristicsmineR<span class="op">::</span><span class="kw">render_causal_net</span>()</a></code></pre></div>
<div id="htmlwidget-9baba7fffe26676dfa3c" style="width:672px;height:480px;" class="grViz html-widget"></div>
<script type="application/json" data-for="htmlwidget-9baba7fffe26676dfa3c">{"x":{"diagram":"digraph {\n\ngraph [layout = \"dot\",\n       outputorder = \"edgesfirst\",\n       bgcolor = \"white\",\n       rankdir = \"LR\"]\n\nnode [fontname = \"Helvetica\",\n      fontsize = \"10\",\n      shape = \"circle\",\n      fixedsize = \"true\",\n      width = \"0.5\",\n      style = \"filled\",\n      fillcolor = \"aliceblue\",\n      color = \"gray70\",\n      fontcolor = \"gray50\"]\n\nedge [fontname = \"Helvetica\",\n     fontsize = \"8\",\n     len = \"1.5\",\n     color = \"gray80\",\n     arrowsize = \"0.5\"]\n\n  \"1\" [label = \"BILLED\n7421\", shape = \"rectangle\", style = \"filled\", fontcolor = \"white\", color = \"black\", tooltip = \"Input: 16x [BILLED], 3x [BILLED,CODE OK,JOIN-PAT,NEW,RELEASE], 255x [BILLED,CODE OK,NEW,RELEASE], 6965x [CODE OK], 2x [JOIN-PAT], 1x [NEW], 133x [REJECT], 46x [RELEASE]\nOutput: 16x [BILLED], 258x [BILLED,STORNO], 6914x [End], 2x [End,MANUAL], 5x [MANUAL], 226x [STORNO]\", penwidth = \"1.5\", fixedsize = \"FALSE\", fontname = \"Arial\", fontsize = \"10\", fillcolor = \"#3690C0\"] \n  \"2\" [label = \"CHANGE DIAGN\n5104\", shape = \"rectangle\", style = \"filled\", fontcolor = \"black\", color = \"black\", tooltip = \"Input: 328x [CHANGE DIAGN], 4748x [NEW], 28x [REOPEN]\nOutput: 328x [CHANGE DIAGN], 3x [CHANGE END], 2x [CODE OK], 138x [DELETE], 1x [DELETE,JOIN-PAT], 1x [End], 4618x [FIN], 8x [JOIN-PAT], 5x [SET STATUS]\", penwidth = \"1.5\", fixedsize = \"FALSE\", fontname = \"Arial\", fontsize = \"10\", fillcolor = \"#A6BDDB\"] \n  \"3\" [label = \"CHANGE END\n6\", shape = \"rectangle\", style = \"filled\", fontcolor = \"black\", color = \"black\", tooltip = \"Input: 3x [CHANGE DIAGN], 2x [NEW], 1x [SET STATUS]\nOutput: 3x [DELETE], 3x [FIN]\", penwidth = \"1.5\", fixedsize = \"FALSE\", fontname = \"Arial\", fontsize = \"10\", fillcolor = \"#FFF7FB\"] \n  \"4\" [label = \"CODE ERROR\n4\", shape = \"rectangle\", style = \"filled\", fontcolor = \"black\", color = \"black\", tooltip = \"Input: 4x [RELEASE]\nOutput: 1x [MANUAL], 1x [MANUAL,REOPEN], 2x [REOPEN]\", penwidth = \"1.5\", fixedsize = \"FALSE\", fontname = \"Arial\", fontsize = \"10\", fillcolor = \"#FFF7FB\"] \n  \"5\" [label = \"CODE NOK\n191\", shape = \"rectangle\", style = \"filled\", fontcolor = \"black\", color = \"black\", tooltip = \"Input: 47x [CODE NOK], 3x [CODE NOK,RELEASE], 141x [RELEASE]\nOutput: 47x [CODE NOK], 1x [CODE NOK,CODE OK,End], 1x [CODE NOK,REOPEN], 1x [CODE NOK,SET STATUS], 46x [CODE OK], 21x [DELETE], 1x [End], 27x [REOPEN], 46x [SET STATUS]\", penwidth = \"1.5\", fixedsize = \"FALSE\", fontname = \"Arial\", fontsize = \"10\", fillcolor = \"#FFF7FB\"] \n  \"6\" [label = \"CODE OK\n7658\", shape = \"rectangle\", style = \"filled\", fontcolor = \"white\", color = \"black\", tooltip = \"Input: 2x [CHANGE DIAGN], 4x [CHANGE DIAGN,CODE NOK,CODE OK,NEW,RELEASE], 9x [CHANGE DIAGN,CODE OK,NEW,RELEASE], 46x [CODE NOK], 2x [CODE NOK,CODE OK,NEW,RELEASE], 14x [CODE OK], 11x [CODE OK,NEW,RELEASE], 105x [CODE OK,RELEASE], 1x [NEW], 7464x [RELEASE]\nOutput: 6941x [BILLED], 24x [BILLED,CODE OK], 1x [BILLED,CODE OK,DELETE,End,FIN,MANUAL,REOPEN], 88x [BILLED,CODE OK,End], 6x [BILLED,CODE OK,End,FIN,MANUAL,REOPEN], 4x [BILLED,CODE OK,End,FIN,REOPEN], 2x [BILLED,CODE OK,End,MANUAL], 1x [BILLED,CODE OK,End,SET STATUS], 14x [CODE OK], 1x [CODE OK,DELETE,End], 1x [CODE OK,DELETE,End,FIN,MANUAL,REOPEN], 1x [CODE OK,DELETE,End,MANUAL,REOPEN], 1x [CODE OK,DELETE,End,REOPEN], 2x [CODE OK,MANUAL], 11x [DELETE], 18x [End], 3x [FIN], 1x [JOIN-PAT], 33x [MANUAL], 500x [REOPEN], 5x [SET STATUS]\", penwidth = \"1.5\", fixedsize = \"FALSE\", fontname = \"Arial\", fontsize = \"10\", fillcolor = \"#3690C0\"] \n  \"7\" [label = \"DELETE\n985\", shape = \"rectangle\", style = \"filled\", fontcolor = \"black\", color = \"black\", tooltip = \"Input: 139x [CHANGE DIAGN], 3x [CHANGE END], 20x [CODE NOK], 1x [CODE NOK,REOPEN], 11x [CODE OK], 3x [DELETE], 33x [FIN], 6x [FIN,REOPEN], 2x [MANUAL,RELEASE], 592x [NEW], 12x [RELEASE], 161x [REOPEN], 2x [SET STATUS]\nOutput: 3x [DELETE], 982x [End]\", penwidth = \"1.5\", fixedsize = \"FALSE\", fontname = \"Arial\", fontsize = \"10\", fillcolor = \"#ECE7F2\"] \n  \"8\" [label = \"End\", shape = \"circle\", style = \"filled\", fontcolor = \"brown4\", color = \"brown4\", tooltip = \"Input: 6891x [BILLED], 18x [BILLED,CODE OK], 4x [BILLED,MANUAL], 1x [BILLED,SET STATUS], 1x [CHANGE DIAGN], 1x [CODE NOK], 978x [DELETE], 4x [DELETE,JOIN-PAT], 170x [FIN], 4x [JOIN-PAT], 6x [MANUAL], 1836x [NEW], 6x [RELEASE], 79x [SET STATUS]\nOutput: []\", penwidth = \"1.5\", fixedsize = \"FALSE\", fontname = \"Arial\", fontsize = \"10\", fillcolor = \"#FFFFFF\"] \n  \"9\" [label = \"FIN\n7992\", shape = \"rectangle\", style = \"filled\", fontcolor = \"white\", color = \"black\", tooltip = \"Input: 4617x [CHANGE DIAGN], 1x [CHANGE DIAGN,FIN], 3x [CHANGE END], 3x [CODE OK], 37x [FIN], 4x [FIN,NEW], 40x [FIN,REOPEN], 8x [JOIN-PAT], 2814x [NEW], 465x [REOPEN]\nOutput: 33x [DELETE], 6x [DELETE,End], 1x [DELETE,End,FIN], 1x [DELETE,End,FIN,RELEASE], 170x [End], 39x [End,FIN,RELEASE], 37x [FIN], 4x [FIN,RELEASE], 7698x [RELEASE], 1x [RELEASE,SET STATUS], 2x [SET STATUS]\", penwidth = \"1.5\", fixedsize = \"FALSE\", fontname = \"Arial\", fontsize = \"10\", fillcolor = \"#3690C0\"] \n  \"10\" [label = \"JOIN-PAT\n65\", shape = \"rectangle\", style = \"filled\", fontcolor = \"black\", color = \"black\", tooltip = \"Input: 8x [CHANGE DIAGN], 1x [CHANGE DIAGN,NEW], 1x [CODE OK], 47x [JOIN-PAT], 7x [NEW], 1x [REJECT]\nOutput: 2x [BILLED], 8x [End], 8x [FIN], 47x [JOIN-PAT]\", penwidth = \"1.5\", fixedsize = \"FALSE\", fontname = \"Arial\", fontsize = \"10\", fillcolor = \"#FFF7FB\"] \n  \"11\" [label = \"MANUAL\n57\", shape = \"rectangle\", style = \"filled\", fontcolor = \"black\", color = \"black\", tooltip = \"Input: 5x [BILLED], 2x [BILLED,CODE OK], 1x [CODE ERROR], 27x [CODE OK], 6x [CODE OK,MANUAL], 9x [MANUAL]\nOutput: 2x [DELETE], 10x [End], 5x [End,MANUAL], 1x [End,MANUAL,RELEASE], 9x [MANUAL], 29x [RELEASE], 1x [SET STATUS]\", penwidth = \"1.5\", fixedsize = \"FALSE\", fontname = \"Arial\", fontsize = \"10\", fillcolor = \"#FFF7FB\"] \n  \"12\" [label = \"NEW\n11106\", shape = \"rectangle\", style = \"filled\", fontcolor = \"white\", color = \"black\", tooltip = \"Input: 1106x [NEW], 9999x [Start]\nOutput: 1x [BILLED], 4748x [CHANGE DIAGN], 2x [CHANGE END], 1x [CODE OK], 589x [DELETE], 3x [DELETE,JOIN-PAT], 1836x [End], 2814x [FIN], 4x [JOIN-PAT], 1106x [NEW], 1x [SET STATUS]\", penwidth = \"1.5\", fixedsize = \"FALSE\", fontname = \"Arial\", fontsize = \"10\", fillcolor = \"#034E7B\"] \n  \"13\" [label = \"REJECT\n223\", shape = \"rectangle\", style = \"filled\", fontcolor = \"black\", color = \"black\", tooltip = \"Input: 3x [REJECT], 220x [STORNO]\nOutput: 133x [BILLED], 1x [JOIN-PAT], 3x [REJECT], 8x [RELEASE], 72x [REOPEN], 6x [SET STATUS]\", penwidth = \"1.5\", fixedsize = \"FALSE\", fontname = \"Arial\", fontsize = \"10\", fillcolor = \"#FFF7FB\"] \n  \"14\" [label = \"RELEASE\n7861\", shape = \"rectangle\", style = \"filled\", fontcolor = \"white\", color = \"black\", tooltip = \"Input: 7698x [FIN], 3x [FIN,MANUAL,RELEASE], 110x [FIN,RELEASE], 29x [MANUAL], 8x [REJECT], 13x [RELEASE]\nOutput: 46x [BILLED], 3x [BILLED,End,RELEASE], 3x [CODE ERROR], 1x [CODE ERROR,RELEASE], 141x [CODE NOK], 1x [CODE NOK,RELEASE], 7463x [CODE OK], 106x [CODE OK,RELEASE], 12x [DELETE], 2x [DELETE,End], 1x [DELETE,End,RELEASE], 1x [DELETE,End,SET STATUS], 6x [End], 13x [RELEASE], 52x [REOPEN], 10x [SET STATUS]\", penwidth = \"1.5\", fixedsize = \"FALSE\", fontname = \"Arial\", fontsize = \"10\", fillcolor = \"#3690C0\"] \n  \"15\" [label = \"REOPEN\n703\", shape = \"rectangle\", style = \"filled\", fontcolor = \"black\", color = \"black\", tooltip = \"Input: 2x [CODE ERROR], 28x [CODE NOK], 500x [CODE OK], 1x [CODE OK,RELEASE], 7x [CODE OK,RELEASE,REOPEN], 72x [REJECT], 51x [RELEASE], 1x [RELEASE,REOPEN], 7x [REOPEN]\nOutput: 28x [CHANGE DIAGN], 168x [DELETE], 492x [FIN], 13x [FIN,REOPEN], 2x [REOPEN]\", penwidth = \"1.5\", fixedsize = \"FALSE\", fontname = \"Arial\", fontsize = \"10\", fillcolor = \"#ECE7F2\"] \n  \"16\" [label = \"SET STATUS\n85\", shape = \"rectangle\", style = \"filled\", fontcolor = \"black\", color = \"black\", tooltip = \"Input: 5x [CHANGE DIAGN], 47x [CODE NOK], 4x [CODE OK], 1x [CODE OK,SET STATUS], 3x [FIN], 1x [MANUAL,RELEASE], 1x [NEW], 6x [REJECT], 10x [RELEASE], 1x [SET STATUS], 6x [STORNO]\nOutput: 1x [CHANGE END], 2x [DELETE], 80x [End], 1x [End,SET STATUS], 1x [SET STATUS]\", penwidth = \"1.5\", fixedsize = \"FALSE\", fontname = \"Arial\", fontsize = \"10\", fillcolor = \"#FFF7FB\"] \n  \"17\" [label = \"Start\", shape = \"circle\", style = \"filled\", fontcolor = \"chartreuse4\", color = \"chartreuse4\", tooltip = \"Input: []\nOutput: 9999x [NEW]\", penwidth = \"1.5\", fixedsize = \"FALSE\", fontname = \"Arial\", fontsize = \"10\", fillcolor = \"#FFFFFF\"] \n  \"18\" [label = \"STORNO\n490\", shape = \"rectangle\", style = \"filled\", fontcolor = \"black\", color = \"black\", tooltip = \"Input: 354x [BILLED], 130x [BILLED,STORNO], 6x [STORNO]\nOutput: 220x [REJECT], 19x [REJECT,STORNO], 6x [SET STATUS], 2x [SET STATUS,STORNO], 115x [STORNO]\", penwidth = \"1.5\", fixedsize = \"FALSE\", fontname = \"Arial\", fontsize = \"10\", fillcolor = \"#FFF7FB\"] \n\"1\"->\"1\" [label = \"274\", penwidth = \"1.10961096109611\", color = \"dodgerblue4\", fontname = \"Arial\", fontsize = \"10\"] \n\"6\"->\"1\" [label = \"7067\", penwidth = \"3.82708270827083\", color = \"dodgerblue4\", fontname = \"Arial\", fontsize = \"10\"] \n\"10\"->\"1\" [label = \"2\", penwidth = \"1.000800080008\", color = \"dodgerblue4\", fontname = \"Arial\", fontsize = \"10\"] \n\"12\"->\"1\" [label = \"1\", penwidth = \"1.000400040004\", color = \"dodgerblue4\", fontname = \"Arial\", fontsize = \"10\"] \n\"13\"->\"1\" [label = \"133\", penwidth = \"1.05320532053205\", color = \"dodgerblue4\", fontname = \"Arial\", fontsize = \"10\"] \n\"14\"->\"1\" [label = \"49\", penwidth = \"1.01960196019602\", color = \"dodgerblue4\", fontname = \"Arial\", fontsize = \"10\"] \n\"2\"->\"2\" [label = \"328\", penwidth = \"1.13121312131213\", color = \"dodgerblue4\", fontname = \"Arial\", fontsize = \"10\"] \n\"12\"->\"2\" [label = \"4748\", penwidth = \"2.8993899389939\", color = \"dodgerblue4\", fontname = \"Arial\", fontsize = \"10\"] \n\"15\"->\"2\" [label = \"28\", penwidth = \"1.01120112011201\", color = \"dodgerblue4\", fontname = \"Arial\", fontsize = \"10\"] \n\"2\"->\"3\" [label = \"3\", penwidth = \"1.001200120012\", color = \"dodgerblue4\", fontname = \"Arial\", fontsize = \"10\"] \n\"12\"->\"3\" [label = \"2\", penwidth = \"1.000800080008\", color = \"dodgerblue4\", fontname = \"Arial\", fontsize = \"10\"] \n\"16\"->\"3\" [label = \"1\", penwidth = \"1.000400040004\", color = \"dodgerblue4\", fontname = \"Arial\", fontsize = \"10\"] \n\"14\"->\"4\" [label = \"4\", penwidth = \"1.001600160016\", color = \"dodgerblue4\", fontname = \"Arial\", fontsize = \"10\"] \n\"5\"->\"5\" [label = \"50\", penwidth = \"1.02000200020002\", color = \"dodgerblue4\", fontname = \"Arial\", fontsize = \"10\"] \n\"14\"->\"5\" [label = \"142\", penwidth = \"1.05680568056806\", color = \"dodgerblue4\", fontname = \"Arial\", fontsize = \"10\"] \n\"2\"->\"6\" [label = \"2\", penwidth = \"1.000800080008\", color = \"dodgerblue4\", fontname = \"Arial\", fontsize = \"10\"] \n\"5\"->\"6\" [label = \"47\", penwidth = \"1.01880188018802\", color = \"dodgerblue4\", fontname = \"Arial\", fontsize = \"10\"] \n\"6\"->\"6\" [label = \"146\", penwidth = \"1.05840584058406\", color = \"dodgerblue4\", fontname = \"Arial\", fontsize = \"10\"] \n\"12\"->\"6\" [label = \"1\", penwidth = \"1.000400040004\", color = \"dodgerblue4\", fontname = \"Arial\", fontsize = \"10\"] \n\"14\"->\"6\" [label = \"7569\", penwidth = \"4.02790279027903\", color = \"dodgerblue4\", fontname = \"Arial\", fontsize = \"10\"] \n\"2\"->\"7\" [label = \"139\", penwidth = \"1.05560556055606\", color = \"dodgerblue4\", fontname = \"Arial\", fontsize = \"10\"] \n\"3\"->\"7\" [label = \"3\", penwidth = \"1.001200120012\", color = \"dodgerblue4\", fontname = \"Arial\", fontsize = \"10\"] \n\"5\"->\"7\" [label = \"21\", penwidth = \"1.00840084008401\", color = \"dodgerblue4\", fontname = \"Arial\", fontsize = \"10\"] \n\"6\"->\"7\" [label = \"16\", penwidth = \"1.00640064006401\", color = \"dodgerblue4\", fontname = \"Arial\", fontsize = \"10\"] \n\"7\"->\"7\" [label = \"3\", penwidth = \"1.001200120012\", color = \"dodgerblue4\", fontname = \"Arial\", fontsize = \"10\"] \n\"9\"->\"7\" [label = \"41\", penwidth = \"1.01640164016402\", color = \"dodgerblue4\", fontname = \"Arial\", fontsize = \"10\"] \n\"11\"->\"7\" [label = \"2\", penwidth = \"1.000800080008\", color = \"dodgerblue4\", fontname = \"Arial\", fontsize = \"10\"] \n\"12\"->\"7\" [label = \"592\", penwidth = \"1.23682368236824\", color = \"dodgerblue4\", fontname = \"Arial\", fontsize = \"10\"] \n\"14\"->\"7\" [label = \"16\", penwidth = \"1.00640064006401\", color = \"dodgerblue4\", fontname = \"Arial\", fontsize = \"10\"] \n\"15\"->\"7\" [label = \"168\", penwidth = \"1.06720672067207\", color = \"dodgerblue4\", fontname = \"Arial\", fontsize = \"10\"] \n\"16\"->\"7\" [label = \"2\", penwidth = \"1.000800080008\", color = \"dodgerblue4\", fontname = \"Arial\", fontsize = \"10\"] \n\"1\"->\"8\" [label = \"6916\", penwidth = \"3.76667666766677\", color = \"dodgerblue4\", fontname = \"Arial\", fontsize = \"10\"] \n\"2\"->\"8\" [label = \"1\", penwidth = \"1.000400040004\", color = \"dodgerblue4\", fontname = \"Arial\", fontsize = \"10\"] \n\"5\"->\"8\" [label = \"2\", penwidth = \"1.000800080008\", color = \"dodgerblue4\", fontname = \"Arial\", fontsize = \"10\"] \n\"6\"->\"8\" [label = \"124\", penwidth = \"1.04960496049605\", color = \"dodgerblue4\", fontname = \"Arial\", fontsize = \"10\"] \n\"7\"->\"8\" [label = \"982\", penwidth = \"1.39283928392839\", color = \"dodgerblue4\", fontname = \"Arial\", fontsize = \"10\"] \n\"9\"->\"8\" [label = \"217\", penwidth = \"1.08680868086809\", color = \"dodgerblue4\", fontname = \"Arial\", fontsize = \"10\"] \n\"10\"->\"8\" [label = \"8\", penwidth = \"1.003200320032\", color = \"dodgerblue4\", fontname = \"Arial\", fontsize = \"10\"] \n\"11\"->\"8\" [label = \"16\", penwidth = \"1.00640064006401\", color = \"dodgerblue4\", fontname = \"Arial\", fontsize = \"10\"] \n\"12\"->\"8\" [label = \"1836\", penwidth = \"1.73447344734473\", color = \"dodgerblue4\", fontname = \"Arial\", fontsize = \"10\"] \n\"14\"->\"8\" [label = \"13\", penwidth = \"1.00520052005201\", color = \"dodgerblue4\", fontname = \"Arial\", fontsize = \"10\"] \n\"16\"->\"8\" [label = \"81\", penwidth = \"1.03240324032403\", color = \"dodgerblue4\", fontname = \"Arial\", fontsize = \"10\"] \n\"2\"->\"9\" [label = \"4618\", penwidth = \"2.84738473847385\", color = \"dodgerblue4\", fontname = \"Arial\", fontsize = \"10\"] \n\"3\"->\"9\" [label = \"3\", penwidth = \"1.001200120012\", color = \"dodgerblue4\", fontname = \"Arial\", fontsize = \"10\"] \n\"6\"->\"9\" [label = \"15\", penwidth = \"1.00600060006001\", color = \"dodgerblue4\", fontname = \"Arial\", fontsize = \"10\"] \n\"9\"->\"9\" [label = \"82\", penwidth = \"1.03280328032803\", color = \"dodgerblue4\", fontname = \"Arial\", fontsize = \"10\"] \n\"10\"->\"9\" [label = \"8\", penwidth = \"1.003200320032\", color = \"dodgerblue4\", fontname = \"Arial\", fontsize = \"10\"] \n\"12\"->\"9\" [label = \"2814\", penwidth = \"2.12571257125713\", color = \"dodgerblue4\", fontname = \"Arial\", fontsize = \"10\"] \n\"15\"->\"9\" [label = \"505\", penwidth = \"1.2020202020202\", color = \"dodgerblue4\", fontname = \"Arial\", fontsize = \"10\"] \n\"2\"->\"10\" [label = \"9\", penwidth = \"1.003600360036\", color = \"dodgerblue4\", fontname = \"Arial\", fontsize = \"10\"] \n\"6\"->\"10\" [label = \"1\", penwidth = \"1.000400040004\", color = \"dodgerblue4\", fontname = \"Arial\", fontsize = \"10\"] \n\"10\"->\"10\" [label = \"47\", penwidth = \"1.01880188018802\", color = \"dodgerblue4\", fontname = \"Arial\", fontsize = \"10\"] \n\"12\"->\"10\" [label = \"7\", penwidth = \"1.002800280028\", color = \"dodgerblue4\", fontname = \"Arial\", fontsize = \"10\"] \n\"13\"->\"10\" [label = \"1\", penwidth = \"1.000400040004\", color = \"dodgerblue4\", fontname = \"Arial\", fontsize = \"10\"] \n\"1\"->\"11\" [label = \"7\", penwidth = \"1.002800280028\", color = \"dodgerblue4\", fontname = \"Arial\", fontsize = \"10\"] \n\"4\"->\"11\" [label = \"2\", penwidth = \"1.000800080008\", color = \"dodgerblue4\", fontname = \"Arial\", fontsize = \"10\"] \n\"6\"->\"11\" [label = \"46\", penwidth = \"1.01840184018402\", color = \"dodgerblue4\", fontname = \"Arial\", fontsize = \"10\"] \n\"11\"->\"11\" [label = \"15\", penwidth = \"1.00600060006001\", color = \"dodgerblue4\", fontname = \"Arial\", fontsize = \"10\"] \n\"12\"->\"12\" [label = \"1106\", penwidth = \"1.44244424442444\", color = \"dodgerblue4\", fontname = \"Arial\", fontsize = \"10\"] \n\"17\"->\"12\" [label = \"9999\", penwidth = \"5\", color = \"dodgerblue4\", fontname = \"Arial\", fontsize = \"10\"] \n\"13\"->\"13\" [label = \"3\", penwidth = \"1.001200120012\", color = \"dodgerblue4\", fontname = \"Arial\", fontsize = \"10\"] \n\"18\"->\"13\" [label = \"239\", penwidth = \"1.0956095609561\", color = \"dodgerblue4\", fontname = \"Arial\", fontsize = \"10\"] \n\"9\"->\"14\" [label = \"7743\", penwidth = \"4.0975097509751\", color = \"dodgerblue4\", fontname = \"Arial\", fontsize = \"10\"] \n\"11\"->\"14\" [label = \"30\", penwidth = \"1.01200120012001\", color = \"dodgerblue4\", fontname = \"Arial\", fontsize = \"10\"] \n\"13\"->\"14\" [label = \"8\", penwidth = \"1.003200320032\", color = \"dodgerblue4\", fontname = \"Arial\", fontsize = \"10\"] \n\"14\"->\"14\" [label = \"125\", penwidth = \"1.05000500050005\", color = \"dodgerblue4\", fontname = \"Arial\", fontsize = \"10\"] \n\"4\"->\"15\" [label = \"3\", penwidth = \"1.001200120012\", color = \"dodgerblue4\", fontname = \"Arial\", fontsize = \"10\"] \n\"5\"->\"15\" [label = \"28\", penwidth = \"1.01120112011201\", color = \"dodgerblue4\", fontname = \"Arial\", fontsize = \"10\"] \n\"6\"->\"15\" [label = \"514\", penwidth = \"1.20562056205621\", color = \"dodgerblue4\", fontname = \"Arial\", fontsize = \"10\"] \n\"13\"->\"15\" [label = \"72\", penwidth = \"1.02880288028803\", color = \"dodgerblue4\", fontname = \"Arial\", fontsize = \"10\"] \n\"14\"->\"15\" [label = \"52\", penwidth = \"1.02080208020802\", color = \"dodgerblue4\", fontname = \"Arial\", fontsize = \"10\"] \n\"15\"->\"15\" [label = \"15\", penwidth = \"1.00600060006001\", color = \"dodgerblue4\", fontname = \"Arial\", fontsize = \"10\"] \n\"2\"->\"16\" [label = \"5\", penwidth = \"1.00200020002\", color = \"dodgerblue4\", fontname = \"Arial\", fontsize = \"10\"] \n\"5\"->\"16\" [label = \"47\", penwidth = \"1.01880188018802\", color = \"dodgerblue4\", fontname = \"Arial\", fontsize = \"10\"] \n\"6\"->\"16\" [label = \"6\", penwidth = \"1.002400240024\", color = \"dodgerblue4\", fontname = \"Arial\", fontsize = \"10\"] \n\"9\"->\"16\" [label = \"3\", penwidth = \"1.001200120012\", color = \"dodgerblue4\", fontname = \"Arial\", fontsize = \"10\"] \n\"11\"->\"16\" [label = \"1\", penwidth = \"1.000400040004\", color = \"dodgerblue4\", fontname = \"Arial\", fontsize = \"10\"] \n\"12\"->\"16\" [label = \"1\", penwidth = \"1.000400040004\", color = \"dodgerblue4\", fontname = \"Arial\", fontsize = \"10\"] \n\"13\"->\"16\" [label = \"6\", penwidth = \"1.002400240024\", color = \"dodgerblue4\", fontname = \"Arial\", fontsize = \"10\"] \n\"14\"->\"16\" [label = \"11\", penwidth = \"1.004400440044\", color = \"dodgerblue4\", fontname = \"Arial\", fontsize = \"10\"] \n\"16\"->\"16\" [label = \"2\", penwidth = \"1.000800080008\", color = \"dodgerblue4\", fontname = \"Arial\", fontsize = \"10\"] \n\"18\"->\"16\" [label = \"8\", penwidth = \"1.003200320032\", color = \"dodgerblue4\", fontname = \"Arial\", fontsize = \"10\"] \n\"1\"->\"18\" [label = \"484\", penwidth = \"1.19361936193619\", color = \"dodgerblue4\", fontname = \"Arial\", fontsize = \"10\"] \n\"18\"->\"18\" [label = \"136\", penwidth = \"1.05440544054405\", color = \"dodgerblue4\", fontname = \"Arial\", fontsize = \"10\"] \n}","config":{"engine":"dot","options":null}},"evals":[],"jsHooks":[]}</script>
<ul>
<li>Dependency graphs and causal nets are described in this [Coursera Process Mining] lecture(<a href="https://www.coursera.org/lecture/process-mining/3-4-dependency-graphs-and-causal-nets-ozi0S" class="uri">https://www.coursera.org/lecture/process-mining/3-4-dependency-graphs-and-causal-nets-ozi0S</a>)</li>
</ul>
</div>
<div id="fuzzy-miner" class="section level3">
<h3><span class="header-section-number">8.5.2</span> Fuzzy miner</h3>
<ul>
<li>In the paper <a href="https://wwwis.win.tue.nl/~wvdaalst/publications/p914.pdfsection">Data-driven process discovery : revealing conditional
infrequent behavior from event logs</a> section 5.2, figure 6, fuzzymineR is demonstrated on the hospital billing data. Unfortunately, attempting to replicate that figure returns an <a href="https://github.com/nirmalpatel/fuzzymineR/issues/1">error</a>.</li>
</ul>
<div class="sourceCode" id="cb194"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb194-1" title="1">metrics &lt;-<span class="st"> </span>fuzzymineR<span class="op">::</span><span class="kw">mine_fuzzy_model</span>(eventdataR<span class="op">::</span>hospital_billing)</a></code></pre></div>
<pre><code>## 
  |                                                                            
  |                                                                      |   0%</code></pre>
<pre><code>## Error in apply(trace_events, 1, addEvent): dim(X) must have a positive length</code></pre>
<div class="sourceCode" id="cb197"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb197-1" title="1"><span class="co">#So that [fuzzymineR](https://github.com/nirmalpatel/fuzzymineR/blob/master/README.md) would operate [this](https://stackoverflow.com/a/27667945) setting was altered to the following value: `Sys.setenv(JAVA_HOME=&#39;C:\\Program Files (x86)\\Java\\jre1.8.0_231&#39;)`.</span></a></code></pre></div>
<ul>
<li>Due to the error we run the algorithm with the <code>eventdataR::traffic_fines</code> event log that is also demonstrated in <a href="https://wwwis.win.tue.nl/~wvdaalst/publications/p914.pdfsection">section 5.2</a>.</li>
</ul>
<div class="sourceCode" id="cb198"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb198-1" title="1"><span class="co"># Mine the fuzzy model</span></a>
<a class="sourceLine" id="cb198-2" title="2">metrics &lt;-<span class="st"> </span></a>
<a class="sourceLine" id="cb198-3" title="3"><span class="st">  </span>fuzzymineR<span class="op">::</span><span class="kw">mine_fuzzy_model</span>(eventdataR<span class="op">::</span>traffic_fines)</a></code></pre></div>
<ul>
<li>Then we can visualize the fuzzy model for a given set of <a href="http://citeseerx.ist.psu.edu/viewdoc/download?doi=10.1.1.81.1207&amp;rep=rep1&amp;type=pdf">parameters</a>.</li>
</ul>
<div class="sourceCode" id="cb199"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb199-1" title="1">p &lt;-<span class="st"> </span>fuzzymineR<span class="op">::</span><span class="kw">viz_fuzzy_model</span>(<span class="dt">metrics =</span> metrics,</a>
<a class="sourceLine" id="cb199-2" title="2">                            <span class="dt">node_sig_threshold =</span> <span class="dv">0</span>, </a>
<a class="sourceLine" id="cb199-3" title="3">                            <span class="dt">edge_sig_threshold =</span> <span class="fl">0.4</span>, </a>
<a class="sourceLine" id="cb199-4" title="4">                            <span class="dt">edge_sig_to_corr_ratio =</span> <span class="fl">0.75</span>, </a>
<a class="sourceLine" id="cb199-5" title="5">                            <span class="dt">preserve_threshold =</span> <span class="fl">0.4</span>)</a>
<a class="sourceLine" id="cb199-6" title="6"></a>
<a class="sourceLine" id="cb199-7" title="7">t &lt;-<span class="st"> </span>p<span class="op">$</span>x<span class="op">$</span>diagram</a>
<a class="sourceLine" id="cb199-8" title="8">t &lt;-<span class="st"> </span>stringr<span class="op">::</span><span class="kw">str_replace</span>(t,<span class="st">&#39;layout = </span><span class="ch">\&quot;</span><span class="st">dot&#39;</span>,<span class="st">&#39;layout = </span><span class="ch">\&quot;</span><span class="st">neato&#39;</span>)</a>
<a class="sourceLine" id="cb199-9" title="9">p<span class="op">$</span>x<span class="op">$</span>diagram &lt;-<span class="st"> </span>t</a>
<a class="sourceLine" id="cb199-10" title="10">p</a></code></pre></div>
<div id="htmlwidget-4ee99166abc2845ed292" style="width:672px;height:480px;" class="grViz html-widget"></div>
<script type="application/json" data-for="htmlwidget-4ee99166abc2845ed292">{"x":{"diagram":"digraph {\n\ngraph [layout = \"neato\",\n       outputorder = \"edgesfirst\",\n       bgcolor = \"white\",\n       rankdir = \"LR\"]\n\nnode [fontname = \"Helvetica\",\n      fontsize = \"10\",\n      shape = \"circle\",\n      fixedsize = \"true\",\n      width = \"0.5\",\n      style = \"filled\",\n      fillcolor = \"aliceblue\",\n      color = \"gray70\",\n      fontcolor = \"gray50\"]\n\nedge [fontname = \"Helvetica\",\n     fontsize = \"8\",\n     len = \"1.5\",\n     color = \"gray80\",\n     arrowsize = \"0.5\"]\n\n  \"1\" [label = \"Create Fine\\n(1)\", color = \"grey\", fontname = \"Arial\", fontsize = \"10\", fontcolor = \"black\", shape = \"rectangle\", style = \"rounded,filled\", fixedsize = \"FALSE\", penwidth = \"1.5\", tooltip = \"1\", fillcolor = \"#084594\"] \n  \"2\" [label = \"Payment\\n(0.718)\", color = \"grey\", fontname = \"Arial\", fontsize = \"10\", fontcolor = \"black\", shape = \"rectangle\", style = \"rounded,filled\", fixedsize = \"FALSE\", penwidth = \"1.5\", tooltip = \"0.718\", fillcolor = \"#4292C6\"] \n  \"3\" [label = \"Send Fine\\n(0.443)\", color = \"grey\", fontname = \"Arial\", fontsize = \"10\", fontcolor = \"black\", shape = \"rectangle\", style = \"rounded,filled\", fixedsize = \"FALSE\", penwidth = \"1.5\", tooltip = \"0.443\", fillcolor = \"#9ECAE1\"] \n  \"4\" [label = \"Insert Fine Notification\\n(0.261)\", color = \"grey\", fontname = \"Arial\", fontsize = \"10\", fontcolor = \"black\", shape = \"rectangle\", style = \"rounded,filled\", fixedsize = \"FALSE\", penwidth = \"1.5\", tooltip = \"0.261\", fillcolor = \"#C6DBEF\"] \n  \"5\" [label = \"Add penalty\\n(0.301)\", color = \"grey\", fontname = \"Arial\", fontsize = \"10\", fontcolor = \"black\", shape = \"rectangle\", style = \"rounded,filled\", fixedsize = \"FALSE\", penwidth = \"1.5\", tooltip = \"0.301\", fillcolor = \"#C6DBEF\"] \n  \"6\" [label = \"Send for Credit Collection\\n(0.669)\", color = \"grey\", fontname = \"Arial\", fontsize = \"10\", fontcolor = \"black\", shape = \"rectangle\", style = \"rounded,filled\", fixedsize = \"FALSE\", penwidth = \"1.5\", tooltip = \"0.669\", fillcolor = \"#4292C6\"] \n  \"7\" [label = \"Insert Date Appeal to Prefecture\\n(0.015)\", color = \"grey\", fontname = \"Arial\", fontsize = \"10\", fontcolor = \"black\", shape = \"rectangle\", style = \"rounded,filled\", fixedsize = \"FALSE\", penwidth = \"1.5\", tooltip = \"0.015\", fillcolor = \"#F7FBFF\"] \n  \"8\" [label = \"Send Appeal to Prefecture\\n(0.345)\", color = \"grey\", fontname = \"Arial\", fontsize = \"10\", fontcolor = \"black\", shape = \"rectangle\", style = \"rounded,filled\", fixedsize = \"FALSE\", penwidth = \"1.5\", tooltip = \"0.345\", fillcolor = \"#C6DBEF\"] \n  \"9\" [label = \"Receive Result Appeal from Prefecture\\n(0.032)\", color = \"grey\", fontname = \"Arial\", fontsize = \"10\", fontcolor = \"black\", shape = \"rectangle\", style = \"rounded,filled\", fixedsize = \"FALSE\", penwidth = \"1.5\", tooltip = \"0.032\", fillcolor = \"#F7FBFF\"] \n  \"10\" [label = \"Notify Result Appeal to Offender\\n(0.136)\", color = \"grey\", fontname = \"Arial\", fontsize = \"10\", fontcolor = \"black\", shape = \"rectangle\", style = \"rounded,filled\", fixedsize = \"FALSE\", penwidth = \"1.5\", tooltip = \"0.136\", fillcolor = \"#DEEBF7\"] \n  \"11\" [label = \"Appeal to Judge\\n(0.098)\", color = \"grey\", fontname = \"Arial\", fontsize = \"10\", fontcolor = \"black\", shape = \"rectangle\", style = \"rounded,filled\", fixedsize = \"FALSE\", penwidth = \"1.5\", tooltip = \"0.098\", fillcolor = \"#DEEBF7\"] \n\"1\"->\"2\" [label = \"37.73%\", penwidth = \"0.377250555673509\", fontname = \"Arial\", color = \"blue\"] \n\"1\"->\"3\" [label = \"62.27%\", penwidth = \"0.622749444326491\", fontname = \"Arial\", color = \"blue\"] \n\"2\"->\"2\" [label = \"59.73%\", penwidth = \"0.597262982144962\", fontname = \"Arial\", color = \"blue\"] \n\"2\"->\"6\" [label = \"40.27%\", penwidth = \"0.402737017855038\", fontname = \"Arial\", color = \"blue\"] \n\"3\"->\"4\" [label = \"81.86%\", penwidth = \"0.818565421715413\", fontname = \"Arial\", color = \"blue\"] \n\"3\"->\"7\" [label = \"18.14%\", penwidth = \"0.25\", fontname = \"Arial\", color = \"blue\"] \n\"4\"->\"5\" [label = \"100%\", penwidth = \"1\", fontname = \"Arial\", color = \"blue\"] \n\"5\"->\"6\" [label = \"100%\", penwidth = \"1\", fontname = \"Arial\", color = \"blue\"] \n\"6\"->\"8\" [label = \"100%\", penwidth = \"1\", fontname = \"Arial\", color = \"blue\"] \n\"7\"->\"8\" [label = \"100%\", penwidth = \"1\", fontname = \"Arial\", color = \"blue\"] \n\"8\"->\"9\" [label = \"100%\", penwidth = \"1\", fontname = \"Arial\", color = \"blue\"] \n\"9\"->\"10\" [label = \"100%\", penwidth = \"1\", fontname = \"Arial\", color = \"blue\"] \n\"10\"->\"11\" [label = \"100%\", penwidth = \"1\", fontname = \"Arial\", color = \"blue\"] \n\"11\"->\"6\" [label = \"100%\", penwidth = \"1\", fontname = \"Arial\", color = \"blue\"] \n}","config":{"engine":"dot","options":null}},"evals":[],"jsHooks":[]}</script>
<ul>
<li>Which can be compared to the full complex process map for traffic fines to determine if the fuzzymineR map is useful for process discovery.</li>
</ul>
<div class="sourceCode" id="cb200"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb200-1" title="1">eventdataR<span class="op">::</span>traffic_fines <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb200-2" title="2"><span class="st">  </span>processmapR<span class="op">::</span><span class="kw">process_map</span>(<span class="dt">type =</span> <span class="kw">frequency</span>(<span class="st">&quot;absolute&quot;</span>))</a></code></pre></div>
<div id="htmlwidget-be51553785f20ff656b3" style="width:672px;height:480px;" class="grViz html-widget"></div>
<script type="application/json" data-for="htmlwidget-be51553785f20ff656b3">{"x":{"diagram":"digraph {\n\ngraph [layout = \"dot\",\n       outputorder = \"edgesfirst\",\n       bgcolor = \"white\",\n       rankdir = \"LR\"]\n\nnode [fontname = \"Helvetica\",\n      fontsize = \"10\",\n      shape = \"circle\",\n      fixedsize = \"true\",\n      width = \"0.5\",\n      style = \"filled\",\n      fillcolor = \"aliceblue\",\n      color = \"gray70\",\n      fontcolor = \"gray50\"]\n\nedge [fontname = \"Helvetica\",\n     fontsize = \"8\",\n     len = \"1.5\",\n     color = \"gray80\",\n     arrowsize = \"0.5\"]\n\n  \"1\" [label = \"Add penalty\n4635\", shape = \"rectangle\", style = \"rounded,filled\", fontcolor = \"black\", color = \"grey\", tooltip = \"Add penalty\n4635\", penwidth = \"1.5\", fixedsize = \"FALSE\", fontname = \"Arial\", fontsize = \"10\", fillcolor = \"#A6BDDB\"] \n  \"2\" [label = \"Appeal to Judge\n19\", shape = \"rectangle\", style = \"rounded,filled\", fontcolor = \"black\", color = \"grey\", tooltip = \"Appeal to Judge\n19\", penwidth = \"1.5\", fixedsize = \"FALSE\", fontname = \"Arial\", fontsize = \"10\", fillcolor = \"#FFF7FB\"] \n  \"3\" [label = \"Create Fine\n10000\", shape = \"rectangle\", style = \"rounded,filled\", fontcolor = \"white\", color = \"grey\", tooltip = \"Create Fine\n10000\", penwidth = \"1.5\", fixedsize = \"FALSE\", fontname = \"Arial\", fontsize = \"10\", fillcolor = \"#034E7B\"] \n  \"4\" [label = \"End\", shape = \"circle\", style = \"rounded,filled\", fontcolor = \"brown4\", color = \"brown4\", tooltip = \"End\n10000\", penwidth = \"1.5\", fixedsize = \"FALSE\", fontname = \"Arial\", fontsize = \"10\", fillcolor = \"#FFFFFF\"] \n  \"5\" [label = \"Insert Date Appeal to Prefecture\n232\", shape = \"rectangle\", style = \"rounded,filled\", fontcolor = \"black\", color = \"grey\", tooltip = \"Insert Date Appeal to Prefecture\n232\", penwidth = \"1.5\", fixedsize = \"FALSE\", fontname = \"Arial\", fontsize = \"10\", fillcolor = \"#FFF7FB\"] \n  \"6\" [label = \"Insert Fine Notification\n4635\", shape = \"rectangle\", style = \"rounded,filled\", fontcolor = \"black\", color = \"grey\", tooltip = \"Insert Fine Notification\n4635\", penwidth = \"1.5\", fixedsize = \"FALSE\", fontname = \"Arial\", fontsize = \"10\", fillcolor = \"#A6BDDB\"] \n  \"7\" [label = \"Notify Result Appeal to Offender\n54\", shape = \"rectangle\", style = \"rounded,filled\", fontcolor = \"black\", color = \"grey\", tooltip = \"Notify Result Appeal to Offender\n54\", penwidth = \"1.5\", fixedsize = \"FALSE\", fontname = \"Arial\", fontsize = \"10\", fillcolor = \"#FFF7FB\"] \n  \"8\" [label = \"Payment\n4910\", shape = \"rectangle\", style = \"rounded,filled\", fontcolor = \"black\", color = \"grey\", tooltip = \"Payment\n4910\", penwidth = \"1.5\", fixedsize = \"FALSE\", fontname = \"Arial\", fontsize = \"10\", fillcolor = \"#A6BDDB\"] \n  \"9\" [label = \"Receive Result Appeal from Prefecture\n55\", shape = \"rectangle\", style = \"rounded,filled\", fontcolor = \"black\", color = \"grey\", tooltip = \"Receive Result Appeal from Prefecture\n55\", penwidth = \"1.5\", fixedsize = \"FALSE\", fontname = \"Arial\", fontsize = \"10\", fillcolor = \"#FFF7FB\"] \n  \"10\" [label = \"Send Appeal to Prefecture\n227\", shape = \"rectangle\", style = \"rounded,filled\", fontcolor = \"black\", color = \"grey\", tooltip = \"Send Appeal to Prefecture\n227\", penwidth = \"1.5\", fixedsize = \"FALSE\", fontname = \"Arial\", fontsize = \"10\", fillcolor = \"#FFF7FB\"] \n  \"11\" [label = \"Send Fine\n6570\", shape = \"rectangle\", style = \"rounded,filled\", fontcolor = \"white\", color = \"grey\", tooltip = \"Send Fine\n6570\", penwidth = \"1.5\", fixedsize = \"FALSE\", fontname = \"Arial\", fontsize = \"10\", fillcolor = \"#3690C0\"] \n  \"12\" [label = \"Send for Credit Collection\n3387\", shape = \"rectangle\", style = \"rounded,filled\", fontcolor = \"black\", color = \"grey\", tooltip = \"Send for Credit Collection\n3387\", penwidth = \"1.5\", fixedsize = \"FALSE\", fontname = \"Arial\", fontsize = \"10\", fillcolor = \"#D0D1E6\"] \n  \"13\" [label = \"Start\", shape = \"circle\", style = \"rounded,filled\", fontcolor = \"chartreuse4\", color = \"chartreuse4\", tooltip = \"Start\n10000\", penwidth = \"1.5\", fixedsize = \"FALSE\", fontname = \"Arial\", fontsize = \"10\", fillcolor = \"#FFFFFF\"] \n\"1\"->\"5\" [label = \"41\", penwidth = \"1.0164\", color = \"dodgerblue4\", fontname = \"Arial\", fontsize = \"10\"] \n\"1\"->\"7\" [label = \"3\", penwidth = \"1.0012\", color = \"dodgerblue4\", fontname = \"Arial\", fontsize = \"10\"] \n\"1\"->\"8\" [label = \"1117\", penwidth = \"1.4468\", color = \"dodgerblue4\", fontname = \"Arial\", fontsize = \"10\"] \n\"1\"->\"9\" [label = \"15\", penwidth = \"1.006\", color = \"dodgerblue4\", fontname = \"Arial\", fontsize = \"10\"] \n\"1\"->\"10\" [label = \"171\", penwidth = \"1.0684\", color = \"dodgerblue4\", fontname = \"Arial\", fontsize = \"10\"] \n\"1\"->\"12\" [label = \"3288\", penwidth = \"2.3152\", color = \"dodgerblue4\", fontname = \"Arial\", fontsize = \"10\"] \n\"2\"->\"1\" [label = \"13\", penwidth = \"1.0052\", color = \"dodgerblue4\", fontname = \"Arial\", fontsize = \"10\"] \n\"2\"->\"4\" [label = \"5\", penwidth = \"1.002\", color = \"dodgerblue4\", fontname = \"Arial\", fontsize = \"10\"] \n\"2\"->\"5\" [label = \"1\", penwidth = \"1.0004\", color = \"dodgerblue4\", fontname = \"Arial\", fontsize = \"10\"] \n\"3\"->\"8\" [label = \"3443\", penwidth = \"2.3772\", color = \"dodgerblue4\", fontname = \"Arial\", fontsize = \"10\"] \n\"3\"->\"11\" [label = \"6557\", penwidth = \"3.6228\", color = \"dodgerblue4\", fontname = \"Arial\", fontsize = \"10\"] \n\"5\"->\"1\" [label = \"170\", penwidth = \"1.068\", color = \"dodgerblue4\", fontname = \"Arial\", fontsize = \"10\"] \n\"5\"->\"6\" [label = \"1\", penwidth = \"1.0004\", color = \"dodgerblue4\", fontname = \"Arial\", fontsize = \"10\"] \n\"5\"->\"8\" [label = \"3\", penwidth = \"1.0012\", color = \"dodgerblue4\", fontname = \"Arial\", fontsize = \"10\"] \n\"5\"->\"9\" [label = \"5\", penwidth = \"1.002\", color = \"dodgerblue4\", fontname = \"Arial\", fontsize = \"10\"] \n\"5\"->\"10\" [label = \"53\", penwidth = \"1.0212\", color = \"dodgerblue4\", fontname = \"Arial\", fontsize = \"10\"] \n\"6\"->\"1\" [label = \"4417\", penwidth = \"2.7668\", color = \"dodgerblue4\", fontname = \"Arial\", fontsize = \"10\"] \n\"6\"->\"2\" [label = \"14\", penwidth = \"1.0056\", color = \"dodgerblue4\", fontname = \"Arial\", fontsize = \"10\"] \n\"6\"->\"5\" [label = \"188\", penwidth = \"1.0752\", color = \"dodgerblue4\", fontname = \"Arial\", fontsize = \"10\"] \n\"6\"->\"8\" [label = \"16\", penwidth = \"1.0064\", color = \"dodgerblue4\", fontname = \"Arial\", fontsize = \"10\"] \n\"7\"->\"1\" [label = \"3\", penwidth = \"1.0012\", color = \"dodgerblue4\", fontname = \"Arial\", fontsize = \"10\"] \n\"7\"->\"2\" [label = \"5\", penwidth = \"1.002\", color = \"dodgerblue4\", fontname = \"Arial\", fontsize = \"10\"] \n\"7\"->\"4\" [label = \"1\", penwidth = \"1.0004\", color = \"dodgerblue4\", fontname = \"Arial\", fontsize = \"10\"] \n\"7\"->\"8\" [label = \"24\", penwidth = \"1.0096\", color = \"dodgerblue4\", fontname = \"Arial\", fontsize = \"10\"] \n\"7\"->\"9\" [label = \"1\", penwidth = \"1.0004\", color = \"dodgerblue4\", fontname = \"Arial\", fontsize = \"10\"] \n\"7\"->\"12\" [label = \"20\", penwidth = \"1.008\", color = \"dodgerblue4\", fontname = \"Arial\", fontsize = \"10\"] \n\"8\"->\"1\" [label = \"18\", penwidth = \"1.0072\", color = \"dodgerblue4\", fontname = \"Arial\", fontsize = \"10\"] \n\"8\"->\"4\" [label = \"4535\", penwidth = \"2.814\", color = \"dodgerblue4\", fontname = \"Arial\", fontsize = \"10\"] \n\"8\"->\"6\" [label = \"1\", penwidth = \"1.0004\", color = \"dodgerblue4\", fontname = \"Arial\", fontsize = \"10\"] \n\"8\"->\"8\" [label = \"264\", penwidth = \"1.1056\", color = \"dodgerblue4\", fontname = \"Arial\", fontsize = \"10\"] \n\"8\"->\"9\" [label = \"1\", penwidth = \"1.0004\", color = \"dodgerblue4\", fontname = \"Arial\", fontsize = \"10\"] \n\"8\"->\"11\" [label = \"13\", penwidth = \"1.0052\", color = \"dodgerblue4\", fontname = \"Arial\", fontsize = \"10\"] \n\"8\"->\"12\" [label = \"78\", penwidth = \"1.0312\", color = \"dodgerblue4\", fontname = \"Arial\", fontsize = \"10\"] \n\"9\"->\"1\" [label = \"2\", penwidth = \"1.0008\", color = \"dodgerblue4\", fontname = \"Arial\", fontsize = \"10\"] \n\"9\"->\"7\" [label = \"51\", penwidth = \"1.0204\", color = \"dodgerblue4\", fontname = \"Arial\", fontsize = \"10\"] \n\"9\"->\"8\" [label = \"1\", penwidth = \"1.0004\", color = \"dodgerblue4\", fontname = \"Arial\", fontsize = \"10\"] \n\"9\"->\"12\" [label = \"1\", penwidth = \"1.0004\", color = \"dodgerblue4\", fontname = \"Arial\", fontsize = \"10\"] \n\"10\"->\"1\" [label = \"12\", penwidth = \"1.0048\", color = \"dodgerblue4\", fontname = \"Arial\", fontsize = \"10\"] \n\"10\"->\"4\" [label = \"182\", penwidth = \"1.0728\", color = \"dodgerblue4\", fontname = \"Arial\", fontsize = \"10\"] \n\"10\"->\"9\" [label = \"33\", penwidth = \"1.0132\", color = \"dodgerblue4\", fontname = \"Arial\", fontsize = \"10\"] \n\"11\"->\"4\" [label = \"1893\", penwidth = \"1.7572\", color = \"dodgerblue4\", fontname = \"Arial\", fontsize = \"10\"] \n\"11\"->\"5\" [label = \"2\", penwidth = \"1.0008\", color = \"dodgerblue4\", fontname = \"Arial\", fontsize = \"10\"] \n\"11\"->\"6\" [label = \"4633\", penwidth = \"2.8532\", color = \"dodgerblue4\", fontname = \"Arial\", fontsize = \"10\"] \n\"11\"->\"8\" [label = \"42\", penwidth = \"1.0168\", color = \"dodgerblue4\", fontname = \"Arial\", fontsize = \"10\"] \n\"12\"->\"4\" [label = \"3384\", penwidth = \"2.3536\", color = \"dodgerblue4\", fontname = \"Arial\", fontsize = \"10\"] \n\"12\"->\"10\" [label = \"3\", penwidth = \"1.0012\", color = \"dodgerblue4\", fontname = \"Arial\", fontsize = \"10\"] \n\"13\"->\"3\" [label = \"10000\", penwidth = \"5\", color = \"dodgerblue4\", fontname = \"Arial\", fontsize = \"10\"] \n}","config":{"engine":"dot","options":null}},"evals":[],"jsHooks":[]}</script>

</div>
</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="animation.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="tables.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/rstudio/bookdown-demo/edit/master/06-process_mining.Rmd",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"download": ["bookdown-demo.pdf", "bookdown-demo.epub"],
"toc": {
"collapse": "subsection"
}
});
});
</script>

</body>

</html>
